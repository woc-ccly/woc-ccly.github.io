<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta name="generator" content=
"HTML Tidy for HTML5 for Linux version 5.2.0" />
<meta charset="utf-8" />
<meta name="generator" content="ReSpec 24.2.0" />
<meta name="viewport" content=
"width=device-width, initial-scale=1, shrink-to-fit=no" />
<style>
<![CDATA[
/* --- EXAMPLES --- */
span.example-title {
    text-transform: none;
}
aside.example, div.example, div.illegal-example {
    padding: 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
div.illegal-example { color: red }
div.illegal-example p { color: black }
aside.example, div.example {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
    border-color: #e0cb52;
    background: #fcfaee;
}

aside.example div.example {
    border-left-width: .1em;
    border-color: #999;
    background: #fff;
}
aside.example div.example span.example-title {
    color: #999;
}
]]>
</style>

<style>
<![CDATA[
/* --- ISSUES/NOTES --- */
div.issue-title, div.note-title , div.ednote-title, div.warning-title {
    padding-right:  1em;
    min-width: 7.5em;
    color: #b9ab2d;
}
div.issue-title { color: #e05252; }
div.note-title, div.ednote-title { color: #2b2; }
div.warning-title { color: #f22; }
div.issue-title span, div.note-title span, div.ednote-title span, div.warning-title span {
    text-transform: uppercase;
}
div.note, div.issue, div.ednote, div.warning {
    margin-top: 1em;
    margin-bottom: 1em;
}
.note > p:first-child, .ednote > p:first-child, .issue > p:first-child, .warning > p:first-child { margin-top: 0 }
.issue, .note, .ednote, .warning {
    padding: .5em;
    border-left-width: .5em;
    border-left-style: solid;
}
div.issue, div.note , div.ednote,  div.warning {
    padding: 1em 1.2em 0.5em;
    margin: 1em 0;
    position: relative;
    clear: both;
}
span.note, span.ednote, span.issue, span.warning { padding: .1em .5em .15em; }

.issue {
    border-color: #e05252;
    background: #fbe9e9;
}
.issue.closed span.issue-number {
    text-decoration: line-through;
}

.note, .ednote {
    border-color: #52e052;
    background: #e9fbe9;
}

.warning {
    border-color: #f11;
    border-width: .2em;
    border-style: solid;
    background: #fbe9e9;
}

.warning-title:before{
    content: "⚠"; /*U+26A0 WARNING SIGN*/
    font-size: 3em;
    float: left;
    height: 100%;
    padding-right: .3em;
    vertical-align: top;
    margin-top: -0.5em;
}

li.task-list-item {
    list-style: none;
}

input.task-list-item-checkbox {
    margin: 0 0.35em 0.25em -1.6em;
    vertical-align: middle;
}

.issue a.respec-gh-label {
  padding: 5px;
  margin: 0 2px 0 2px;
  font-size: 10px;
  text-transform: none;
  text-decoration: none;
  font-weight: bold;
  border-radius: 4px;
  position: relative;
  bottom: 2px;
}

.issue a.respec-label-dark {
  color: #fff;
  background-color: #000;
}

.issue a.respec-label-light {
  color: #000;
  background-color: #fff;
}
]]>
</style>
<title>Web of Things (WoT) Thing Description</title>

<style id="respec-mainstyle">
<![CDATA[
/*****************************************************************
 * ReSpec 3 CSS
 * Robin Berjon - http://berjon.com/
 *****************************************************************/

/* Override code highlighter background */
.hljs {
  background: transparent !important;
}

/* --- INLINES --- */
h1 abbr,
h2 abbr,
h3 abbr,
h4 abbr,
h5 abbr,
h6 abbr,
a abbr {
  border: none;
}

dfn {
  font-weight: bold;
}

a.internalDFN {
  color: inherit;
  border-bottom: 1px solid #99c;
  text-decoration: none;
}

a.externalDFN {
  color: inherit;
  border-bottom: 1px dotted #ccc;
  text-decoration: none;
}

a.bibref {
  text-decoration: none;
}

#references :target {
  background: #eaf3ff;
}

cite .bibref {
  font-style: normal;
}

code {
  color: #c83500;
}

th code {
  color: inherit;
}

/* --- TOC --- */

.toc a,
.tof a {
  text-decoration: none;
}

a .secno,
a .figno {
  color: #000;
}

ul.tof,
ol.tof {
  list-style: none outside none;
}

.caption {
  margin-top: 0.5em;
  font-style: italic;
}

/* --- TABLE --- */

table.simple {
  border-spacing: 0;
  border-collapse: collapse;
  border-bottom: 3px solid #005a9c;
}

.simple th {
  background: #005a9c;
  color: #fff;
  padding: 3px 5px;
  text-align: left;
}

.simple th[scope="row"] {
  background: inherit;
  color: inherit;
  border-top: 1px solid #ddd;
}

.simple td {
  padding: 3px 10px;
  border-top: 1px solid #ddd;
}

.simple tr:nth-child(even) {
  background: #f0f6ff;
}

/* --- DL --- */

.section dd>p:first-child {
  margin-top: 0;
}

.section dd>p:last-child {
  margin-bottom: 0;
}

.section dd {
  margin-bottom: 1em;
}

.section dl.attrs dd,
.section dl.eldef dd {
  margin-bottom: 0;
}

#issue-summary>ul,
.respec-dfn-list {
  column-count: 2;
}

#issue-summary li,
.respec-dfn-list li {
  list-style: none;
}

details.respec-tests-details {
  margin-left: 1em;
  display: inline-block;
  vertical-align: top;
}

details.respec-tests-details>* {
  padding-right: 2em;
}

details.respec-tests-details[open] {
  z-index: 999999;
  position: absolute;
  border: thin solid #cad3e2;
  border-radius: 0.3em;
  background-color: white;
  padding-bottom: 0.5em;
}

details.respec-tests-details[open]>summary {
  border-bottom: thin solid #cad3e2;
  padding-left: 1em;
  margin-bottom: 1em;
  line-height: 2em;
}

details.respec-tests-details>ul {
  width: 100%;
  margin-top: -0.3em;
}

details.respec-tests-details>li {
  padding-left: 1em;
}

a[href].self-link:hover {
  opacity: 1;
  text-decoration: none;
  background-color: transparent;
}

h2,
h3,
h4,
h5,
h6 {
  position: relative;
}

aside.example .marker > a.self-link {
  color: inherit;
}

h2>a.self-link,
h3>a.self-link,
h4>a.self-link,
h5>a.self-link,
h6>a.self-link {
  border: none;
  color: inherit;
  font-size: 83%;
  height: 2em;
  left: -1.6em;
  opacity: .5;
  position: absolute;
  text-align: center;
  text-decoration: none;
  top: 0;
  transition: opacity .2s;
  width: 2em;
}

h2>a.self-link::before,
h3>a.self-link::before,
h4>a.self-link::before,
h5>a.self-link::before,
h6>a.self-link::before {
  content: "§";
  display: block;
}

@media (max-width: 767px) {
  dd {
    margin-left: 0;
  }

  /* Don't position self-link in headings off-screen */
  h2>a.self-link,
  h3>a.self-link,
  h4>a.self-link,
  h5>a.self-link,
  h6>a.self-link {
    left: auto;
    top: auto;
  }
}

@media print {
  .removeOnSave {
    display: none;
  }
}
]]>
</style>

<style>
<![CDATA[
/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/

.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8;
}

.hljs-comment,
.hljs-quote {
  color: #998;
  font-style: italic;
}

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #333;
  font-weight: bold;
}

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  color: #008080;
}

.hljs-string,
.hljs-doctag {
  color: #d14;
}

.hljs-title,
.hljs-section,
.hljs-selector-id {
  color: #900;
  font-weight: bold;
}

.hljs-subst {
  font-weight: normal;
}

.hljs-type,
.hljs-class .hljs-title {
  color: #458;
  font-weight: bold;
}

.hljs-tag,
.hljs-name,
.hljs-attribute {
  color: #000080;
  font-weight: normal;
}

.hljs-regexp,
.hljs-link {
  color: #009926;
}

.hljs-symbol,
.hljs-bullet {
  color: #990073;
}

.hljs-built_in,
.hljs-builtin-name {
  color: #0086b3;
}

.hljs-meta {
  color: #999;
  font-weight: bold;
}

.hljs-deletion {
  background: #fdd;
}

.hljs-addition {
  background: #dfd;
}

.hljs-emphasis {
  font-style: italic;
}

.hljs-strong {
  font-weight: bold;
}
]]>
</style>

<style>
<![CDATA[
.example {
                border-color: #EA1252;
                background: #FEF11E;
                counter-increment: example;
                overflow: auto;
                clear: both;
        }
]]>
</style>
<!-- BEGIN EXTRA TABS -->

<script>
<![CDATA[
  // Add example button selection logic
  document.addEventListener("DOMContentLoaded", () => {
    for (const button of document.querySelectorAll(".ds-selector-tabs .selectors button")) {
      button.onclick = () => {
        const ex = button.closest(".ds-selector-tabs");
        ex.querySelector("button.selected").classList.remove("selected");
        ex.querySelector(".selected").classList.remove("selected");
        button.classList.add('selected');
        ex.querySelector("." + button.dataset.selects).classList.add("selected");
      }
    }
  })
]]>
</script>
<style>
<![CDATA[
  /* example tab selection */
  .ds-selector-tabs {
    padding-bottom: 2em;
  }
  .ds-selector-tabs .selectors {
    padding: 0;
    border-bottom: 1px solid #ccc;
    height: 28px;
  }
  .ds-selector-tabs .selectors button {
    display: inline-block;
    min-width: 54px;
    text-align: center;
    font-size: 11px;
    font-weight: bold;
    height: 27px;
    padding: 0 8px;
    line-height: 27px;
    transition: all,0.218s;
    border-top-right-radius: 2px;
    border-top-left-radius: 2px;
    color: #666;
    border: 1px solid transparent;
  }
  .ds-selector-tabs .selectors button:first-child {
    margin-left: 2px;
  }
  .ds-selector-tabs .selectors button.selected {
    color: #202020 !important;
    border: 1px solid #ccc;
    border-bottom: 1px solid #fff !important;
  }
  .ds-selector-tabs .selectors button:hover {
    background-color: transparent;
    color: #202020;
    cursor: pointer;
  }
  .ds-selector-tabs pre, .ds-selector-tabs table {
    display: none;
  }
  .ds-selector-tabs pre.selected, .ds-selector-tabs table.selected {
    display: block;
  }
  a.playground {
    display: inline-block;
    width: 150px;
    border: 1px solid transparent;
    border-top-right-radius: 2px;
    border-top-left-radius: 2px;
    background-color: rgb(192, 192, 192);
    text-decoration: none;
    font-size: 13px;
    margin-bottom: 10px;
  }
  a[href].playground {
    padding: 4px 0 3px 8px;
    border-bottom: none;
    text-decoration: none;
    color: #666;
  }
]]>
</style>
<!-- END EXTRA TABS -->
<link rel="stylesheet" href=
"https://www.w3.org/StyleSheets/TR/2016/W3C-ED" />
<link rel="canonical" href=
"https://www.w3.org/TR/wot-thing-description/" />
<script id="initialUserConfig" type="application/json">
<![CDATA[
{
  "specStatus": "ED",
  "processVersion": 2017,
  "shortName": "wot-thing-description",
  "copyrightStart": 2017,
  "noLegacyStyle": true,
  "inlineCSS": true,
  "noIDLIn": true,
  "format": "markdown",
  "wg": "Web of Things Working Group",
  "wgURI": "https://www.w3.org/WoT/WG/",
  "wgPublicList": "public-wot-wg",
  "edDraftURI": "https://w3c.github.io/wot-thing-description/",
  "githubAPI": "https://api.github.com/repos/w3c/wot-thing-description",
  "issueBase": "https://www.github.com/w3c/wot-thing-description/issues",
  "editors": [
    {
      "name": "Sebastian Kaebisch",
      "w3cid": "43064",
      "company": "Siemens AG",
      "companyURL": "https://www.siemens.com/"
    },
    {
      "name": "Takuki Kamiya",
      "w3cid": "29376",
      "company": "Fujitsu Laboratories of America, Inc.",
      "companyURL": "https://www.fujitsu.com/"
    }
  ],
  "localBiblio": {
    "JSON-SCHEMA-VALIDATION": {
      "title": "JSON Schema Validation: A Vocabulary for Structural Validation of JSON",
      "href": "https://tools.ietf.org/html/draft-handrews-json-schema-validation-00",
      "authors": [
        "Austin Wright",
        "Henry Andrews",
        "Geraint Luff"
      ],
      "status": "Internet-Draft",
      "publisher": "IETF",
      "id": "json-schema-validation"
    },
    "JSON-SCHEMA-CORE": {
      "title": "JSON Schema: A Media Type for Describing JSON Documents",
      "href": "https://tools.ietf.org/html/draft-handrews-json-schema-00",
      "authors": [
        "Austin Wright",
        "Henry Andrews"
      ],
      "status": "Internet-Draft",
      "publisher": "IETF"
    },
    "OPENAPI": {
      "title": "OpenAPI Specification: Version 3.0.1",
      "href": "https://swagger.io/specification/",
      "authors": [
        "Darrel Miller",
        "Jason Harmon",
        "Jeremy Whitlock",
        "Kris Hahn",
        "Marsh Gardiner",
        "Mike Ralphson",
        "Rob Dolin",
        "Ron Ratovsky",
        "Tony Tam"
      ],
      "publisher": "OpenAPI Initiative, Linux Foundation",
      "date": "7 December 2017",
      "id": "openapi"
    },
    "SemVer": {
      "title": "Semantic Versioning 2.0.0",
      "href": "https://semver.org/",
      "authors": [
        "Tom Preston-Werner"
      ],
      "date": "26 December 2017",
      "id": "semver"
    },
    "BCP47": {
      "title": "Tags for Identifying Languages",
      "href": "https://tools.ietf.org/html/bcp47",
      "authors": [
        "A. Phillips",
        "M. Davis"
      ],
      "date": "2009",
      "status": "Request for Comments",
      "publisher": "IETF",
      "id": "bcp47"
    },
    "MEDIATYPES": {
      "title": "Media Types",
      "href": "https://www.iana.org/assignments/media-types/media-types.xhtml",
      "publisher": "IANA",
      "id": "mediatypes"
    },
    "WOT-ARCHITECTURE": {
      "title": "Web of Things Architecture",
      "href": "https://w3c.github.io/wot-architecture/",
      "authors": [
        "Kazuo Kajimoto",
        "Matthias Kovatsch",
        "Uday Davuluru"
      ],
      "publisher": "W3C",
      "date": "20 August 2017",
      "id": "wot-architecture"
    },
    "WOT-SECURITY-CONSIDERATIONS": {
      "title": "Web of Things Security and Privacy Considerations",
      "href": "https://w3c.github.io/wot-security/",
      "authors": [
        null,
        "Michael McCool",
        "Elena Reshetova"
      ],
      "publisher": "W3C",
      "date": "28 August 2017",
      "id": "wot-security-considerations"
    },
    "WOT-SECURITY-BEST-PRACTICES": {
      "title": "Web of Things Security and Privacy Best Practices (WIP)",
      "href": "https://github.com/w3c/wot-security/blob/master/wot-security-best-practices.md",
      "authors": [
        null,
        "Michael McCool",
        "Elena Reshetova"
      ],
      "publisher": "W3C",
      "date": "WIP",
      "id": "wot-security-best-practices"
    },
    "WOT-PROTOCOL-BINDING": {
      "title": "Web of Things Protocol Binding Templates",
      "href": "https://w3c.github.io/wot-binding-templates/",
      "authors": [
        "Michael Koster"
      ],
      "publisher": "W3C",
      "date": "12 January 2018",
      "id": "wot-protocol-binding"
    }
  },
  "otherLinks": [
    {
      "key": "Contributors",
      "data": [
        {
          "value": "In the GitHub repository",
          "href": "https://github.com/w3c/wot-thing-description/graphs/contributors"
        }
      ]
    },
    {
      "key": "Repository",
      "data": [
        {
          "value": "We are on GitHub",
          "href": "https://github.com/w3c/wot-thing-description/"
        },
        {
          "value": "File a bug",
          "href": "https://github.com/w3c/wot-thing-description/issues"
        }
      ]
    }
  ],
  "publishISODate": "2019-01-16T00:00:00.000Z",
  "generatedSubtitle": "Editor's Draft 16 January 2019"
}
]]>
</script>
<meta name="description" content=
"This document describes a formal model and a common representation for a Web of Things (WoT) Thing Description. A Thing Description describes the metadata and interfaces of Things, where a Thing is an abstraction of a physical or virtual entity that provides interactions to and participates in the Web of Things. Thing Descriptions provide a set of interactions based on a small vocabulary that makes it possible both to integrate diverse devices and to allow diverse applications to interoperate. Thing Descriptions, by default, are encoded in a JSON format that also allows JSON-LD processing. The latter provides a powerful foundation to represent knowledge about Things in a machine-understandable way. A Thing Description instance can be hosted by the Thing itself or hosted externally when a Thing has resource restrictions (e.g., limited memory space) or when a Web of Things-compatible legacy device is retrofitted with a Thing Description." />
<style type='text/css'>
.diff-old-a {
  font-size: smaller;
  color: red;
}

.diff-new { background-color: yellow; }
.diff-chg { background-color: lime; }
.diff-new:before,
.diff-new:after
    { content: "\2191" }
.diff-chg:before, .diff-chg:after
    { content: "\2195" }
.diff-old { text-decoration: line-through; background-color: #FBB; }
.diff-old:before,
.diff-old:after
    { content: "\2193" }
:focus { border: thin red solid}
</style>
</head>
<body class="h-entry toc-inline">
<div class="head">
<a href="https://www.w3.org/" class= "logo">
<img alt="W3C" src= "https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72" height="48" />
</a>
<h1 id="title" class="title p-name">
Web
of
Things
(WoT)
Thing
Description
</h1>
<h2>
<abbr title="World Wide Web Consortium">
W3C
</abbr>
<del class="diff-old">Working
</del>
<ins class="diff-chg">Editor's
</ins>
Draft
<del class="diff-old">21
October
2018
</del>
<time class="dt-published" datetime="2019-01-16">
<ins class="diff-chg">16
January
2019
</ins>
</time>
</h2>
<dl>
<dt>
This
version:
</dt>
<dd>
<del class="diff-old">https://www.w3.org/TR/2018/WD-wot-thing-description-20181021/
</del>
<a class="u-url" href= "https://w3c.github.io/wot-thing-description/">
<ins class="diff-chg">https://w3c.github.io/wot-thing-description/
</ins>
</a>
</dd>
<dt>
Latest
published
version:
</dt>
<dd>
<a href= "https://www.w3.org/TR/wot-thing-description/">
https://www.w3.org/TR/wot-thing-description/
</a>
</dd>
<dt>
Latest
editor's
draft:
</dt>
<dd>
<a href= "https://w3c.github.io/wot-thing-description/">
https://w3c.github.io/wot-thing-description/
</a>
</dd>
<dt>
<del class="diff-old">Previous
version:
https://www.w3.org/TR/2018/WD-wot-thing-description-20180405/
</del>
Editors:
</dt>
<dd class="p-author h-card vcard" data-editor-id="43064">
<span class="p-name fn">
Sebastian
Kaebisch
</span>
(
<a class= "p-org org h-org h-card" href="https://www.siemens.com/">
Siemens
AG
</a>
)
</dd>
<dd class="p-author h-card vcard" data-editor-id="29376">
<span class="p-name fn">
Takuki
Kamiya
</span>
(
<a class= "p-org org h-org h-card" href="https://www.fujitsu.com/">
Fujitsu
Laboratories
of
America,
Inc.
</a>
)
</dd>
<dt>
Contributors:
</dt>
<dd>
<a href= "https://github.com/w3c/wot-thing-description/graphs/contributors">
In
the
GitHub
repository
</a>
</dd>
<dt>
Repository:
</dt>
<dd>
<a href="https://github.com/w3c/wot-thing-description/">
We
are
on
GitHub
</a>
</dd>
<dd>
<a href= "https://github.com/w3c/wot-thing-description/issues">
File
a
bug
</a>
</dd>
</dl>
<p class="copyright">
<a href= "https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">
Copyright
</a>
©
<del class="diff-old">2017-2018
</del>
<ins class="diff-chg">2017-2019
</ins>
<a href="https://www.w3.org/">
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
</a>
<sup>
®
</sup>
(
<a href= "https://www.csail.mit.edu/">
<abbr title= "Massachusetts Institute of Technology">
MIT
</abbr>
</a>,
<a href= "https://www.ercim.eu/">
<abbr title= "European Research Consortium for Informatics and Mathematics">
ERCIM
</abbr>
</a>,
<a href="https://www.keio.ac.jp/">
Keio
</a>,
<a href= "http://ev.buaa.edu.cn/">
Beihang
</a>
).
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
<a href= "https://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">
liability
</a>,
<a href= "https://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">
trademark
</a>
and
<a rel="license" href= "https://www.w3.org/Consortium/Legal/2015/copyright-software-and-document">
permissive
document
license
</a>
rules
apply.
</p>
<hr title="Separator for header" />
</div>
<del class="diff-old">Editor's
note
:
First
draft
based
on
Simplified
TD
This
is
the
first
draft
of
the
new
simplified
TD
approach
based
on
JSON-LD
1.1.
Some
definitions
are
not
finished
yet
and
are
still
in
progress.
A
stable
Thing
Description
deliverable
version
based
on
JSON-LD
1.0
can
be
found
here
.
</del>
<section id="abstract" class="introductory">
<h2>
Abstract
</h2>
<p>
This
document
describes
a
formal
model
and
a
common
representation
for
a
Web
of
Things
(WoT)
Thing
Description.
A
Thing
Description
describes
the
metadata
and
interfaces
of
Things,
where
a
Thing
is
an
abstraction
of
a
physical
or
virtual
entity
that
provides
interactions
to
and
participates
in
the
Web
of
Things.
Thing
Descriptions
provide
a
set
of
interactions
based
on
a
small
vocabulary
that
makes
it
possible
both
to
integrate
diverse
devices
and
to
allow
diverse
applications
to
interoperate.
Thing
Descriptions,
by
default,
are
encoded
in
a
JSON
format
that
also
allows
JSON-LD
processing.
The
latter
provides
a
powerful
foundation
to
represent
knowledge
about
Things
in
a
machine-understandable
way.
A
Thing
Description
instance
can
be
hosted
by
the
Thing
itself
or
hosted
externally
when
a
Thing
has
resource
restrictions
(e.g.,
limited
memory
space)
or
when
a
Web
of
Things-compatible
legacy
device
is
retrofitted
with
a
Thing
Description.
</p>
</section>
<section id="sotd" class="introductory">
<h2>
Status
of
This
Document
</h2>
<p>
<em>
This
section
describes
the
status
of
this
document
at
the
time
of
its
publication.
Other
documents
may
supersede
this
document.
A
list
of
current
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
publications
and
the
latest
revision
of
this
technical
report
can
be
found
in
the
<a href= "https://www.w3.org/TR/">
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
technical
reports
index
</a>
at
https://www.w3.org/TR/.
</em>
</p>
<p>
Implementers
need
to
be
aware
that
this
specification
is
considered
unstable.
Vendors
interested
in
implementing
this
specification
before
it
eventually
reaches
the
Candidate
Recommendation
phase
should
subscribe
to
the
<a href= "https://github.com/w3c/wot-thing-description">
repository
</a>
and
take
part
in
the
discussions.
</p>
<del class="diff-old">Editor's
note
:
The
W3C
WoT
WG
is
asking
for
feedback
Please
contribute
to
this
draft
using
the
GitHub
Issue
feature
of
the
WoT
Thing
Description
repository.
For
feedback
on
security
and
privacy
considerations,
please
use
the
WoT
Security
and
Privacy
Issues,
as
security
and
privacy
is
cross-cutting
over
all
our
documents.
</del>
<p>
This
document
was
published
by
the
<a href= "https://www.w3.org/WoT/WG/">
Web
of
Things
Working
Group
</a>
as
<del class="diff-old">a
Working
</del>
<ins class="diff-chg">an
Editor's
</ins>
Draft.
<del class="diff-old">This
document
is
intended
to
become
a
W3C
Recommendation.
</del>
</p>
<p>
Comments
regarding
this
document
are
welcome.
Please
send
them
to
<a href="mailto:public-wot-wg@w3.org">
public-wot-wg@w3.org
</a>
(
<a href= "https://lists.w3.org/Archives/Public/public-wot-wg/">
archives
</a>
).
</p>
<p>
<del class="diff-old">Changes
from
the
previous
publication
can
be
found
in
Appendix
B
.
A
diff-marked
version
of
this
document
is
also
available
for
comparison
purposes.
</del>
Publication
as
<del class="diff-old">a
Working
</del>
<ins class="diff-chg">an
Editor's
</ins>
Draft
does
not
imply
endorsement
by
the
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Membership.
This
is
a
draft
document
and
may
be
updated,
replaced
or
obsoleted
by
other
documents
at
any
time.
It
is
inappropriate
to
cite
this
document
as
other
than
work
in
progress.
</p>
<p>
This
document
was
produced
by
a
group
operating
under
the
<a href="https://www.w3.org/Consortium/Patent-Policy/">
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
Patent
Policy
</a>.
<abbr title="World Wide Web Consortium">
W3C
</abbr>
maintains
a
<a rel="disclosure" href="">
public
list
of
any
patent
disclosures
</a>
made
in
connection
with
the
deliverables
of
the
group;
that
page
also
includes
instructions
for
disclosing
a
patent.
An
individual
who
has
actual
knowledge
of
a
patent
which
the
individual
believes
contains
<a href= "https://www.w3.org/Consortium/Patent-Policy/#def-essential">
Essential
Claim(s)
</a>
must
disclose
the
information
in
accordance
with
<a href= "https://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">
section
6
of
the
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Patent
Policy
</a>.
</p>
<p>
This
document
is
governed
by
the
<a id="w3c_process_revision" href="https://www.w3.org/2018/Process-20180201/">
1
February
2018
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Process
Document
</a>.
</p>
</section>
<nav id="toc">
<h2 class="introductory" id="table-of-contents">
Table
of
Contents
</h2>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#introduction">
<span class="secno">
1.
</span>
Introduction
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#terminology">
<span class="secno">
2.
</span>
Terminology
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#namespaces">
<span class="secno">
3.
</span>
Namespaces
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#conformance">
<span class="secno">
4.
</span>
Conformance
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-vocabulary-definition">
<span class="secno">
5.
</span>
Information
Model
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#overview">
<span class="secno">
5.1
</span>
Overview
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-core-vocabulary-definition">
<span class="secno">
5.2
</span>
Core
Vocabulary
Definition
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href="#thing">
<span class= "secno">
5.2.1
</span>
<code>
Thing
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#interactionpattern">
<span class="secno">
5.2.2
</span>
<code>
InteractionPattern
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#property">
<span class="secno">
5.2.3
</span>
<code>
Property
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href="#action">
<span class= "secno">
5.2.4
</span>
<code>
Action
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href="#event">
<span class= "secno">
5.2.5
</span>
<code>
Event
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href="#form">
<span class= "secno">
5.2.6
</span>
<code>
Form
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href="#link">
<span class= "secno">
5.2.7
</span>
<code>
Link
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#versioning">
<span class="secno">
<ins class="diff-chg">5.2.8
</ins></span><code><ins class="diff-chg">
Versioning
</ins></code></a>
</li>
<li class="tocline">
<a class="tocxref" href= "#expectedresponse">
<span class="secno">
<ins class="diff-new">5.2.9
</ins></span><code><ins class="diff-new">
ExpectedResponse
</ins></code></a></li><li class="tocline"><a class="tocxref" href= "#multilanguage"><span class="secno"><ins class="diff-new">
5.2.10
</ins></span><code><ins class="diff-new">
MultiLanguage
</ins></code></a></li></ol></li><li class="tocline"><a class="tocxref" href= "#sec-data-schema-vocabulary-definition"><span class= "secno">
5.3
</span>
Data
Schema
Vocabulary
Definition
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#dataschema">
<span class="secno">
5.3.1
</span>
<code>
DataSchema
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#arrayschema">
<span class="secno">
5.3.2
</span>
<code>
ArraySchema
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#booleanschema">
<span class="secno">
5.3.3
</span>
<code>
<del class="diff-old">ObjectSchema
</del>
<ins class="diff-chg">BooleanSchema
</ins>
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#numberschema">
<span class="secno">
5.3.4
</span>
<code>
<del class="diff-old">BooleanSchema
</del>
<ins class="diff-chg">NumberSchema
</ins>
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#integerschema">
<span class="secno">
5.3.5
</span>
<code>
<del class="diff-old">NumberSchema
</del>
<ins class="diff-chg">IntegerSchema
</ins>
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#objectschema">
<span class="secno">
5.3.6
</span>
<code>
<del class="diff-old">StringSchema
</del>
<ins class="diff-chg">ObjectSchema
</ins>
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#stringschema">
<span class="secno">
5.3.7
</span>
<code>
<del class="diff-old">IntegerSchema
</del>
<ins class="diff-chg">StringSchema
</ins></code></a></li><li class="tocline"><a class="tocxref" href= "#nullschema"><span class="secno"><ins class="diff-chg">
5.3.8
</ins></span><code><ins class="diff-chg">
NullSchema
</ins>
</code>
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-security-vocabulary-definition">
<span class= "secno">
5.4
</span>
Security
Vocabulary
Definition
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#securityscheme">
<span class="secno">
5.4.1
</span>
<code>
SecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#nosecurityscheme">
<span class="secno">
5.4.2
</span>
<code>
NoSecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#basicsecurityscheme">
<span class="secno">
5.4.3
</span>
<code>
BasicSecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#digestsecurityscheme">
<span class="secno">
5.4.4
</span>
<code>
<del class="diff-old">CertSecurityScheme
</del>
<ins class="diff-chg">DigestSecurityScheme
</ins>
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#apikeysecurityscheme">
<span class="secno">
5.4.5
</span>
<code>
<del class="diff-old">DigestSecurityScheme
</del>
<ins class="diff-chg">APIKeySecurityScheme
</ins>
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#bearersecurityscheme">
<span class="secno">
5.4.6
</span>
<code>
BearerSecurityScheme
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#certsecurityscheme">
<span class="secno">
5.4.7
</span>
<code>
<del class="diff-old">PSKSecurityScheme
</del>
<ins class="diff-chg">CertSecurityScheme
</ins>
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#psksecurityscheme">
<span class="secno">
5.4.8
</span>
<code>
<del class="diff-old">PublicSecurityScheme
</del>
<ins class="diff-chg">PSKSecurityScheme
</ins>
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#publicsecurityscheme">
<span class="secno">
5.4.9
</span>
<code>
<del class="diff-old">OAuth2SecurityScheme
</del>
<ins class="diff-chg">PublicSecurityScheme
</ins>
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#popsecurityscheme">
<span class="secno">
5.4.10
</span>
<code>
<del class="diff-old">APIKeySecurityScheme
</del>
<ins class="diff-chg">PoPSecurityScheme
</ins>
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#oauth2securityscheme">
<span class="secno">
5.4.11
</span>
<code>
<del class="diff-old">PoPSecurityScheme
</del>
<ins class="diff-chg">OAuth2SecurityScheme
</ins>
</code>
</a>
</li>
</ol>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-td-serialization">
<span class="secno">
6.
</span>
Thing
Description
Serialization
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#json-serializiation-section">
<span class="secno">
6.1
</span>
<ins class="diff-new">Basic
</ins>
Representation
Format
<ins class="diff-new">Assumptions
</ins>
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#sec-thing-as-a-whole-json">
<span class="secno">
6.1.1
</span>
Thing
as
a
whole
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#property-serialization-json">
<span class="secno">
6.1.2
</span>
<code>
properties
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#action-serialization-json">
<span class="secno">
6.1.3
</span>
<code>
actions
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#event-serialization-json">
<span class="secno">
6.1.4
</span>
<code>
events
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#form-serialization-json">
<span class="secno">
6.1.5
</span>
<code>
forms
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#links-serialization-json">
<span class="secno">
6.1.6
</span>
<code>
links
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#security-serialization-json">
<span class="secno">
6.1.7
</span>
<code>
<ins class="diff-new">securityDefinitions
</ins></code><ins class="diff-new">
and
</ins><code>
security
</code>
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#version-serialization-json">
<span class="secno">
<ins class="diff-new">6.1.8
</ins></span><code><ins class="diff-new">
version
</ins></code></a></li><li class="tocline"><a class="tocxref" href= "#data-schema-serialization-json"><span class="secno"><ins class="diff-new">
6.1.9
</ins></span><ins class="diff-new">
Data
Schema
Representation
</ins></a></li><li class="tocline"><a class="tocxref" href= "#titles-descriptions-serialization-json"><span class= "secno"><ins class="diff-new">
6.1.10
</ins></span><code><ins class="diff-new">
titles
</ins></code><ins class="diff-new">
and
</ins><code><ins class="diff-new">
descriptions
</ins></code></a></li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#content-extension-section">
<span class="secno">
6.2
</span>
<ins class="diff-new">Context
Extension
</ins></a></li><li class="tocline"><a class="tocxref" href= "#media-type-section"><span class="secno"><ins class="diff-new">
6.3
</ins></span>
Media
Type
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#Implementation-Note-section">
<span class="secno">
<del class="diff-old">6.3
</del>
<ins class="diff-chg">6.4
</ins>
</span>
Implementation
Notes
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#note-json-processing">
<span class="secno">
<del class="diff-old">6.3.1
</del>
<ins class="diff-chg">6.4.1
</ins>
</span>
<del class="diff-old">JSON
</del>
<ins class="diff-chg">Thing
Description
</ins>
Processing
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#note-jsonld10-processing">
<span class="secno">
<del class="diff-old">6.3.2
</del>
<ins class="diff-chg">6.4.2
</ins>
</span>
JSON-LD
<del class="diff-old">1.1
</del>
<ins class="diff-chg">1.0
</ins>
Processing
</a>
</li>
</ol>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#example-serialization">
<span class="secno">
7.
</span>
Example
Thing
Description
Instances
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#myLampThing-example-serialization">
<span class="secno">
7.1
</span>
MyLampThing
Example
<ins class="diff-new">with
CoAP
Binding
</ins></a></li><li class="tocline"><a class="tocxref" href= "#myLampThing-example-serialization"><span class="secno"><ins class="diff-new">
7.2
</ins></span><ins class="diff-new">
MyLightSensor
Example
with
MQTT
Binding
</ins>
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-security-consideration">
<span class="secno">
8.
</span>
Security
and
Privacy
Considerations
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#sec-security-consideration-context">
<span class= "secno">
<ins class="diff-new">8.1
</ins></span><ins class="diff-new">
Context
Dereferencing
Privacy
Risk
</ins></a>
</li>
<li class="tocline">
<a class="tocxref" href= "#sec-security-consideration-id">
<span class="secno">
<ins class="diff-chg">8.2
</ins></span><ins class="diff-chg">
Immutable
Identifiers
Privacy
Risk
</ins></a></li><li class="tocline"><a class="tocxref" href= "#sec-security-consideration-fingerprint"><span class= "secno"><ins class="diff-chg">
8.3
</ins></span><ins class="diff-chg">
Fingerprinting
Privacy
Risk
</ins></a></li><li class="tocline"><a class="tocxref" href= "#sec-security-consideration-tampering"><span class= "secno"><ins class="diff-chg">
8.4
</ins></span><ins class="diff-chg">
TD
Interception
and
Tampering
Security
Risk
</ins></a></li><li class="tocline"><a class="tocxref" href= "#sec-security-consideration-tampering"><span class= "secno"><ins class="diff-chg">
8.5
</ins></span><ins class="diff-chg">
Context
Interception
and
Tampering
Security
Risk
</ins></a></li><li class="tocline"><a class="tocxref" href= "#sec-security-consideration-inferencing"><span class= "secno"><ins class="diff-chg">
8.6
</ins></span><ins class="diff-chg">
Inferencing
of
Personally
Identifiable
Information
Privacy
Risk
</ins></a></li></ol></li><li class="tocline"><a class="tocxref" href= "#json-schema-4-validation">
<span class="secno">
A.
</span>
JSON
Schema
for
TD
Instance
Validation
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#Thing%20Templates">
<span class="secno">
B.
</span>
<ins class="diff-new">Thing
Templates
</ins></a><ol class="toc"><li class="tocline"><a class="tocxref" href= "#thing-template-examples"><span class="secno"><ins class="diff-new">
B.1
</ins></span><ins class="diff-new">
Thing
Template
Examples
</ins></a><ol class="toc"><li class="tocline"><a class="tocxref" href= "#lamp-thing-template"><span class="secno"><ins class="diff-new">
B.1.1
</ins></span><ins class="diff-new">
Thing
Template:
Lamp
</ins></a></li><li class="tocline"><a class="tocxref" href= "#buzzer-thing-template"><span class="secno"><ins class="diff-new">
B.1.2
</ins></span><ins class="diff-new">
Thing
Template:
Buzzer
</ins></a></li><li class="tocline"><a class="tocxref" href= "#combination-lamp-buzzer-thingl"><span class="secno"><ins class="diff-new">
B.1.3
</ins></span><ins class="diff-new">
Combined
Thing:
Lamp
+
Buzzer
</ins></a></li></ol></li></ol></li><li class="tocline"><a class="tocxref" href="#changes"><span class= "secno"><ins class="diff-new">
C.
</ins></span>
Recent
Specification
Changes
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#changes-from-third-public-working-draft">
<span class= "secno">
<ins class="diff-new">C.1
</ins></span><ins class="diff-new">
Changes
from
Third
Public
Working
Draft
</ins></a>
</li>
<li class="tocline">
<a class="tocxref" href= "#changes-from-second-public-working-draft">
<del class="diff-old">C.
</del>
<span class= "secno">
<ins class="diff-chg">C.2
</ins>
</span>
<del class="diff-old">Acknowledgments
</del>
<ins class="diff-chg">Changes
from
Second
Public
Working
Draft
</ins>
</a>
</li>
</ol>
</li>
<li class="tocline">
<a class="tocxref" href= "#acknowledgements">
<span class="secno">
D.
</span>
<ins class="diff-new">Acknowledgements
</ins></a></li><li class="tocline"><a class="tocxref" href= "#references"><span class="secno"><ins class="diff-new">
E.
</ins></span>
References
</a>
<ol class="toc">
<li class="tocline">
<a class="tocxref" href= "#normative-references">
<span class="secno">
<del class="diff-old">D.1
</del>
<ins class="diff-chg">E.1
</ins>
</span>
Normative
references
</a>
</li>
<li class="tocline">
<a class="tocxref" href= "#informative-references">
<span class="secno">
<del class="diff-old">D.2
</del>
<ins class="diff-chg">E.2
</ins>
</span>
Informative
references
</a>
</li>
</ol>
</li>
</ol>
</nav>
<section id="introduction">
<h2 id="x1-introduction">
<span class="secno">
1.
</span>
Introduction
<a class="self-link" aria-label="§" href= "#introduction">
</a>
</h2>
<p>
The
Thing
Description
(TD)
is
a
central
building
block
in
the
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Web
of
Things
(WoT)
and
can
be
considered
as
the
entry
point
of
a
Thing
(much
like
the
<i>
index.html
</i>
of
a
Web
site).
The
TD
consists
of
semantic
metadata
for
the
Thing
itself,
an
interaction
model
based
on
WoT's
<code>
Properties
</code>,
<code>
Actions
</code>,
and
<code>
Events
</code>
paradigm,
a
semantic
schema
to
make
data
models
machine-understandable,
and
features
for
Web
Linking
to
express
relations
among
Things.
</p>
<p>
Properties
can
be
used
for
sensing
and
controlling
parameters,
such
as
getting
the
current
value
or
setting
an
operation
state.
Actions
model
invocation
of
physical
(and
hence
time-consuming)
processes,
but
can
also
be
used
to
abstract
RPC-like
calls
of
existing
platforms.
Events
are
used
for
the
push
model
of
communication
where
notifications,
discrete
events,
or
streams
of
values
are
sent
asynchronously
to
the
receiver.
In
general,
the
TD
provides
metadata
for
different
communication
bindings
identified
by
URI
schemes
(e.g.,
"http",
"coap",
"mqtt",
etc.),
<del class="diff-old">media
</del>
<ins class="diff-chg">content
</ins>
types
(e.g.,
"application/json",
"application/xml",
"application/cbor",
"application/exi"
etc.),
and
security
mechanisms
(for
authentication,
authorization,
confidentiality,
etc.).
Serialization
of
TD
instances
is
based
on
JSON
and
includes
at
least
the
TD
core
vocabulary
as
JSON
<del class="diff-old">keys
</del>
<ins class="diff-chg">names
</ins>
as
defined
in
this
specification
document.
</p>
<p>
Example
1
shows
a
simple
TD
instance
in
such
a
JSON
<del class="diff-old">serialization
</del>
<ins class="diff-chg">serializiation
</ins>
and
depicts
WoT's
<code>
Properties
</code>,
<code>
Actions
</code>,
and
<code>
Events
</code>
paradigm
by
describing
a
lamp
Thing
with
the
name
<i>
MyLampThing
</i>.
</p>
<aside class="example ds-selector-tabs changed" id= "simple-thing-description-sample">
<div class="marker">
<a class="self-link" href= "#simple-thing-description-sample">
Example
1
</a>
<span class= "example-title">:
<del class="diff-old">Simple
</del>
Thing
Description
Sample
with
JSON
serialization
</span>
</div>
<del class="diff-old">{
    : &lt;span class=
"hljs-string"&gt;"urn:dev:wot:com:example:servient:lamp",
    : &lt;span class=
"hljs-string"&gt;"MyLampThing",
    : [{&lt;span class=
"hljs-attr"&gt;"scheme": &lt;span class=
"hljs-string"&gt;"basic"}],
    : {
         : {
            : &lt;span class=
"hljs-string"&gt;"string",
            : [{&lt;span class=
"hljs-attr"&gt;"href": &lt;span class=
"hljs-string"&gt;"https://mylamp.example.com/status"}]
</del>
<div class="selectors">
<p>
<button class="selected" data-selects="original">
<ins class="diff-chg">Simple
</ins></button><button data-selects="expanded"><ins class="diff-chg">
Full
</ins></button></p></div><pre class="original selected hljs" aria-busy="false">{<ins class="diff-chg">
    "id": "urn:dev:wot:com:example:servient:lamp",
    "name": "MyLampThing",
    "securityDefinitions": {
        "basic_sc": {"scheme": "basic"}
    },
    "security": ["basic_sc"],
    "properties": {
        "status" : {
            "type": "string",
            "forms": [{"href": "https://mylamp.example.com/status"}]
</ins>
        }
    },
<del class="diff-old">    : {
         : {
            : [{&lt;span class=
"hljs-attr"&gt;"href": &lt;span class=
"hljs-string"&gt;"https://mylamp.example.com/toggle"}]
</del>
<ins class="diff-chg">    "actions": {
        "toggle" : {
            "forms": [{"href": "https://mylamp.example.com/toggle"}]
</ins>
        }
    },
<del class="diff-old">    :{
        :{
            : &lt;span class=
"hljs-string"&gt;"string",
            : [{
                : &lt;span class=
"hljs-string"&gt;"https://mylamp.example.com/oh",
                &lt;span class=
"hljs-attr"&gt;"subProtocol": &lt;span class=
"hljs-string"&gt;"LongPoll"
</del>
<ins class="diff-chg">    "events":{
        "overheating":{
            "data": {"type": "string"},
            "forms": [{
                "href": "https://mylamp.example.com/oh",
                "subprotocol": "longpoll"
            }]
        }
    }
}
</ins></pre><pre class="expanded hljs" aria-busy="false">{<ins class="diff-chg">
    "id": "urn:dev:wot:com:example:servient:lamp",
    "name": "MyLampThing",
    "securityDefinitions": {
        "basic_sc": {"scheme": "basic"}
    },
    "security": ["basic_sc"],
    "properties": {
        "status" : {
            "readOnly": false,
            "writeOnly": false,
            "observable": false,
            "type": "string",
            "forms": [{
                "href": "https://mylamp.example.com/status",
                "contentType": "application/json"
            }]
        }
    },
    "actions": {
        "toggle" : {
            "idempotent" : false,
            "safe" : false,
            "forms": [{
                "href": "https://mylamp.example.com/toggle",
                "contentType": "application/json"
            }]
        }
    },
    "events":{
        "overheating":{
            "data": {"type": "string"},
            "forms": [{
                "href": "https://mylamp.example.com/oh",
                "contentType": "application/json",
                "subprotocol": "longpoll"
</ins>
            }]
        }
    }
}
</pre>
</aside>
<p>
Based
on
this
content,
we
know
there
exists
one
<code>
Property
</code>
interaction
resource
with
the
name
<i>
status
</i>.
In
addition,
information
is
provided
to
indicate
that
this
Property
is
accessible
via
(the
secure
form
of)
the
HTTP
protocol
with
a
GET
method
at
the
URI
<code>
https://mylamp.example.com/status
</code>
(announced
within
the
<code>
forms
</code>
structure
by
the
<code>
href
</code>
<del class="diff-old">key),
</del>
<ins class="diff-chg">name),
</ins>
and
will
return
a
string
status
value.
The
use
of
the
GET
method
is
not
stated
explicitly,
but
is
one
of
the
default
assumptions
defined
by
this
<del class="diff-old">document.
</del>
<ins class="diff-chg">document
and
explained
in
[
</ins><cite><a class="bibref" href= "#bib-wot-protocol-binding"><ins class="diff-chg">
WOT-PROTOCOL-BINDING
</ins></a></cite><ins class="diff-chg">
].
</ins>
</p>
<p>
In
a
similar
manner,
an
<code>
Action
</code>
is
specified
to
toggle
the
switch
status
using
the
POST
method
applied
to
the
<code>
https://mylamp.example.com/toggle
</code>
resource,
where
POST
is
again
a
default
assumption
for
invoking
Actions.
</p>
<p>
The
<code>
Event
</code>
pattern
enables
a
mechanism
for
asynchronous
messages
to
be
sent
by
a
Thing.
Here,
a
subscription
to
be
notified
upon
a
possible
overheating
event
of
the
lamp
can
be
obtained
by
using
the
HTTP
with
its
long
polling
sub-protocol
at
<code>
https://mylamp.example.com/oh
</code>.
</p>
<p>
This
example
also
specifies
the
<code>
basic
</code>
security
scheme,
requiring
a
username
and
password
for
access.
<ins class="diff-new">Note
that
a
security
scheme
is
first
given
a
name
in
a
</ins><code><ins class="diff-new">
securityDefinition
</ins></code><ins class="diff-new">
and
then
activated
by
specifying
that
name
in
a
</ins><code><ins class="diff-new">
security
</ins></code><ins class="diff-new">
section.
</ins>
In
combination
with
the
use
of
the
HTTP
protocol
this
<del class="diff-old">indicates
</del>
<ins class="diff-chg">example
demonstrates
</ins>
the
use
of
HTTP
Basic
Authentication.
Specification
of
<del class="diff-old">a
</del>
<ins class="diff-chg">at
least
one
</ins>
security
scheme
at
the
top
level
<del class="diff-old">as
in
this
example
indicates
that
it
</del>
is
<del class="diff-old">required
</del>
<ins class="diff-chg">mandatory,
and
gives
the
default
access
requirements
</ins>
for
every
resource.
However,
security
schemes
can
also
be
specified
per-interaction
or
per-form,
with
lower-level
configurations
overriding
higher-level
ones,
allowing
for
the
specification
of
fine-grained
access
control.
<del class="diff-old">Examples
</del>
<ins class="diff-chg">It
is
also
possible
to
use
a
special
</ins><code><ins class="diff-chg">
nosec
</ins></code><ins class="diff-chg">
security
scheme
to
indicate
that
no
access
control
mechanisms
</ins>
are
<ins class="diff-new">used.
Additional
examples
will
be
</ins>
provided
later.
</p>
<p>
The
TD
in
<a href="#simple-thing-description-sample">
Example
1
</a>
reflects
some
additional
defined
default
assumptions
that
are
not
explicitly
described.
For
example,
the
<del class="diff-old">media
</del>
<ins class="diff-chg">content
</ins>
type
of
the
exchange
format
of
the
interactions
is
assumed
to
be
JSON
(=
<code>
<del class="diff-old">mediaType
</del>
<ins class="diff-chg">contentType
</ins>
</code>
)
and
the
<code>
Property
</code>
<i>
status
</i>
resource
is
not
<del class="diff-old">writable
</del>
<code>
<ins class="diff-chg">readOnly
</ins></code>
as
well
as
not
<del class="diff-old">observable.
</del>
<code>
<ins class="diff-chg">observable
</ins></code>.
Specifically,
the
TD
specification
defines
vocabulary
terms
<del class="diff-old">(
</del>
<ins class="diff-chg">(e.g.,
</ins>
<code>
<del class="diff-old">writable
</del>
<ins class="diff-chg">readOnly
</ins></code>,<code><ins class="diff-chg">
writeOnly
</ins>
</code>,
<code>
observable
</code>,
<code>
<del class="diff-old">mediaType
</del>
<ins class="diff-chg">contentType
</ins>
</code>
)
that
have
default
values.
If
these
vocabulary
terms
are
not
explicitly
used
in
a
Thing
Description
instance,
the
Thing
Description
processor
follows
default
assumptions
for
interpretation
as
defined
in
this
specification.
<ins class="diff-new">The
</ins><i><ins class="diff-new">
Full
</ins></i><ins class="diff-new">
tab
in
</ins><a href= "#simple-thing-description-sample"><ins class="diff-new">
Example
1
</ins></a><ins class="diff-new">
shows
the
identical
information
of
the
simple
form
of
the
Thing
Description
instance,
but
includes
these
mentioned
implicit
vocabulary
terms
with
its
default
values.
</ins>
</p>
<p>
The
<del class="diff-old">TD
</del>
<ins class="diff-chg">Thing
Description
offers
the
possibility
to
add
context
knowledge
from
different
namespaces.
This
mechanism
</ins>
can
be
<del class="diff-old">also
processed
</del>
<ins class="diff-chg">used
to
add
additional
semantics,
such
</ins>
as
<del class="diff-old">an
RDF-based
model.
In
that
case,
</del>
<ins class="diff-chg">specific
domain
knowledge,
to
the
content
of
</ins>
the
Thing
Description
<del class="diff-old">instance
needs
</del>
<ins class="diff-chg">instance,
and
</ins>
to
<del class="diff-old">be
transformed
into
valid
JSON-LD
first.
In
terms
</del>
<ins class="diff-chg">specify
some
configurations
and
behavior
</ins>
of
<del class="diff-old">JSON-LD
1.1
serialization,
</del>
the
<del class="diff-old">open-world
assumption
of
RDF
semantic
processing
requires
vocabulary
terms
with
default
values
to
be
always
present
explicitly
</del>
<ins class="diff-chg">underlying
communication
protocols
declared
</ins>
in
the
<del class="diff-old">instances.
</del>
<code>
<ins class="diff-chg">forms
</ins></code><ins class="diff-chg">
field.
</ins>
Example
2
<del class="diff-old">shows
</del>
<ins class="diff-chg">extends
</ins>
the
<del class="diff-old">same
</del>
TD
<del class="diff-old">in
a
</del>
<ins class="diff-chg">sample
from
Example
1
and
uses
the
</ins><code><ins class="diff-chg">
@context
</ins></code><ins class="diff-chg">
known
from
</ins>
JSON-LD
<del class="diff-old">1.1
serialization
representing
exactly
</del>
<ins class="diff-chg">to
introduce
</ins>
the
<del class="diff-old">same
information
as
in
Example
1;
however,
default
values
have
been
filled
in.
</del>
<ins class="diff-chg">http
context.
This
context
is
used
to
specify
explicitly
the
http
methods
for
the
property
and
action
within
the
</ins><code><ins class="diff-chg">
forms
</ins></code>.
</p>
<aside class="example ds-selector-tabs changed" id= "thing-description-full-serialization">
<div class="marker">
<a class="self-link" href= "#thing-description-full-serialization">
Example
2
</a>
<del class="diff-old">:
</del>
<span class= "example-title">:
Thing
Description
<del class="diff-old">as
JSON-LD
1.1
Serialization
</del>
<ins class="diff-chg">with
context
extension
</ins>
</span>
</div>
<del class="diff-old">{
    : &lt;span class=
"hljs-string"&gt;"http://www.w3.org/ns/td",
    : &lt;span class=
"hljs-string"&gt;"urn:dev:wot:com:example:servient:lamp",
    : &lt;span class=
"hljs-string"&gt;"MyLampThing",
    : [{&lt;span class=
"hljs-attr"&gt;"scheme": &lt;span class=
"hljs-string"&gt;"basic", &lt;span class=
"hljs-attr"&gt;"in": &lt;span class=
"hljs-string"&gt;"header"}],
    : {
        : {
            : &lt;span class=
"hljs-literal"&gt;false,
            &lt;span class=
"hljs-attr"&gt;"observable": &lt;span class=
"hljs-literal"&gt;false,
            : &lt;span class=
"hljs-string"&gt;"string",
            : [{
                : &lt;span class=
"hljs-string"&gt;"https://mylamp.example.com/status",
                &lt;span class=
"hljs-attr"&gt;"http:methodName": &lt;span class=
"hljs-string"&gt;"GET",
                &lt;span class=
"hljs-attr"&gt;"mediaType": &lt;span class=
"hljs-string"&gt;"application/json"
            }]
        }
    },
    : {
        : {
            : [{
                : &lt;span class=
"hljs-string"&gt;"https://mylamp.example.com/toggle",
                &lt;span class=
"hljs-attr"&gt;"http:methodName": &lt;span class=
"hljs-string"&gt;"POST",
                &lt;span class=
"hljs-attr"&gt;"mediaType": &lt;span class=
"hljs-string"&gt;"application/json"
            }]
</del>
<div class="selectors">
<p>
<button class="selected" data-selects="original">
<ins class="diff-chg">Simple
</ins></button><button data-selects="expanded"><ins class="diff-chg">
Full
</ins></button></p></div><pre class="original selected hljs" aria-busy="false">    {<ins class="diff-chg">
        "@context": [
            "http://www.w3.org/ns/td",
            {"http": "http://www.w3.org/2011/http#"}
        ],
        "id": "urn:dev:wot:com:example:servient:lamp",
        "name": "MyLampThing",
        "securityDefinitions": {"basic_sc": {
            "scheme": "basic",
            "in": "header"
        }},
        "security": ["basic_sc"],
        "properties": {
            "status": {
                "type": "string",
                "forms": [{
                    "href": "https://mylamp.example.com/status",
                    "http:methodName": "GET"
                }]
            }
        },
        "actions": {
            "toggle": {
                "forms": [{
                    "href": "https://mylamp.example.com/toggle",
                    "http:methodName": "POST"
                }]
            }
        },
        "events": {
            "overheating": {
                "data": {"type": "string"},
                "forms": [{
                    "href": "https://mylamp.example.com/oh",
                    "subprotocol": "longpoll"
                }]
            }
</ins>
        }
<del class="diff-old">    },
    : {
        : {
            : &lt;span class=
"hljs-string"&gt;"string",
            : [{
                : &lt;span class=
"hljs-string"&gt;"https://mylamp.example.com/oh",
                &lt;span class=
"hljs-attr"&gt;"subProtocol": &lt;span class=
"hljs-string"&gt;"LongPoll",
                &lt;span class=
"hljs-attr"&gt;"mediaType": &lt;span class=
"hljs-string"&gt;"application/json"
            }]
</del>
<ins class="diff-chg">}
</ins></pre><pre class="expanded hljs" aria-busy="false">    {<ins class="diff-chg">
        "@context": [
            "http://www.w3.org/ns/td",
            {"http": "http://www.w3.org/2011/http#"}
        ],
        "id": "urn:dev:wot:com:example:servient:lamp",
        "name": "MyLampThing",
        "securityDefinitions": {"basic_sc": {
            "scheme": "basic",
            "in": "header"
        }},
        "security": ["basic_sc"],
        "properties": {
            "status": {
                "readOnly": false,
                "writeOnly": false,
                "observable": false,
                "type": "string",
                "forms": [{
                    "href": "https://mylamp.example.com/status",
                    "http:methodName": "GET",
                    "contentType": "application/json"
                }]
            }
        },
        "actions": {
            "toggle": {
                "idempotent": false,
                "safe": false,
                "forms": [{
                    "href": "https://mylamp.example.com/toggle",
                    "http:methodName": "POST",
                    "contentType": "application/json"
                }]
            }
        },
        "events": {
            "overheating": {
                "data": {"type": "string"},
                "forms": [{
                    "href": "https://mylamp.example.com/oh",
                    "subprotocol": "longpoll",
                    "contentType": "application/json"
                }]
            }
</ins>
        }
<del class="diff-old">    }
</del>
}
</pre>
</aside>
<p>
<del class="diff-old">For
more
examples,
including
</del>
<ins class="diff-chg">The
TD
can
be
also
processed
as
an
RDF-based
model.
In
that
case,
</ins>
the
<del class="diff-old">use
of
other
protocols
besides
HTTP,
see
Section
7.
Example
</del>
Thing
Description
<del class="diff-old">Instances
.
</del>
<ins class="diff-chg">instance
needs
to
be
transformed
into
valid
JSON-LD
first
which
will
be
specified
in
this
document.
</ins>
</p>
</section>
<section id="terminology">
<h2 id="x2-terminology">
<span class="secno">
2.
</span>
Terminology
<a class="self-link" aria-label="§" href= "#terminology">
</a>
</h2>
<p>
Generic
WoT
terminology
is
defined
in
[
<cite>
<a class="bibref" href="#bib-wot-architecture">
WOT-ARCHITECTURE
</a>
</cite>
]:
<dfn data-lt="things|thing" data-dfn-type="dfn" id= "dfn-things">
Thing
</dfn>,
<dfn data-lt= "thing descriptions|thing description" data-dfn-type="dfn" id= "dfn-thing-descriptions">
Thing
Description
</dfn>
(in
short
<dfn data-dfn-type="dfn" id="dfn-td">
TD
</dfn>
),
<dfn data-dfn-type= "dfn" id="dfn-web-of-things">
Web
of
Things
</dfn>
(in
short
<b>
<i>
WoT
</i>
</b>
),
<dfn data-dfn-type="dfn" id= "dfn-wot-interface">
WoT
Interface
</dfn>
etc.
</p>
</section>
<section id="namespaces">
<h2 id="x3-namespaces">
<span class="secno">
3.
</span>
Namespaces
<a class="self-link" aria-label="§" href= "#namespaces">
</a>
</h2>
<p>
The
namespace
for
the
<abbr title= "World Wide Web Consortium">
W3C
</abbr>
<del class="diff-old">TD
</del>
<ins class="diff-chg">Thing
Description
</ins>
vocabulary
as
defined
in
this
document
is
<a href= "http://www.w3.org/ns/td">
http://www.w3.org/ns/td
</a>.
</p>
<p>
Using
content
negotiation,
this
namespace
serves
either
the
TD
ontology
file
(Turtle)
or
the
TD
context
file
(JSON-LD).
</p>
<del class="diff-old">The
suggested
prefix
for
the
TD
namespace
is
td
.
The
security
ontology
that
can
be
used
with
the
TD
is
available
at
https://www.w3.org/ns/wot-security
.
The
data
schema
ontology
that
can
be
used
with
the
TD
is
available
at
https://www.w3.org/ns/json-schema
.
Editor's
note
:
Binding
Vocabulary
and
Prefixes
The
TD
will
reuse
existing
vocabulary
definitions
such
as
for
http
from
the
http://www.w3.org/2011/http#
namespace.
In
that
case
the
prefix
http
is
used.
However,
there
are
prefixes
such
as
coap
and
mqtt
which
have
no
namespace
yet.
Currently
there
are
efforts
to
have
such
namespace
representations
which
will
be
referenced
in
the
TD
specification
in
the
future.
In
the
meantime,
the
[
WOT-PROTOCOL-BINDING
]
provides
the
list
of
terms
that
can
be
used
to
specify
the
protocol
metadata
in
the
Thing
Description.
</del>
</section>
<section id="conformance">
<h2 id="x4-conformance">
<span class="secno">
4.
</span>
Conformance
<a class="self-link" aria-label="§" href= "#conformance">
</a>
</h2>
<p>
As
well
as
all
sections
marked
as
non-normative,
all
authoring
guidelines,
diagrams,
examples,
and
notes
in
this
specification
are
non-normative.
Everything
else
in
this
specification
is
normative.
</p>
<p>
The
key
words
<em title="MUST" class="rfc2119">
<em class= "rfc2119" title="MUST">
MUST
</em>
</em>,
<em title="MUST NOT" class= "rfc2119">
<em class="rfc2119" title="MUST NOT">
MUST
NOT
</em>
</em>,
<em title="REQUIRED" class="rfc2119">
<em class="rfc2119" title= "REQUIRED">
REQUIRED
</em>
</em>,
<em title="SHOULD" class= "rfc2119">
<em class="rfc2119" title="SHOULD">
SHOULD
</em>
</em>,
<em title="SHOULD NOT" class="rfc2119">
<em class="rfc2119" title= "SHOULD NOT">
SHOULD
NOT
</em>
</em>,
<em title="RECOMMENDED" class= "rfc2119">
<em class="rfc2119" title= "RECOMMENDED">
RECOMMENDED
</em>
</em>,
<em title="MAY" class= "rfc2119">
<em class="rfc2119" title="MAY">
MAY
</em>
</em>,
and
<em title="OPTIONAL" class="rfc2119">
<em class="rfc2119" title= "OPTIONAL">
OPTIONAL
</em>
</em>
in
this
specification
are
to
be
interpreted
as
described
in
[
<cite>
<a class="bibref" href= "#bib-rfc2119">
RFC2119
</a>
</cite>
].
</p>
<p>
A
Thing
Description
instance
complies
with
this
specification
if
it
follows
the
normative
statements
in
Section
<a href= "#sec-vocabulary-definition" class="sec-ref">
<span class= "secno">
5.
</span>
<span class="sec-title">
Information
Model
</span>
</a>
and
Section
<a href="#sec-td-serialization" class= "sec-ref">
<span class="secno">
6.
</span>
<span class= "sec-title">
Thing
Description
Serialization
</span>
</a>
regarding
Thing
Description
serialization.
</p>
<p>
A
JSON
Schema
[
<cite>
<a class="bibref" href= "#bib-json-schema-validation">
JSON-SCHEMA-VALIDATION
</a>
</cite>
]
is
provided
in
Annex
<a href="#json-schema-4-validation" class= "sec-ref">
<span class="secno">
A.
</span>
<span class= "sec-title">
JSON
Schema
for
TD
Instance
Validation
</span>
</a>
to
validate
Thing
Description
instances
based
on
<del class="diff-old">JSON-LD
1.1.
</del>
<ins class="diff-chg">JSON
serialization.
</ins>
</p>
<div class="ednote" id="issue-container-generatedID">
<div role="heading" class="ednote-title marker" id="h-ednote" aria-level="3">
<span>
Editor's
note
</span>
</div>
<p class="">
In
the
future
some
information
about
RDF
validation
will
be
provided.
</p>
</div>
</section>
<section id="sec-vocabulary-definition">
<h2 id="x5-information-model">
<span class="secno">
5.
</span>
Information
Model
<a class="self-link" aria-label="§" href= "#sec-vocabulary-definition">
</a>
</h2>
<section id="overview">
<h3 id="x5-1-overview">
<span class="secno">
5.1
</span>
Overview
<a class="self-link" aria-label="§" href= "#overview">
</a>
</h3>
<p>
The
<abbr title="World Wide Web Consortium">
W3C
</abbr>
Thing
Description
provides
a
set
of
vocabulary
for
describing
physical
and
virtual
Things.
<del class="diff-old">To
increase
interoperability
the
vocabulary
terms
are
defined
using
the
Resource
Description
Framework
(RDF).
All
vocabulary
restrictions
noted
in
these
tables
MUST
be
followed,including
mandatory
items
and
default
values.
</del>
In
general,
the
Thing
Description
vocabulary
set
is
grouped
in
three
modules:
</p>
<ul>
<li>
the
core
Thing
Description
vocabulary
reflecting
WoT's
paradigm
of
<code>
Properties
</code>,
<code>
Actions
</code>,
and
<code>
Events
</code>
(also
see
[
<cite>
<a class="bibref" href= "#bib-wot-architecture">
WOT-ARCHITECTURE
</a>
</cite>
<del class="diff-old">]);the
</del>
<ins class="diff-chg">])
</ins></li><li><ins class="diff-chg">
the
</ins>
data
schema
vocabulary
reflecting
a
subset
of
the
terms
defined
in
JSON
Schema
[
<cite>
<a class="bibref" href= "#bib-json-schema-validation">
JSON-SCHEMA-VALIDATION
</a>
</cite>
<del class="diff-old">]
in
a
linked
data
representation;
</del>
<ins class="diff-chg">],
</ins></li><li>
and
the
security
vocabulary
used
to
define
security
<del class="diff-old">mechanismconfiguration
</del>
<ins class="diff-chg">mechanism
configuration
</ins>
requirements.
</li>
</ul>
<p>
An
overview
of
this
vocabulary
with
its
class
context
and
class
relation
is
given
by
the
following
three
<del class="diff-old">figures:
the
TD
core
model,
the
TD
data
schema
model,
and
the
TD
security
model.
</del>
<ins class="diff-chg">figures.
</ins>
Please
note
that
the
figures
reflect
the
vocabulary
terms
and
structure
as
they
would
be
used
in
a
Thing
Description
instance
(see
Section
<a href= "#sec-td-serialization" class="sec-ref">
<span class= "secno">
6.
</span>
<span class="sec-title">
Thing
Description
Serialization
</span>
</a>
<del class="diff-old">).The
full
ontology
definitions
of
the
different
modules
can
be
viewed
by
following
the
namespaces
as
provided
in
Section
</del>
<ins class="diff-chg">).
</ins></p><div class="ednote" id="issue-container-generatedID-0"><div role="heading" class="ednote-title marker" id="h-ednote-0" aria-level="4">
<del class="diff-old">3.
Namespaces
</del>
<span>
<ins class="diff-chg">Editor's
note
</ins>
</span>
<del class="diff-old">.
</del>
</div>
<p class="">
<ins class="diff-chg">The
following
diagrams
are
automatically
generated
from
the
ontology
files.
The
layout
will
be
improved
in
one
of
the
next
TD
updates.
</ins>
</p>
</div>
<figure id="td-core-model">
<img src="visualization/td.svg" alt= "TD core model figure" width="2013" height="1120" />
<figcaption>
Figure
<span class="figno">
1
</span>
<span class= "fig-title">
TD
core
model
<ins class="diff-new">(
</ins><a href="visualization/td.svg"><ins class="diff-new">
Click
SVG
file
</ins></a><ins class="diff-new">
)
</ins>
</span>
</figcaption>
</figure>
<figure id="td-data-schema-model">
<img src= "visualization/json-schema.svg" alt="TD data schema model figure" width="1541" height="468" />
<figcaption>
Figure
<span class="figno">
2
</span>
<span class= "fig-title">
TD
data
schema
model
<ins class="diff-new">(
</ins><a href= "visualization/json-schema.svg"><ins class="diff-new">
Click
SVG
file
</ins></a><ins class="diff-new">
)
</ins>
</span>
</figcaption>
</figure>
<figure id="td-security-model">
<img src= "visualization/wot-security.svg" alt="TD security model figure" width="2640" height="360" />
<figcaption>
Figure
<span class="figno">
3
</span>
<span class= "fig-title">
TD
security
model
<ins class="diff-new">(
</ins><a href= "visualization/wot-security.svg"><ins class="diff-new">
Click
SVG
file
</ins></a><ins class="diff-new">
)
</ins>
</span>
</figcaption>
</figure>
<div class="ednote" id="issue-container-generatedID-1">
<div role="heading" class="ednote-title marker" id="h-ednote-1" aria-level="4">
<span>
Editor's
note
</span>
<span style= "text-transform: none">:
Default
Values
and
Mandatory
Attributes
</span>
</div>
<p class="">
In
the
figures
above,
and
in
the
tables
to
follow,
items
which
have
default
values
are
indicated
as
being
optional.
However,
technically,
these
are
optional
<em>
only
in
the
JSON
serialization
</em>.
They
are
actually
mandatory
parts
of
the
information
model
and
are
also
mandatory
in
the
JSON-LD
serialization.
<del class="diff-old">In
addition,
the
security
scheme
configuration
is
not
actually
optional
even
in
the
JSON
serialization.
Security
configuration
is
mandatory
at
least
one
of
the
three
levels
at
which
it
may
be
specified...
so
it
can
be
omitted
only
if
it
is
specified
at
a
different
level
for
each
form.
A
future
version
of
this
document
should
better
express
the
status
of
these
attributes.
</del>
</p>
</div>
<p>
A
detailed
description
of
the
vocabulary
of
the
TD
core
model
and
TD
data
schema
model
is
given
in
the
next
sub-section.
</p>
<p>
<span class="rfc2119-assertion" id="td-vocabulary">
<ins class="diff-new">All
vocabulary
restrictions
noted
in
tables
in
Section
</ins><a href= "#sec-core-vocabulary-definition" class="sec-ref"><span class= "secno"><ins class="diff-new">
5.2
</ins></span><span class="sec-title"><ins class="diff-new">
Core
Vocabulary
Definition
</ins></span></a>,<a href= "#sec-data-schema-vocabulary-definition" class= "sec-ref"><span class="secno"><ins class="diff-new">
5.3
</ins></span><span class= "sec-title"><ins class="diff-new">
Data
Schema
Vocabulary
Definition
</ins></span></a>,<ins class="diff-new">
and
</ins><a href="#sec-security-vocabulary-definition" class= "sec-ref"><span class="secno"><ins class="diff-new">
5.4
</ins></span><span class= "sec-title"><ins class="diff-new">
Security
Vocabulary
Definition
</ins></span></a><em class= "rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
be
followed,
including
mandatory
items
and
default
values.
</ins></span></p><p><ins class="diff-new">
How
to
serialize
these
vocabulary
terms
to
a
Thing
Description
instance
using
a
JSON-based
representation
is
explained
in
section
</ins><a href="#sec-td-serialization" class="sec-ref"><span class= "secno"><ins class="diff-new">
6.
</ins></span><span class="sec-title"><ins class="diff-new">
Thing
Description
Serialization
</ins></span></a>.</p>
</section>
<section id="sec-core-vocabulary-definition">
<h3 id="x5-2-core-vocabulary-definition">
<span class= "secno">
5.2
</span>
Core
Vocabulary
Definition
<a class="self-link" aria-label="§" href="#sec-core-vocabulary-definition">
</a>
</h3>
<section id="thing">
<h4 id="x5-2-1-thing">
<span class="secno">
5.2.1
</span>
<code>
Thing
</code>
<a class="self-link" aria-label="§" href= "#thing">
</a>
</h4>
<p>
Describes
a
physical
and/or
virtual
Thing
(may
represent
one
or
more
physical
and/or
virtual
Things)
in
the
Web
of
Things
context.
<ins class="diff-new">When
a
concrete
Thing
is
defined
in
a
Thing
Description,
it
is
called
an
"thing
resource".
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<code>
id
</code>
</td>
<td>
unique
identifier
of
the
Thing
(URI,
e.g.
custom
<del class="diff-old">URN)
</del>
<ins class="diff-chg">URN).
</ins>
</td>
<td>
yes
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-support">
<td>
<code>
<del class="diff-old">description
</del>
<ins class="diff-chg">support
</ins>
</code>
</td>
<td>
Provides
<del class="diff-old">additional
(human)
readable
information.
</del>
<ins class="diff-chg">information
about
the
TD
maintainer
(e.g.,
author,
link
or
telephone
number
to
get
support,
etc).
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-lastModified">
<td>
<code>
<del class="diff-old">name
</del>
<ins class="diff-chg">lastModified
</ins>
</code>
</td>
<td>
<del class="diff-old">Name
of
</del>
<ins class="diff-chg">Provides
information
when
</ins>
the
<del class="diff-old">Thing.
</del>
<ins class="diff-chg">TD
instance
was
last
modified.
</ins>
</td>
<td>
<del class="diff-old">yes
</del>
<ins class="diff-chg">no
</ins>
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-links">
<td>
<code>
<del class="diff-old">support
</del>
<ins class="diff-chg">links
</ins>
</code>
</td>
<td>
Provides
<del class="diff-old">information
about
</del>
<ins class="diff-chg">Web
links
to
arbitrary
resources
that
relate
to
</ins>
the
<del class="diff-old">TD
maintainer
(e.g.,
author,
link
or
telephone
number
</del>
<ins class="diff-chg">specified
Thing
Description.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><ins class="diff-chg">
array
of
</ins><a href="#link"><code><ins class="diff-chg">
Link
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-descriptions"><td><code><ins class="diff-chg">
descriptions
</ins></code></td><td><ins class="diff-chg">
Can
be
used
</ins>
to
<del class="diff-old">get
support,
etc).
</del>
<ins class="diff-chg">support
(human-readable)
information
in
different
languages.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href="#multilanguage">
<code>
<del class="diff-old">string
</del>
<ins class="diff-chg">MultiLanguage
</ins>
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id= "td-vocab-securityDefinitions">
<td>
<code>
<ins class="diff-chg">securityDefinitions
</ins></code></td><td><ins class="diff-chg">
Set
of
named
security
configurations
(definitions
only).
Not
actually
applied
unless
names
are
used
in
a
security
section.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href="#securityscheme"><code><ins class="diff-chg">
SecurityScheme
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-version"><td><code><ins class="diff-chg">
version
</ins></code></td><td><ins class="diff-chg">
Provides
version
information.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href="#versioning"><code><ins class="diff-chg">
Versioning
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-base">
<td>
<code>
base
</code>
</td>
<td>
Define
the
base
URI
that
is
valid
for
all
defined
local
interaction
resources.
All
other
URIs
in
the
TD
must
then
be
resolved
using
the
algorithm
defined
in
[
<cite>
<a class="bibref" href="#bib-rfc3986">
RFC3986
</a>
</cite>
].
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-created">
<td>
<code>
<del class="diff-old">properties
</del>
<ins class="diff-chg">created
</ins>
</code>
</td>
<td>
<del class="diff-old">All
Property-based
interaction
patterns
of
</del>
<ins class="diff-chg">Provides
information
when
</ins>
the
<del class="diff-old">Thing.
</del>
<ins class="diff-chg">TD
instance
was
created.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">Property
</del>
<ins class="diff-chg">string
</ins>
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-forms">
<td>
<code>
<ins class="diff-chg">forms
</ins></code></td><td><ins class="diff-chg">
Indicates
one
or
more
endpoints
at
which
operation(s)
on
this
resource
are
accessible.
In
this
version
of
TD,
all
operations
that
can
be
described
at
the
Thing
level
are
concerning
</ins><a href= "#property"><ins class="diff-chg">
Properties.
</ins></a><br /><br /><ins class="diff-chg">
Each
endpoint
is
for
accessing
one
or
more
of
"readallproperties",
"writeallproperties",
"writemultipleproperties"
and
"readmultipleproperties"
operations
on
the
thing
resource.
(See
</ins><a href="#td-forms-readall-example"><ins class="diff-chg">
an
example.
</ins></a><ins class="diff-chg">
)
Payloads
are
assigned
an
object
type
schema
with
its
properties
equal
to
the
Thing's
property
resources.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><ins class="diff-chg">
array
of
</ins><a href="#form"><code><ins class="diff-chg">
Form
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-actions">
<td>
<code>
actions
</code>
</td>
<td>
All
Action-based
interaction
patterns
of
the
Thing.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href="#action">
<code>
Action
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-security">
<td>
<code>
<ins class="diff-chg">security
</ins></code></td><td><ins class="diff-chg">
Set
of
security
definition
names,
chosen
from
those
defined
in
securityDefinitions.
These
must
all
be
satisfied
for
access
to
resources
at
or
below
the
current
level,
if
not
overridden
at
a
lower
level.
</ins></td><td><ins class="diff-chg">
yes
</ins></td><td>.</td><td><ins class="diff-chg">
array
of
</ins><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-chg">
string
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-events">
<td>
<code>
events
</code>
</td>
<td>
All
Event-based
interaction
patterns
of
the
Thing.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href="#event">
<code>
Event
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-description">
<td>
<code>
<del class="diff-old">links
</del>
<ins class="diff-chg">description
</ins>
</code>
</td>
<td>
Provides
<del class="diff-old">Web
links
to
arbitrary
resources
that
relate
to
the
specified
Thing
Description.
</del>
<ins class="diff-chg">additional
(human-readable)
information
based
on
a
default
language.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">array
of
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">Link
</del>
<ins class="diff-chg">string
</ins>
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-properties">
<td>
<code>
<del class="diff-old">security
</del>
<ins class="diff-chg">properties
</ins>
</code>
</td>
<td>
<del class="diff-old">Set
</del>
<ins class="diff-chg">All
Property-based
interaction
patterns
</ins>
of
<del class="diff-old">security
configurations,
provided
as
an
array,
that
must
all
be
satisfied
for
access
to
resources
at
or
below
</del>
the
<del class="diff-old">current
level,
if
not
overridden
at
a
lower
level.
</del>
<ins class="diff-chg">Thing.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">array
</del>
<a href="#property">
<code>
<ins class="diff-chg">Property
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-name"><td><code><ins class="diff-chg">
name
</ins></code></td><td><ins class="diff-chg">
Name
</ins>
of
<ins class="diff-chg">the
Thing.
</ins></td><td><ins class="diff-chg">
yes
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">SecurityScheme
</del>
<ins class="diff-chg">string
</ins>
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="interactionpattern">
<h4 id="x5-2-2-interactionpattern">
<span class="secno">
5.2.2
</span>
<code>
InteractionPattern
</code>
<a class="self-link" aria-label="§" href="#interactionpattern">
</a>
</h4>
<p>
Three
interaction
patterns
are
defined
as
subclasses:
Property,
Action
and
Event.
When
a
concrete
Property,
Action
or
Event
is
defined
in
a
Thing
Description,
it
is
called
an
"interaction
resource".
Interactions
between
Things
can
be
as
simple
as
one
Thing
accessing
another
Thing's
data
to
get
or
(in
the
case
the
data
is
also
writable)
change
the
representation
of
data
such
as
metadata,
status
or
mode.
A
Thing
may
also
be
interested
in
getting
asynchronously
notified
of
future
changes
in
another
Thing,
or
may
want
to
initiate
a
process
served
in
another
Thing
that
may
take
some
time
to
complete
and
monitor
the
progress.
Interactions
between
Things
may
involve
exchanges
of
data
between
them.
This
data
can
be
either
given
as
input
by
the
client
Thing,
returned
as
output
by
the
server
Thing
or
both.
</p>
<del class="diff-old">Each
instance
of
a
Property
,
Action
,
and
Event
class
MUST
have
an
identifier
that
is
unique
within
the
context
of
a
Thing
Description
document.
See
Section
Representation
Format
for
more
details
about
JSON-LD
1.1
identifiers.
</del>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-descriptions">
<td>
<code>
<del class="diff-old">forms
</del>
<ins class="diff-chg">descriptions
</ins>
</code>
</td>
<td>
<del class="diff-old">Indicates
one
or
more
endpoints
from
which
an
interaction
pattern
is
accessible.
</del>
<ins class="diff-chg">Can
be
used
to
support
(human-readable)
information
in
different
languages.
</ins>
</td>
<td>
<del class="diff-old">yes
</del>
<ins class="diff-chg">no
</ins>
</td>
<td>.
</td>
<td>
<del class="diff-old">array
of
</del>
<a href="#multilanguage">
<code>
<del class="diff-old">Form
</del>
<ins class="diff-chg">MultiLanguage
</ins>
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-title">
<td>
<code>
<del class="diff-old">label
</del>
<ins class="diff-chg">title
</ins>
</code>
</td>
<td>
Provides
a
<del class="diff-old">label
</del>
<ins class="diff-chg">human-readable
title
</ins>
(e.g.,
display
a
text
for
UI
representation)
of
the
interaction
<del class="diff-old">pattern.
</del>
<ins class="diff-chg">pattern
based
on
a
default
language.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-scopes">
<td>
<code>
<del class="diff-old">description
</del>
<ins class="diff-chg">scopes
</ins>
</code>
</td>
<td>
<del class="diff-old">Provides
additional
(human)
readable
information.
</del>
<ins class="diff-chg">Set
of
authorization
scope
identifiers,
provided
as
an
array.
These
are
provided
in
tokens
returned
by
an
authorization
server
and
associated
with
forms
in
order
to
identify
what
resources
a
client
may
access
and
how.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<ins class="diff-chg">array
of
</ins>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-uriVariables">
<td>
<code>
<ins class="diff-chg">uriVariables
</ins></code></td><td><ins class="diff-chg">
Define
URI
template
variables
as
collection
based
on
DataSchema
declarations.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href="#dataschema"><code><ins class="diff-chg">
DataSchema
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-forms"><td><code><ins class="diff-chg">
forms
</ins></code></td><td><ins class="diff-chg">
Indicates
one
or
more
endpoints
at
which
operation(s)
on
this
resource
are
accessible.
</ins></td><td><ins class="diff-chg">
yes
</ins></td><td>.</td><td><ins class="diff-chg">
array
of
</ins><a href="#form"><code><ins class="diff-chg">
Form
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-titles"><td><code><ins class="diff-chg">
titles
</ins></code></td><td><ins class="diff-chg">
Provides
multi-language
human-readable
titles
(e.g.,
display
a
text
for
UI
representation
in
different
languages)
of
the
interaction
pattern.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href="#multilanguage"><code><ins class="diff-chg">
MultiLanguage
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-security">
<td>
<code>
security
</code>
</td>
<td>
Set
of
security
<del class="diff-old">configurations,
provided
as
an
array,
that
</del>
<ins class="diff-chg">definition
names,
chosen
from
those
defined
in
securityDefinitions.
These
</ins>
must
all
be
satisfied
for
access
to
resources
at
or
below
the
current
level,
if
not
overridden
at
a
lower
level.
</td>
<td>
no
</td>
<td>.
</td>
<td>
array
of
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">SecurityScheme
</del>
<ins class="diff-chg">string
</ins>
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-description">
<td>
<code>
<del class="diff-old">scopes
</del>
<ins class="diff-chg">description
</ins>
</code>
</td>
<td>
<del class="diff-old">Set
of
authorization
scope
identifiers,
provided
as
an
array.
These
are
provided
in
tokens
returned
by
an
authorization
server
and
associated
with
forms
in
order
to
identify
what
resources
</del>
<ins class="diff-chg">Provides
additional
(human-readable)
information
based
on
</ins>
a
<del class="diff-old">client
may
access
and
how.
</del>
<ins class="diff-chg">default
language.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">array
of
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
<p>
The
class
<code>
InteractionPattern
</code>
has
the
following
subclasses:
</p>
<ul>
<li>
<a href="#event">
<code>
Event
</code>
</a>
</li>
<li>
<a href="#property">
<code>
Property
</code>
</a>
</li>
<li>
<a href="#action">
<code>
Action
</code>
</a>
</li>
</ul>
<p>
<span class="rfc2119-assertion" id="td-unique-identifiers">
<ins class="diff-new">Each
instance
of
a
</ins><code><ins class="diff-new">
Property
</ins></code>,<code><ins class="diff-new">
Action
</ins></code>,<ins class="diff-new">
and
</ins><code><ins class="diff-new">
Event
</ins></code><ins class="diff-new">
class
</ins><em class="rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
have
an
identifier
that
is
unique
within
the
context
of
a
Thing
Description
document.
</ins></span></p>
</section>
<section id="property">
<h4 id="x5-2-3-property">
<span class="secno">
5.2.3
</span>
<code>
Property
</code>
<a class="self-link" aria-label="§" href= "#property">
</a>
</h4>
<p>
Properties
expose
internal
state
of
a
Thing
that
can
be
directly
retrieved
(get)
and
optionally
modified
(set).
In
addition,
Things
can
also
choose
to
make
Properties
observable
by
pushing
the
new
state
(not
an
event)
after
a
change;
this
must
follow
eventual
consistency
(also
see
CAP
Theorem).
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-observable">
<td>
<code>
observable
</code>
</td>
<td>
Indicates
whether
a
remote
servient
can
subscribe
to
("observe")
the
Property,
to
receive
change
notifications
or
periodic
updates
(true/false).
</td>
<td>
no
</td>
<td>
<del class="diff-old">false
</del>
<code>
<del class="diff-old">boolean
</del>
<ins class="diff-chg">false
</ins>
</code>
<del class="diff-old">writable
Boolean
value
that
indicates
whether
a
property
is
writable
(=true)
or
not
(=false).
no
false
</del>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean">
<code>
boolean
</code>
</a>
</td>
</tr>
</tbody>
</table>
<div class="note" id="issue-container-generatedID-2">
<div role="heading" class="note-title marker" id="h-note" aria-level="5">
<span>
Note
</span>
</div>
<p class="">
Property
instances
<del class="diff-old">may
</del>
<ins class="diff-chg">are
</ins>
also
<del class="diff-old">be
</del>
instances
of
the
class
<a href="#dataschema" class="sec-ref">
DataSchema
<del class="diff-old">and
therefore
</del>
</a>.
<ins class="diff-chg">Therefore,
it
</ins>
can
<del class="diff-old">contain,
among
others,
</del>
<ins class="diff-chg">contain
</ins>
the
<code>
type
</code>,
<code>
<ins class="diff-new">unit
</ins></code>,<code><ins class="diff-new">
readOnly
</ins>
</code>
<del class="diff-old">term.
</del>
<ins class="diff-chg">and
</ins><code><ins class="diff-chg">
writeOnly
</ins></code><ins class="diff-chg">
members,
among
others.
</ins>
</p>
</div>
</section>
<section id="action">
<h4 id="x5-2-4-action">
<span class="secno">
5.2.4
</span>
<code>
Action
</code>
<a class="self-link" aria-label="§" href= "#action">
</a>
</h4>
<p>
Actions
offer
functions
of
the
Thing.
These
functions
may
manipulate
the
internal
state
of
a
Thing
in
a
way
that
is
not
possible
through
setting
Properties.
Examples
are
changing
internal
state
that
is
not
exposed
as
a
Property,
changing
multiple
Properties,
changing
Properties
over
time
or
with
a
process
that
should
not
be
disclosed.
Actions
may
also
be
pure
functions,
that
is,
they
may
not
use
any
internal
state
at
all,
and
may
simply
process
input
data
and
return
a
result
that
directly
depends
only
on
the
input
given.
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-input">
<td>
<code>
input
</code>
</td>
<td>
<del class="diff-old">Link
</del>
<ins class="diff-chg">Used
</ins>
to
<ins class="diff-new">define
</ins>
the
<del class="diff-old">n-ary
class
that
allows
the
declaration
of
the
accepted
</del>
<ins class="diff-chg">input
</ins>
data
<del class="diff-old">type
</del>
<ins class="diff-chg">schema
</ins>
of
<del class="diff-old">an
</del>
<ins class="diff-chg">the
</ins>
action.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-safe">
<td>
<code>
<del class="diff-old">output
</del>
<ins class="diff-chg">safe
</ins>
</code>
</td>
<td>
<del class="diff-old">Link
to
</del>
<ins class="diff-chg">Signals
if
</ins>
the
<del class="diff-old">n-ary
class
</del>
<ins class="diff-chg">action
is
safe
(=true)
or
not.
Used
to
signal
if
there
is
no
internal
state
(cf.
resource
state)
is
changed
when
invoking
an
Action.
In
</ins>
that
<del class="diff-old">allows
</del>
<ins class="diff-chg">case
responses
can
be
cached
as
example.
</ins></td><td><ins class="diff-chg">
yes
</ins></td><td><code><ins class="diff-chg">
false
</ins></code></td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code><ins class="diff-chg">
boolean
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-idempotent"><td><code><ins class="diff-chg">
idempotent
</ins></code></td><td><ins class="diff-chg">
Indicates
whether
</ins>
the
<del class="diff-old">declaration
of
</del>
<ins class="diff-chg">action
is
idempotent
(=true)
or
not.
Informs
whether
</ins>
the
<ins class="diff-new">action
can
be
called
repeatedly
with
the
same
result,
if
present,
based
on
the
same
input.
</ins></td><td><ins class="diff-new">
yes
</ins></td><td><code><ins class="diff-new">
false
</ins></code></td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code><ins class="diff-new">
boolean
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-output"><td><code><ins class="diff-new">
output
</ins></code></td><td><ins class="diff-new">
Used
to
define
the
output
</ins>
data
<del class="diff-old">type
returned
by
an
</del>
<ins class="diff-chg">schema
of
the
</ins>
action.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="event">
<h4 id="x5-2-5-event">
<span class="secno">
5.2.5
</span>
<code>
Event
</code>
<a class="self-link" aria-label="§" href= "#event">
</a>
</h4>
<p>
The
Event
Interaction
Pattern
describes
event
sources
that
asynchronously
push
messages.
Here
not
state,
but
state
transitions
(events)
are
communicated
(e.g.,
"clicked").
Events
may
be
triggered
by
internal
state
changes
that
are
not
exposed
as
Properties.
Events
usually
follow
strong
consistency,
where
messages
need
to
be
queued
to
ensure
eventual
delivery
of
all
events
that
have
occurred.
</p>
<del class="diff-old">Instances
of
the
Event
class
contains
the
term
definitions
of
the
class
InteractionPattern
and
DataSchema
.
5.2.6
Form
Communication
metadata
indicating
where
a
service
can
be
accessed
by
a
client
application.
An
interaction
might
have
more
than
one
form.
</del>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-data">
<td>
<code>
<del class="diff-old">href
</del>
<ins class="diff-chg">data
</ins>
</code>
</td>
<td>
<del class="diff-old">URI
</del>
<ins class="diff-chg">Defines
the
data
schema
</ins>
of
the
<del class="diff-old">endpoint
where
an
interaction
pattern
is
provided.
</del>
<ins class="diff-chg">Event
instance
messages
pushed
by
the
Thing.
</ins>
</td>
<td>
<del class="diff-old">yes
</del>
<ins class="diff-chg">no
</ins>
</td>
<td>.
</td>
<td>
<a href="#dataschema">
<code>
<del class="diff-old">anyURI
</del>
<ins class="diff-chg">DataSchema
</ins>
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-cancellation">
<td>
<code>
<del class="diff-old">mediaType
</del>
<ins class="diff-chg">cancellation
</ins>
</code>
</td>
<td>
<del class="diff-old">Assign
the
underlying
media
type
[
MEDIATYPES
]
of
an
interaction
pattern.
</del>
<ins class="diff-chg">Defines
any
data
that
needs
to
be
passed
to
cancel
a
subscription,
e.g.,
a
specific
message
to
remove
a
Webhook.
</ins>
</td>
<td>
no
</td>
<del class="diff-old">application/json
</del>
<td>.
</td>
<td>
<a href="#dataschema">
<code>
<del class="diff-old">string
</del>
<ins class="diff-chg">DataSchema
</ins>
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-subscription">
<td>
<code>
<del class="diff-old">rel
</del>
<ins class="diff-chg">subscription
</ins>
</code>
</td>
<td>
<del class="diff-old">Indicates
the
expected
result
of
performing
the
operation
described
by
the
form.
For
example,
the
Property
interaction
allows
get
and
set
operations.
The
protocol
binding
may
contain
a
form
for
the
get
operation
and
a
different
form
for
the
set
operation.
The
rel
attribute
indicates
which
form
is
which
and
allows
the
client
</del>
<ins class="diff-chg">Defines
data
that
needs
</ins>
to
<del class="diff-old">select
the
correct
form
for
the
operation
required.
The
value
of
the
rel
attribute
of
the
form
must
</del>
be
<del class="diff-old">one
of
readproperty,
writeproperty,
observeproperty,
invokeaction,
subscribeevent,
</del>
<ins class="diff-chg">passed
upon
subscription,
e.g.,
filters
</ins>
or
<del class="diff-old">unsubscribeevent.
</del>
<ins class="diff-chg">message
format
for
setting
up
Webhooks.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href="#dataschema">
<code>
<del class="diff-old">string
</del>
<ins class="diff-chg">DataSchema
</ins>
</code>
</a>
<del class="diff-old">(one
of
"readproperty"
,
"writeproperty"
,
"observeproperty"
,
"invokeaction"
,
"subscribeevent"
,
or
"unsubscribeevent"
)
</del>
</td>
</tr>
</tbody>
</table>
</section>
<section id="form">
<h4 id="x5-2-6-form">
<span class="secno">
<ins class="diff-new">5.2.6
</ins></span>
<code>
<del class="diff-old">subProtocol
</del>
<ins class="diff-chg">Form
</ins>
</code>
<del class="diff-old">Indicates
the
exact
mechanism
by
which
an
interaction
will
be
accomplished
for
a
given
protocol
when
there
are
multiple
options.
For
example,
for
HTTP
and
Events,
it
indicates
which
of
several
available
mechanisms
should
be
used
for
asynchronous
notifications.
no
.
string
</del>
<a class="self-link" aria-label="§" href= "#form">
</a>
</h4>
<p>
<del class="diff-old">(one
of
"LongPoll"
)
</del>
<ins class="diff-chg">Communication
metadata
indicating
where
a
service
can
be
accessed
by
a
client
application.
An
interaction
might
have
more
than
one
form.
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
<ins class="diff-new">Vocabulary
term
</ins></th><th><ins class="diff-new">
Description
</ins></th><th><ins class="diff-new">
Mandatory
</ins></th><th><ins class="diff-new">
Default
value
</ins></th><th><ins class="diff-new">
Type
</ins></th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-security">
<td>
<code>
security
</code>
</td>
<td>
Set
of
security
<del class="diff-old">configurations,
provided
as
an
array,
that
</del>
<ins class="diff-chg">definition
names,
chosen
from
those
defined
in
securityDefinitions.
These
</ins>
must
all
be
satisfied
for
access
to
resources
at
or
below
the
current
level,
if
not
overridden
at
a
lower
level.
</td>
<td>
no
</td>
<td>.
</td>
<td>
array
of
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">SecurityScheme
</del>
<ins class="diff-chg">string
</ins>
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-scopes">
<td>
<code>
scopes
</code>
</td>
<td>
Set
of
authorization
scope
identifiers,
provided
as
an
array.
These
are
provided
in
tokens
returned
by
an
authorization
server
and
associated
with
forms
in
order
to
identify
what
resources
a
client
may
access
and
how.
</td>
<td>
no
</td>
<td>.
</td>
<td>
array
of
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-response">
<td>
<del class="diff-old">5.2.7
</del>
<code>
<del class="diff-old">Link
</del>
<ins class="diff-chg">response
</ins>
</code>
</td>
<td>
<ins class="diff-chg">This
optional
term
can
be
used
if,
e.g.,
the
output
communication
metadata
differ
from
input
metdata
(e.g.,
output
contentType
differ
from
the
input
contentType).
The
response
name
contains
metadata
that
is
only
valid
for
the
reponse
messages.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href= "#expectedresponse"><code><ins class="diff-chg">
ExpectedResponse
</ins></code>
</a>
<del class="diff-old">A
Web
link,
as
specified
by
IETF
RFC
8288
(https://tools.ietf.org/html/rfc8288).
Field
Name
Description
Mandatory
Default
value
Type
</del>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-subprotocol">
<td>
<code>
<del class="diff-old">href
</del>
<ins class="diff-chg">subprotocol
</ins>
</code>
</td>
<td>
<del class="diff-old">URI
of
</del>
<ins class="diff-chg">Indicates
</ins>
the
<del class="diff-old">endpoint
where
</del>
<ins class="diff-chg">exact
mechanism
by
which
</ins>
an
interaction
<del class="diff-old">pattern
is
provided.
</del>
<ins class="diff-chg">will
be
accomplished
for
a
given
protocol
when
there
are
multiple
options.
</ins><p><ins class="diff-chg">
For
example,
for
HTTP
and
Events,
it
indicates
which
of
several
available
mechanisms
should
be
used
for
asynchronous
notifications.
</ins></p>
</td>
<td>
<del class="diff-old">yes
</del>
<ins class="diff-chg">no
</ins>
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">anyURI
</del>
<ins class="diff-chg">string
</ins>
</code>
</a>
<ins class="diff-chg">(one
of
</ins><code><ins class="diff-chg">
longpoll
</ins></code><ins class="diff-chg">
)
</ins>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-contentType">
<td>
<code>
<del class="diff-old">mediaType
</del>
<ins class="diff-chg">contentType
</ins>
</code>
</td>
<td>
Assign
<del class="diff-old">the
underlying
</del>
<ins class="diff-chg">a
content
type
based
on
a
</ins>
media
type
[
<cite>
<a class= "bibref" href="#bib-mediatypes">
MEDIATYPES
</a>
</cite>
]
<del class="diff-old">of
an
interaction
pattern.
</del>
<ins class="diff-chg">(e.g.,
'application/json)
and
(optional)
parameters
(e.g.,
'charset=utf-8').
</ins>
</td>
<td>
<del class="diff-old">no
</del>
<ins class="diff-chg">yes
</ins>
</td>
<td>
<code>
application/json
</code>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-href">
<td>
<code>
<del class="diff-old">rel
</del>
<ins class="diff-chg">href
</ins></code></td><td><ins class="diff-chg">
URI
of
the
endpoint
where
an
interaction
pattern
is
provided.
</ins></td><td><ins class="diff-chg">
yes
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code><ins class="diff-chg">
anyURI
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-op"><td><code><ins class="diff-chg">
op
</ins>
</code>
</td>
<td>
Indicates
the
<del class="diff-old">expected
result
</del>
<ins class="diff-chg">semantic
intention
</ins>
of
performing
the
<del class="diff-old">operation
</del>
<ins class="diff-chg">operation(s)
</ins>
described
by
the
form.
<p>
For
example,
the
Property
interaction
allows
get
and
set
operations.
<br />
The
protocol
binding
may
contain
a
form
for
the
get
operation
and
a
different
form
for
the
set
operation.
<br />
The
<del class="diff-old">rel
</del>
<ins class="diff-chg">op
</ins>
attribute
indicates
which
form
is
<ins class="diff-new">for
</ins>
which
and
allows
the
client
to
select
the
correct
form
for
the
operation
required.
</p>
<p>
<ins class="diff-new">op
can
be
assigned
one
or
more
interaction
verb(s)
each
representing
a
semantic
intention
of
an
operation.
</ins></p>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<ins class="diff-chg">(array
of)
</ins>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
<ins class="diff-chg">each
representing
an
interaction
verb
(EDNOTE:
Link
to
wot-binding-templates)
(one
of
</ins><code><ins class="diff-chg">
readproperty
</ins></code>,<code><ins class="diff-chg">
writeproperty
</ins></code>,<code><ins class="diff-chg">
observeproperty
</ins></code>,<code><ins class="diff-chg">
invokeaction
</ins></code>,<code><ins class="diff-chg">
subscribeevent
</ins></code>,<code><ins class="diff-chg">
unsubscribeevent
</ins></code>,<code><ins class="diff-chg">
readallproperties
</ins></code>,<code><ins class="diff-chg">
writeallproperties
</ins></code>,<code><ins class="diff-chg">
readmultipleproperties
</ins></code>,<ins class="diff-chg">
or
</ins><code><ins class="diff-chg">
writemultipleproperties
</ins></code><ins class="diff-chg">
)
</ins>
</td>
</tr>
</tbody>
</table>
</section>
<section id="link">
<h4 id="x5-2-7-link">
<span class="secno">
<ins class="diff-new">5.2.7
</ins></span><code><ins class="diff-new">
Link
</ins></code><a class="self-link" aria-label="§" href= "#link"></a></h4><p><ins class="diff-new">
A
Web
link,
as
specified
by
IETF
RFC
8288
(https://tools.ietf.org/html/rfc8288).
</ins></p><table class="def"><thead>
<tr>
<th>
<ins class="diff-new">Vocabulary
term
</ins></th><th><ins class="diff-new">
Description
</ins></th><th><ins class="diff-new">
Mandatory
</ins></th><th><ins class="diff-new">
Default
value
</ins></th><th><ins class="diff-new">
Type
</ins></th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-anchor">
<td>
<code>
anchor
</code>
</td>
<td>
By
default,
the
context
of
a
link
is
the
URL
of
the
representation
it
is
associated
with,
and
is
<del class="diff-old">serialized
</del>
<ins class="diff-chg">serialised
</ins>
as
a
URI.
When
present,
the
anchor
parameter
overrides
this
with
another
URI,
such
as
a
fragment
of
this
resource,
or
a
third
resource
(i.e.,
when
the
anchor
value
is
an
absolute
URI).
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-rel">
<td>
<code>
<ins class="diff-new">rel
</ins></code></td><td><ins class="diff-new">
Indicates
the
relation
to
an
other
Thing.
</ins></td><td><ins class="diff-new">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-new">
string
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-href"><td><code><ins class="diff-new">
href
</ins></code></td><td><ins class="diff-new">
URI
of
the
endpoint
where
an
interaction
pattern
is
provided.
</ins></td><td><ins class="diff-new">
yes
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI"><code><ins class="diff-new">
anyURI
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-type"><td><code><ins class="diff-new">
type
</ins></code></td><td><ins class="diff-new">
Provides
a
hint
indicating
what
the
media
type
[
</ins><cite><a class= "bibref" href="#bib-mediatypes"><ins class="diff-new">
MEDIATYPES
</ins></a></cite><ins class="diff-new">
]
of
the
result
of
dereferencing
the
link
should
be.
</ins></td><td><ins class="diff-new">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-new">
string
</ins></code></a></td></tr>
</tbody>
</table>
</section>
<section id="versioning">
<h4 id="x5-2-8-versioning">
<span class="secno">
<ins class="diff-new">5.2.8
</ins></span><code><ins class="diff-new">
Versioning
</ins></code><a class="self-link" aria-label="§" href= "#versioning"></a></h4><p><ins class="diff-new">
Carries
version
information
about
the
TD
instance.
If
required,
additional
version
information
such
as
firmware
and
hardware
version
(term
definitions
outside
of
the
TD
namespace)
can
be
extended
here.
</ins></p><table class="def"><thead><tr><th><ins class="diff-new">
Vocabulary
term
</ins></th><th><ins class="diff-new">
Description
</ins></th><th><ins class="diff-new">
Mandatory
</ins></th><th><ins class="diff-new">
Default
value
</ins></th><th><ins class="diff-new">
Type
</ins></th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-instance"><td><code><ins class="diff-new">
instance
</ins></code></td><td><ins class="diff-new">
Provides
a
version
identicator
of
this
TD
instance.
</ins></td><td><ins class="diff-new">
yes
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-new">
string
</ins></code></a></td></tr></tbody></table></section><section id="expectedresponse"><h4 id="x5-2-9-expectedresponse"><span class="secno"><ins class="diff-new">
5.2.9
</ins></span><code><ins class="diff-new">
ExpectedResponse
</ins></code><a class="self-link" aria-label="§" href="#expectedresponse"></a></h4><p><ins class="diff-new">
Communication
metadata
for
response
messages
(e.g.,
contentType
of
the
response).
</ins></p><table class="def"><thead><tr><th><ins class="diff-new">
Vocabulary
term
</ins></th><th><ins class="diff-new">
Description
</ins></th><th><ins class="diff-new">
Mandatory
</ins></th><th><ins class="diff-new">
Default
value
</ins></th><th><ins class="diff-new">
Type
</ins></th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-contentType"><td><code><ins class="diff-new">
contentType
</ins></code></td><td><ins class="diff-new">
Assign
a
content
type
based
on
a
media
type
[
</ins><cite><a class= "bibref" href="#bib-mediatypes"><ins class="diff-new">
MEDIATYPES
</ins></a></cite><ins class="diff-new">
]
(e.g.,
'application/json)
and
(optional)
parameters
(e.g.,
'charset=utf-8').
</ins></td><td><ins class="diff-new">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-new">
string
</ins></code></a></td></tr></tbody></table></section><section id="multilanguage"><h4 id="x5-2-10-multilanguage"><span class="secno"><ins class="diff-new">
5.2.10
</ins></span><code><ins class="diff-new">
MultiLanguage
</ins></code><a class="self-link" aria-label="§" href= "#multilanguage"></a></h4><p><ins class="diff-new">
Container
to
provide
human-readable
text
in
different
languages
using
language
tags
described
in
[
</ins><cite><a class="bibref" href= "#bib-bcp47"><ins class="diff-new">
BCP47
</ins></a></cite><ins class="diff-new">
].
Each
used
language
tags
code
</ins><em class="rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
be
decleared
as
vocabulary
term
member
of
this
container
(e.g.,
en,
de,
ja,
zh-Hans,
zh-Hant).
</ins></p></section>
</section>
<section id="sec-data-schema-vocabulary-definition">
<h3 id="x5-3-data-schema-vocabulary-definition">
<span class= "secno">
5.3
</span>
Data
Schema
Vocabulary
Definition
<a class= "self-link" aria-label="§" href= "#sec-data-schema-vocabulary-definition">
</a>
</h3>
<section id="dataschema">
<h4 id="x5-3-1-dataschema">
<span class="secno">
5.3.1
</span>
<code>
DataSchema
</code>
<a class="self-link" aria-label="§" href= "#dataschema">
</a>
</h4>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-title">
<td>
<code>
<del class="diff-old">description
</del>
<ins class="diff-chg">title
</ins>
</code>
</td>
<td>
Provides
<del class="diff-old">additional
(human)
readable
information.
</del>
<ins class="diff-chg">a
human-readable
title
(e.g.,
display
a
text
for
UI
representation)
of
the
interaction
pattern
based
on
a
default
language.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-oneOf">
<td>
<code>
<ins class="diff-chg">oneOf
</ins></code></td><td><ins class="diff-chg">
Used
to
ensure
that
the
data
is
valid
against
one
of
the
specified
schemas
in
the
array.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><ins class="diff-chg">
array
of
</ins><a href="#dataschema"><code><ins class="diff-chg">
DataSchema
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-readOnly"><td><code><ins class="diff-chg">
readOnly
</ins></code></td><td><ins class="diff-chg">
Boolean
value
that
indicates
whether
a
property
interaction
/
value
is
read
only
(=true)
or
not
(=false).
</ins></td><td><ins class="diff-chg">
yes
</ins></td><td><code><ins class="diff-chg">
false
</ins></code></td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code><ins class="diff-chg">
boolean
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-type">
<td>
<code>
type
</code>
</td>
<td>
Assignment
of
JSON-based
data
types
compatible
with
JSON
Schema
(one
of
boolean,
integer,
number,
string,
object,
array,
or
null).
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
(one
of
<code>
<del class="diff-old">"boolean"
</del>
<ins class="diff-chg">object
</ins>
</code>,
<code>
<del class="diff-old">"integer"
</del>
<ins class="diff-chg">array
</ins>
</code>,
<code>
<del class="diff-old">"number"
</del>
<ins class="diff-chg">string
</ins>
</code>,
<code>
<del class="diff-old">"string"
</del>
<ins class="diff-chg">number
</ins>
</code>,
<code>
<del class="diff-old">"object"
</del>
<ins class="diff-chg">integer
</ins>
</code>,
<code>
<del class="diff-old">"array"
</del>
<ins class="diff-chg">boolean
</ins>
</code>,
or
<code>
<del class="diff-old">"null"
</del>
<ins class="diff-chg">null
</ins>
</code>
)
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-descriptions">
<td>
<code>
<ins class="diff-chg">descriptions
</ins></code></td><td><ins class="diff-chg">
Can
be
used
to
support
(human-readable)
information
in
different
languages.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href="#multilanguage"><code><ins class="diff-chg">
MultiLanguage
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-description"><td><code><ins class="diff-chg">
description
</ins></code></td><td><ins class="diff-chg">
Provides
additional
(human-readable)
information
based
on
a
default
language.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-chg">
string
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-const">
<td>
<code>
const
</code>
</td>
<td>
Provides
a
constant
value.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<del class="diff-old">a
value
of
</del>
any
type
<del class="diff-old">that
is
consistent
with
the
type
given
to
the
above
type
field
definition
if
any
</del>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-enum">
<td>
<code>
enum
</code>
</td>
<td>
Restricted
set
of
values
provided
as
an
array.
</td>
<td>
no
</td>
<td>.
</td>
<td>
array
of
<del class="diff-old">values
of
</del>
any
type
<del class="diff-old">with
each
consistent
with
the
type
given
to
</del>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-titles">
<td>
<code>
<ins class="diff-chg">titles
</ins></code></td><td><ins class="diff-chg">
Provides
multi-language
human-readable
titles
(e.g.,
display
a
text
for
UI
representation
in
different
languages)
of
</ins>
the
<del class="diff-old">above
</del>
<ins class="diff-chg">interaction
pattern.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href="#multilanguage">
<code>
<del class="diff-old">type
</del>
<ins class="diff-chg">MultiLanguage
</ins>
</code>
<del class="diff-old">field
definition
if
any
</del>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-writeOnly">
<td>
<code>
<ins class="diff-chg">writeOnly
</ins></code></td><td><ins class="diff-chg">
Boolean
value
that
indicates
whether
a
property
interaction
/
value
is
write
only
(=true)
or
not
(=false).
</ins></td><td><ins class="diff-chg">
yes
</ins></td><td><code><ins class="diff-chg">
false
</ins></code></td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#boolean"><code><ins class="diff-chg">
boolean
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-unit"><td><code><ins class="diff-chg">
unit
</ins></code></td><td><ins class="diff-chg">
Provides
unit
information
that
is
used,
e.g.,
in
international
science,
engineering,
and
business.
</ins></td><td><ins class="diff-chg">
no
</ins></td><td>.</td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-chg">
string
</ins></code></a>
</td>
</tr>
</tbody>
</table>
<p>
The
class
<code>
DataSchema
</code>
has
the
following
subclasses:
</p>
<ul>
<li>
<a href="#integerschema">
<code>
<ins class="diff-new">IntegerSchema
</ins></code></a></li><li>
<a href="#arrayschema">
<code>
ArraySchema
</code>
</a>
</li>
<li>
<a href="#booleanschema">
<code>
BooleanSchema
</code>
</a>
</li>
<li>
<a href="#nullschema">
<code>
<del class="diff-old">IntegerSchema
</del>
<ins class="diff-chg">NullSchema
</ins>
</code>
</a>
</li>
<li>
<a href="#objectschema">
<code>
<del class="diff-old">NumberSchema
</del>
<ins class="diff-chg">ObjectSchema
</ins>
</code>
</a>
</li>
<li>
<a href="#numberschema">
<code>
<del class="diff-old">ObjectSchema
</del>
<ins class="diff-chg">NumberSchema
</ins>
</code>
</a>
</li>
<li>
<a href="#stringschema">
<code>
StringSchema
</code>
</a>
</li>
</ul>
</section>
<section id="arrayschema">
<h4 id="x5-3-2-arrayschema">
<span class="secno">
5.3.2
</span>
<code>
ArraySchema
</code>
<a class="self-link" aria-label="§" href= "#arrayschema">
</a>
</h4>
<p>
A
JSON
array
specification
("type":
"array").
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<del class="diff-old">items
Used
to
define
the
characteristics
of
an
array.
no
.
DataSchema
</del>
<tr class="rfc2119-table-assertion" id="td-vocab-minItems">
<td>
<code>
minItems
</code>
</td>
<td>
Defines
the
minimum
number
of
items
that
have
to
be
in
the
array.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#unsignedInt">
<code>
unsignedInt
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-maxItems">
<td>
<code>
maxItems
</code>
</td>
<td>
Defines
the
maximum
number
of
items
that
have
to
be
in
the
array.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#unsignedInt">
<code>
unsignedInt
</code>
</a>
</td>
</tr>
<del class="diff-old">5.3.3
ObjectSchema
A
JSON
object
specification
("type":
"object").
Field
Name
Description
Mandatory
Default
value
Type
</del>
<tr class="rfc2119-table-assertion" id="td-vocab-items">
<td>
<code>
<del class="diff-old">properties
</del>
<ins class="diff-chg">items
</ins>
</code>
</td>
<td>
<del class="diff-old">Data
schema
nested
definitions.
</del>
<ins class="diff-chg">Used
to
define
the
characteristics
of
an
array.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href="#dataschema">
<code>
DataSchema
</code>
</a>
</td>
</tr>
<del class="diff-old">required
Defines
which
members
of
the
object
type
are
mandatory.
no
.
array
of
string
</del>
</tbody>
</table>
</section>
<section id="booleanschema">
<h4 id="x5-3-3-booleanschema">
<span class="secno">
<del class="diff-old">5.3.4
</del>
<ins class="diff-chg">5.3.3
</ins>
</span>
<code>
BooleanSchema
</code>
<a class="self-link" aria-label="§" href= "#booleanschema">
</a>
</h4>
<p>
A
JSON
boolean
value
specification
("type":
"boolean").
</p>
</section>
<section id="numberschema">
<h4 id="x5-3-4-numberschema">
<span class="secno">
<del class="diff-old">5.3.5
</del>
<ins class="diff-chg">5.3.4
</ins>
</span>
<code>
NumberSchema
</code>
<a class="self-link" aria-label="§" href= "#numberschema">
</a>
</h4>
<p>
A
JSON
number
value
specification
("type":
"number").
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-maximum">
<td>
<code>
<del class="diff-old">minimum
</del>
<ins class="diff-chg">maximum
</ins>
</code>
</td>
<td>
Specifies
a
<del class="diff-old">minimum
</del>
<ins class="diff-chg">maximum
</ins>
numeric
value.
Only
applicable
for
associated
number
or
integer
types.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#double">
<code>
double
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-minimum">
<td>
<code>
<del class="diff-old">maximum
</del>
<ins class="diff-chg">minimum
</ins>
</code>
</td>
<td>
Specifies
a
<del class="diff-old">maximum
</del>
<ins class="diff-chg">minimum
</ins>
numeric
value.
Only
applicable
for
associated
number
or
integer
types.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#double">
<code>
double
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<del class="diff-old">5.3.6
StringSchema
A
JSON
string
value
specification
("type":
"string").
</del>
<section id="integerschema">
<h4 id="x5-3-5-integerschema">
<span class="secno">
<del class="diff-old">5.3.7
</del>
<ins class="diff-chg">5.3.5
</ins>
</span>
<code>
IntegerSchema
</code>
<a class="self-link" aria-label="§" href= "#integerschema">
</a>
</h4>
<p>
A
JSON
integer
value
specification,
that
is,
numbers
without
a
fractional
part
("type":
"integer").
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-maximum">
<td>
<code>
<del class="diff-old">minimum
</del>
<ins class="diff-chg">maximum
</ins>
</code>
</td>
<td>
Specifies
a
<del class="diff-old">minimum
</del>
<ins class="diff-chg">maximum
</ins>
numeric
value.
Only
applicable
for
associated
number
or
integer
types.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#integer">
<code>
integer
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-minimum">
<td>
<code>
<del class="diff-old">maximum
</del>
<ins class="diff-chg">minimum
</ins>
</code>
</td>
<td>
Specifies
a
<del class="diff-old">maximum
</del>
<ins class="diff-chg">minimum
</ins>
numeric
value.
Only
applicable
for
associated
number
or
integer
types.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#integer">
<code>
integer
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="objectschema">
<h4 id="x5-3-6-objectschema">
<span class="secno">
<ins class="diff-new">5.3.6
</ins></span><code><ins class="diff-new">
ObjectSchema
</ins></code><a class="self-link" aria-label="§" href= "#objectschema"></a></h4><p><ins class="diff-new">
A
JSON
object
specification
("type":
"object").
</ins></p><table class="def"><thead><tr><th><ins class="diff-new">
Vocabulary
term
</ins></th><th><ins class="diff-new">
Description
</ins></th><th><ins class="diff-new">
Mandatory
</ins></th><th><ins class="diff-new">
Default
value
</ins></th><th><ins class="diff-new">
Type
</ins></th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-required"><td><code><ins class="diff-new">
required
</ins></code></td><td><ins class="diff-new">
Defines
which
members
of
the
object
type
are
mandatory.
</ins></td><td><ins class="diff-new">
no
</ins></td><td>.</td><td><ins class="diff-new">
array
of
</ins><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-new">
string
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-properties"><td><code><ins class="diff-new">
properties
</ins></code></td><td><ins class="diff-new">
Data
schema
nested
definitions.
</ins></td><td><ins class="diff-new">
no
</ins></td><td>.</td><td><a href="#dataschema"><code><ins class="diff-new">
DataSchema
</ins></code></a></td></tr></tbody></table></section><section id="stringschema"><h4 id="x5-3-7-stringschema"><span class="secno"><ins class="diff-new">
5.3.7
</ins></span><code><ins class="diff-new">
StringSchema
</ins></code><a class="self-link" aria-label="§" href= "#stringschema"></a></h4><p><ins class="diff-new">
A
JSON
string
value
specification
("type":
"string").
</ins></p></section><section id="nullschema"><h4 id="x5-3-8-nullschema"><span class="secno"><ins class="diff-new">
5.3.8
</ins></span><code><ins class="diff-new">
NullSchema
</ins></code><a class="self-link" aria-label="§" href= "#nullschema"></a></h4><p><ins class="diff-new">
A
JSON
null
value
specification
("type":
"null").
Is
the
type
of
null
then
it
has
only
one
acceptable
value,
namely
null.
E.g.,
it
can
be
used
as
part
of
oneOf
declearation,
where
it
is
used
to
indicate,
that
a
data
schema
can
also
be
null.
</ins></p></section>
</section>
<section id="sec-security-vocabulary-definition">
<h3 id="x5-4-security-vocabulary-definition">
<span class= "secno">
5.4
</span>
Security
Vocabulary
Definition
<a class= "self-link" aria-label="§" href= "#sec-security-vocabulary-definition">
</a>
</h3>
<p>
For
the
core
TD
vocabulary
only
well-established
security
mechanisms
are
supported,
such
as
those
built
into
protocols
supported
by
WoT
or
already
in
wide
use
with
those
protocols.
The
current
set
of
HTTP
security
schemes
is
partly
based
on
<a href= "https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.1.md#securitySchemeObject">
OpenAPI
3.0.1
</a>
(see
also
[
<cite>
<a class="bibref" href= "#bib-openapi">
OPENAPI
</a>
</cite>
]).
Note
however
that
while
the
HTTP
security
schemes,
vocabulary
and
syntax
given
in
this
specification
share
many
similarities
with
OpenAPI
they
are
not
fully
compatible.
Also,
since
OpenAPI
primarily
targets
web
services
built
around
HTTP,
it
does
not
cover
the
full
set
of
use
cases
required
for
the
IoT.
Security
schemes
appropriate
for
IoT-centered
protocols
such
as
CoAP
and
MQTT
are
therefore
also
included.
</p>
<div class="ednote" id="issue-container-generatedID-3">
<div role="heading" class="ednote-title marker" id="h-ednote-2" aria-level="4">
<span>
Editor's
note
</span>
<span style= "text-transform: none">:
Security
Scheme
Extensions
</span>
</div>
<p class="">
The
vocabulary
extension
mechanism
of
the
WoT
Thing
Description
allows
for
additional
security
schemes
if
<del class="diff-old">needed.However,
</del>
<ins class="diff-chg">needed.
However,
</ins>
for
more
information
about
what
additional
security
schemes
or
modifications
are
under
discussion
for
the
core
WoT
<del class="diff-old">vocabulary(and
</del>
<ins class="diff-chg">vocabulary
(and
</ins>
to
file
issues
if
you
have
a
request)
please
visit
the
<a href="https://github.com/w3c/wot-security">
WoT
Security
TF
repository.
</a>
</p>
</div>
<section id="securityscheme">
<h4 id="x5-4-1-securityscheme">
<span class="secno">
5.4.1
</span>
<code>
SecurityScheme
</code>
<a class="self-link" aria-label="§" href="#securityscheme">
</a>
</h4>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-proxy">
<td>
<code>
<del class="diff-old">scheme
</del>
<ins class="diff-chg">proxy
</ins>
</code>
</td>
<td>
<del class="diff-old">Identification
</del>
<ins class="diff-chg">URI
</ins>
of
<ins class="diff-new">the
proxy
server
this
</ins>
security
<del class="diff-old">mechanism
being
configured.
</del>
<ins class="diff-chg">configuration
provides
access
to.
If
not
given,
the
corresponding
security
configuration
is
for
the
endpoint.
</ins>
</td>
<td>
<del class="diff-old">yes
</del>
<ins class="diff-chg">no
</ins>
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
<del class="diff-old">string
</del>
<ins class="diff-chg">anyURI
</ins>
</code>
</a>
<del class="diff-old">(one
of
"nosec"
,
"basic"
,
"cert"
,
"digest"
,
"bearer"
,
"pop"
,
"psk"
,
"public"
,
"oauth2"
,
or
"apikey"
)
</del>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-description">
<td>
<code>
description
</code>
</td>
<td>
Provides
additional
<del class="diff-old">(human)
readable
information.
</del>
<ins class="diff-chg">(human-readable)
information
based
on
a
default
language.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-scheme">
<td>
<code>
<del class="diff-old">proxyUrl
</del>
<ins class="diff-chg">scheme
</ins>
</code>
</td>
<td>
<del class="diff-old">URI
</del>
<ins class="diff-chg">Identification
</ins>
of
<del class="diff-old">the
proxy
server
this
security
configuration
provides
access
to.
If
not
given,
the
corresponding
</del>
security
<del class="diff-old">configuration
is
for
the
endpoint.
</del>
<ins class="diff-chg">mechanism
being
configured.
</ins>
</td>
<td>
<del class="diff-old">no
</del>
<ins class="diff-chg">yes
</ins>
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">anyURI
</del>
<ins class="diff-chg">string
</ins>
</code>
</a>
<ins class="diff-chg">(one
of
</ins><code><ins class="diff-chg">
nosec
</ins></code>,<code><ins class="diff-chg">
basic
</ins></code>,<code><ins class="diff-chg">
cert
</ins></code>,<code><ins class="diff-chg">
digest
</ins></code>,<code><ins class="diff-chg">
bearer
</ins></code>,<code><ins class="diff-chg">
pop
</ins></code>,<code><ins class="diff-chg">
psk
</ins></code>,<code><ins class="diff-chg">
public
</ins></code>,<code><ins class="diff-chg">
oauth2
</ins></code>,<ins class="diff-chg">
or
</ins><code><ins class="diff-chg">
apikey
</ins></code><ins class="diff-chg">
)
</ins>
</td>
</tr>
</tbody>
</table>
<p>
The
class
<code>
SecurityScheme
</code>
has
the
following
subclasses:
</p>
<ul>
<li>
<a href= "#psksecurityscheme">
<code>
<del class="diff-old">CertSecurityScheme
</del>
<ins class="diff-chg">PSKSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#apikeysecurityscheme">
<code>
APIKeySecurityScheme
</code>
</a>
</li>
<li>
<a href= "#nosecurityscheme">
<code>
<del class="diff-old">BasicSecurityScheme
</del>
<ins class="diff-chg">NoSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#certsecurityscheme">
<code>
<del class="diff-old">BearerSecurityScheme
</del>
<ins class="diff-chg">CertSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#popsecurityscheme">
<code>
<del class="diff-old">DigestSecurityScheme
</del>
<ins class="diff-chg">PoPSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#digestsecurityscheme">
<code>
<del class="diff-old">NoSecurityScheme
</del>
<ins class="diff-chg">DigestSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#oauth2securityscheme">
<code>
OAuth2SecurityScheme
</code>
</a>
</li>
<li>
<a href= "#bearersecurityscheme">
<code>
<del class="diff-old">PSKSecurityScheme
</del>
<ins class="diff-chg">BearerSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#basicsecurityscheme">
<code>
<del class="diff-old">PoPSecurityScheme
</del>
<ins class="diff-chg">BasicSecurityScheme
</ins>
</code>
</a>
</li>
<li>
<a href= "#publicsecurityscheme">
<code>
PublicSecurityScheme
</code>
</a>
</li>
</ul>
</section>
<section id="nosecurityscheme">
<h4 id="x5-4-2-nosecurityscheme">
<span class="secno">
5.4.2
</span>
<code>
NoSecurityScheme
</code>
<a class="self-link" aria-label="§" href="#nosecurityscheme">
</a>
</h4>
<p>
A
security
configuration
corresponding
to
("scheme":
"nosec"),
indicating
there
is
no
authentication
or
other
mechanism
required
to
access
the
resource.
</p>
</section>
<section id="basicsecurityscheme">
<h4 id="x5-4-3-basicsecurityscheme">
<span class= "secno">
5.4.3
</span>
<code>
BasicSecurityScheme
</code>
<a class= "self-link" aria-label="§" href="#basicsecurityscheme">
</a>
</h4>
<p>
Basic
authentication
security
configuration
("scheme":
"basic"),
using
an
unencrypted
username
and
password.
This
scheme
should
be
used
with
some
other
security
mechanism
providing
confidentiality,
for
example,
TLS.
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-name">
<td>
<code>
<del class="diff-old">in
</del>
<ins class="diff-chg">name
</ins>
</code>
</td>
<td>
<del class="diff-old">Specifies
the
location
of
security
authentication
information
(one
of
header,
</del>
<ins class="diff-chg">Name
for
</ins>
query,
<del class="diff-old">body,
</del>
<ins class="diff-chg">header,
</ins>
or
<del class="diff-old">cookie).
</del>
<ins class="diff-chg">cookie
parameters.
</ins>
</td>
<td>
no
</td>
<del class="diff-old">header
</del>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-in">
<td>
<code>
<del class="diff-old">name
</del>
<ins class="diff-chg">in
</ins>
</code>
</td>
<td>
<del class="diff-old">Name
for
query,
</del>
<ins class="diff-chg">Specifies
the
location
of
security
authentication
information
(one
of
</ins>
header,
<ins class="diff-new">query,
body,
</ins>
or
<del class="diff-old">cookie
parameters.
</del>
<ins class="diff-chg">cookie).
</ins>
</td>
<td>
no
</td>
<del class="diff-old">.
</del>
<td>
<code>
<ins class="diff-chg">header
</ins></code>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="digestsecurityscheme">
<h4 id="x5-4-4-digestsecurityscheme">
<span class= "secno">
5.4.4
</span>
<code>
<del class="diff-old">CertSecurityScheme
</del>
<ins class="diff-chg">DigestSecurityScheme
</ins>
</code>
<a class= "self-link" aria-label="§" href="#digestsecurityscheme">
</a>
</h4>
<p>
<del class="diff-old">Certificate-base
asymmetric
key
</del>
<ins class="diff-chg">Digest
authentication
</ins>
security
configuration
("scheme":
<del class="diff-old">"cert").
</del>
<ins class="diff-chg">"digest").
This
scheme
is
similar
to
basic
authentication
but
with
added
features
to
avoid
man-in-the-middle
attacks.
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-in">
<td>
<code>
<del class="diff-old">identity
</del>
<ins class="diff-chg">in
</ins>
</code>
</td>
<td>
<del class="diff-old">Pre-shared
key
identity.
</del>
<ins class="diff-chg">Specifies
the
location
of
security
authentication
information
(one
of
header,
query,
body,
or
cookie).
</ins></td><td><ins class="diff-chg">
no
</ins></td><td><code><ins class="diff-chg">
header
</ins></code></td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-chg">
string
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-qop"><td><code><ins class="diff-chg">
qop
</ins></code></td><td><ins class="diff-chg">
Quality
of
protection
(one
of
auth
or
auth-int).
</ins></td><td><ins class="diff-chg">
no
</ins></td><td><code><ins class="diff-chg">
auth
</ins></code></td><td><a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string"><code><ins class="diff-chg">
string
</ins></code></a></td></tr><tr class="rfc2119-table-assertion" id="td-vocab-name"><td><code><ins class="diff-chg">
name
</ins></code></td><td><ins class="diff-chg">
Name
for
query,
header,
or
cookie
parameters.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="apikeysecurityscheme">
<h4 id="x5-4-5-apikeysecurityscheme">
<span class= "secno">
5.4.5
</span>
<code>
<del class="diff-old">DigestSecurityScheme
</del>
<ins class="diff-chg">APIKeySecurityScheme
</ins>
</code>
<a class= "self-link" aria-label="§" href="#apikeysecurityscheme">
</a>
</h4>
<p>
<del class="diff-old">Digest
</del>
<ins class="diff-chg">API
key
</ins>
authentication
security
configuration
("scheme":
<del class="diff-old">"digest").
</del>
<ins class="diff-chg">"apikey").
</ins>
This
<del class="diff-old">scheme
</del>
is
<del class="diff-old">similar
to
basic
authentication
but
with
added
features
to
avoid
man-in-the-middle
attacks.
</del>
<ins class="diff-chg">for
the
case
where
the
access
token
is
opaque
and
is
not
using
a
standard
token
format.
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<del class="diff-old">qop
Quality
of
protection
(one
of
auth
or
auth-int).
no
auth
string
</del>
<tr class="rfc2119-table-assertion" id="td-vocab-in">
<td>
<code>
in
</code>
</td>
<td>
Specifies
the
location
of
security
authentication
information
(one
of
header,
query,
body,
or
cookie).
</td>
<td>
no
</td>
<td>
<del class="diff-old">header
</del>
<code>
<ins class="diff-chg">query
</ins></code>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-name">
<td>
<code>
name
</code>
</td>
<td>
Name
for
query,
header,
or
cookie
parameters.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="bearersecurityscheme">
<h4 id="x5-4-6-bearersecurityscheme">
<span class= "secno">
5.4.6
</span>
<code>
BearerSecurityScheme
</code>
<a class= "self-link" aria-label="§" href="#bearersecurityscheme">
</a>
</h4>
<p>
Bearer
token
authentication
security
configuration
("scheme":
"bearer").
This
scheme
is
intended
for
situations
where
bearer
tokens
are
used
independently
of
OAuth2.
If
the
oauth2
scheme
is
specified
it
is
not
generally
necessary
to
specify
this
scheme
as
well
as
it
is
implied.
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-name">
<td>
<code>
<del class="diff-old">authorizationUrl
</del>
<ins class="diff-chg">name
</ins>
</code>
</td>
<td>
<del class="diff-old">URI
of
the
authorization
server.
</del>
<ins class="diff-chg">Name
for
query,
header,
or
cookie
parameters.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">anyURI
</del>
<ins class="diff-chg">string
</ins>
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-alg">
<td>
<code>
alg
</code>
</td>
<td>
Encoding,
encryption,
or
digest
algorithm
(one
of
MD5,
ES256,
or
ES512-256).
</td>
<td>
no
</td>
<td>
<code>
ES256
</code>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-authorization">
<td>
<code>
<del class="diff-old">format
</del>
<ins class="diff-chg">authorization
</ins>
</code>
</td>
<td>
<del class="diff-old">Specifies
format
of
security
authentication
information
(one
</del>
<ins class="diff-chg">URI
</ins>
of
<del class="diff-old">jwt,
jwe,
or
jws).
</del>
<ins class="diff-chg">the
authorization
server.
</ins>
</td>
<td>
no
</td>
<del class="diff-old">jwt
</del>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
<del class="diff-old">string
</del>
<ins class="diff-chg">anyURI
</ins>
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-in">
<td>
<code>
in
</code>
</td>
<td>
Specifies
the
location
of
security
authentication
information
(one
of
header,
query,
body,
or
cookie).
</td>
<td>
no
</td>
<td>
<code>
header
</code>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-format">
<td>
<code>
<del class="diff-old">name
</del>
<ins class="diff-chg">format
</ins>
</code>
</td>
<td>
<del class="diff-old">Name
for
query,
header,
</del>
<ins class="diff-chg">Specifies
format
of
security
authentication
information
(one
of
jwt,
jwe,
</ins>
or
<del class="diff-old">cookie
parameters.
</del>
<ins class="diff-chg">jws).
</ins>
</td>
<td>
no
</td>
<del class="diff-old">.
</del>
<td>
<code>
<ins class="diff-chg">jwt
</ins></code>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="certsecurityscheme">
<h4 id="x5-4-7-certsecurityscheme">
<span class="secno">
5.4.7
</span>
<code>
<del class="diff-old">PSKSecurityScheme
</del>
<ins class="diff-chg">CertSecurityScheme
</ins>
</code>
<a class="self-link" aria-label="§" href="#certsecurityscheme">
</a>
</h4>
<p>
<del class="diff-old">Pre-shared
</del>
<ins class="diff-chg">Certificate-base
asymmetric
</ins>
key
<del class="diff-old">authentication
</del>
security
configuration
("scheme":
<del class="diff-old">"psk").
</del>
<ins class="diff-chg">"cert").
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-identity">
<td>
<code>
identity
</code>
</td>
<td>
Pre-shared
key
identity.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="psksecurityscheme">
<h4 id="x5-4-8-psksecurityscheme">
<span class="secno">
5.4.8
</span>
<code>
<del class="diff-old">PublicSecurityScheme
</del>
<ins class="diff-chg">PSKSecurityScheme
</ins>
</code>
<a class="self-link" aria-label="§" href="#psksecurityscheme">
</a>
</h4>
<p>
<del class="diff-old">Raw
public
key
asymmetric
</del>
<ins class="diff-chg">Pre-shared
</ins>
key
<ins class="diff-new">authentication
</ins>
security
configuration
("scheme":
<del class="diff-old">"public").
</del>
<ins class="diff-chg">"psk").
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-identity">
<td>
<code>
identity
</code>
</td>
<td>
Pre-shared
key
identity.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="publicsecurityscheme">
<h4 id="x5-4-9-publicsecurityscheme">
<span class= "secno">
5.4.9
</span>
<code>
<del class="diff-old">OAuth2SecurityScheme
</del>
<ins class="diff-chg">PublicSecurityScheme
</ins>
</code>
<a class= "self-link" aria-label="§" href="#publicsecurityscheme">
</a>
</h4>
<p>
<del class="diff-old">OAuth2
authentication
</del>
<ins class="diff-chg">Raw
public
key
asymmetric
key
</ins>
security
configuration
("scheme":
<del class="diff-old">"oauth2").
For
the
implicit
flow
the
authorizationUrl
and
scopes
are
required.
For
the
password
and
client
flows
both
tokenUrl
and
scopes
are
required.
For
the
code
flow
authorizationUrl,
tokenUrl,
and
scopes
are
required.
</del>
<ins class="diff-chg">"public").
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-identity">
<td>
<code>
<del class="diff-old">authorizationUrl
</del>
<ins class="diff-chg">identity
</ins>
</code>
</td>
<td>
<del class="diff-old">URI
of
the
authorization
server.
</del>
<ins class="diff-chg">Pre-shared
key
identity.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">anyURI
</del>
<ins class="diff-chg">string
</ins>
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="popsecurityscheme">
<h4 id="x5-4-10-popsecurityscheme">
<span class= "secno">
<ins class="diff-new">5.4.10
</ins></span>
<code>
<del class="diff-old">tokenUrl
</del>
<ins class="diff-chg">PoPSecurityScheme
</ins>
</code>
<del class="diff-old">URI
of
the
token
server.
no
.
anyURI
</del>
<a class= "self-link" aria-label="§" href="#popsecurityscheme">
</a>
</h4>
<p>
<ins class="diff-chg">Proof-of-possession
token
authentication
security
configuration
("scheme":
"pop").
</ins></p><table class="def"><thead>
<tr>
<th>
<ins class="diff-new">Vocabulary
term
</ins></th><th><ins class="diff-new">
Description
</ins></th><th><ins class="diff-new">
Mandatory
</ins></th><th><ins class="diff-new">
Default
value
</ins></th><th><ins class="diff-new">
Type
</ins></th></tr></thead><tbody><tr class="rfc2119-table-assertion" id="td-vocab-name">
<td>
<code>
<del class="diff-old">refreshUrl
</del>
<ins class="diff-chg">name
</ins>
</code>
</td>
<td>
<del class="diff-old">URI
of
the
refresh
server.
</del>
<ins class="diff-chg">Name
for
query,
header,
or
cookie
parameters.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
<del class="diff-old">anyURI
</del>
<ins class="diff-chg">string
</ins>
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-in">
<td>
<code>
<del class="diff-old">scopes
</del>
<ins class="diff-chg">in
</ins>
</code>
</td>
<td>
<del class="diff-old">Set
</del>
<ins class="diff-chg">Specifies
the
location
</ins>
of
<del class="diff-old">authorization
scope
identifiers,
provided
as
an
array.
These
are
provided
in
tokens
returned
by
an
authorization
server
and
associated
with
forms
in
order
to
identify
what
resources
a
client
may
access
and
how.
</del>
<ins class="diff-chg">security
authentication
information
(one
of
header,
query,
body,
or
cookie).
</ins>
</td>
<td>
no
</td>
<del class="diff-old">.
</del>
<td>
<code>
<ins class="diff-chg">header
</ins></code>
</td>
<td>
<del class="diff-old">array
of
</del>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-format">
<td>
<code>
<del class="diff-old">flow
</del>
<ins class="diff-chg">format
</ins>
</code>
</td>
<td>
<del class="diff-old">Authorization
flow
</del>
<ins class="diff-chg">Specifies
format
of
security
authentication
information
</ins>
(one
of
<del class="diff-old">implicit,
password,
client,
</del>
<ins class="diff-chg">jwt,
jwe,
</ins>
or
<del class="diff-old">code).
</del>
<ins class="diff-chg">jws).
</ins>
</td>
<td>
no
</td>
<td>
<del class="diff-old">implicit
</del>
<code>
<ins class="diff-chg">jwt
</ins></code>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<del class="diff-old">5.4.10
APIKeySecurityScheme
API
key
authentication
security
configuration
("scheme":
"apikey").
This
is
for
the
case
where
the
access
token
is
opaque
and
is
not
using
a
standard
token
format.
Field
Name
Description
Mandatory
Default
value
Type
</del>
<tr class="rfc2119-table-assertion" id="td-vocab-alg">
<td>
<code>
<del class="diff-old">in
</del>
<ins class="diff-chg">alg
</ins>
</code>
</td>
<td>
<del class="diff-old">Specifies
the
location
of
security
authentication
information
</del>
<ins class="diff-chg">Encoding,
encryption,
or
digest
algorithm
</ins>
(one
of
<del class="diff-old">header,
query,
body,
</del>
<ins class="diff-chg">MD5,
ES256,
</ins>
or
<del class="diff-old">cookie).
</del>
<ins class="diff-chg">ES512-256).
</ins>
</td>
<td>
no
</td>
<td>
<del class="diff-old">query
</del>
<code>
<ins class="diff-chg">ES256
</ins></code>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-authorization">
<td>
<code>
<del class="diff-old">name
</del>
<ins class="diff-chg">authorization
</ins>
</code>
</td>
<td>
<del class="diff-old">Name
for
query,
header,
or
cookie
parameters.
</del>
<ins class="diff-chg">URI
of
the
authorization
server.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
<del class="diff-old">string
</del>
<ins class="diff-chg">anyURI
</ins>
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
<section id="oauth2securityscheme">
<h4 id="x5-4-11-oauth2securityscheme">
<span class= "secno">
5.4.11
</span>
<code>
<del class="diff-old">PoPSecurityScheme
</del>
<ins class="diff-chg">OAuth2SecurityScheme
</ins>
</code>
<a class= "self-link" aria-label="§" href="#oauth2securityscheme">
</a>
</h4>
<p>
<del class="diff-old">Proof-of-possession
token
</del>
<ins class="diff-chg">OAuth2
</ins>
authentication
security
configuration
("scheme":
<del class="diff-old">"pop").
</del>
<ins class="diff-chg">"oauth2").
For
the
implicit
flow
the
authorization
and
scopes
are
required.
For
the
password
and
client
flows
both
token
and
scopes
are
required.
For
the
code
flow
authorization,
token,
and
scopes
are
required.
</ins>
</p>
<table class="def">
<thead>
<tr>
<th>
<del class="diff-old">Field
Name
</del>
<ins class="diff-chg">Vocabulary
term
</ins>
</th>
<th>
Description
</th>
<th>
Mandatory
</th>
<th>
Default
value
</th>
<th>
Type
</th>
</tr>
</thead>
<tbody>
<tr class="rfc2119-table-assertion" id="td-vocab-authorization">
<td>
<code>
<del class="diff-old">authorizationUrl
</del>
<ins class="diff-chg">authorization
</ins>
</code>
</td>
<td>
URI
of
the
authorization
server.
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
anyURI
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-token">
<td>
<code>
<del class="diff-old">alg
</del>
<ins class="diff-chg">token
</ins>
</code>
</td>
<td>
<del class="diff-old">Encoding,
encryption,
or
digest
algorithm
(one
</del>
<ins class="diff-chg">URI
</ins>
of
<del class="diff-old">MD5,
ES256,
or
ES512-256).
</del>
<ins class="diff-chg">the
token
server.
</ins>
</td>
<td>
no
</td>
<del class="diff-old">ES256
</del>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
<del class="diff-old">string
</del>
<ins class="diff-chg">anyURI
</ins>
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-flow">
<td>
<code>
<del class="diff-old">format
</del>
<ins class="diff-chg">flow
</ins>
</code>
</td>
<td>
<del class="diff-old">Specifies
format
of
security
authentication
information
</del>
<ins class="diff-chg">Authorization
flow
</ins>
(one
of
<del class="diff-old">jwt,
jwe,
</del>
<ins class="diff-chg">implicit,
password,
client,
</ins>
or
<del class="diff-old">jws).
</del>
<ins class="diff-chg">code).
</ins>
</td>
<td>
no
</td>
<td>
<del class="diff-old">jwt
</del>
<code>
<ins class="diff-chg">implicit
</ins></code>
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-scopes">
<td>
<code>
<del class="diff-old">in
</del>
<ins class="diff-chg">scopes
</ins>
</code>
</td>
<td>
<del class="diff-old">Specifies
the
location
of
security
authentication
information
(one
</del>
<ins class="diff-chg">Set
</ins>
of
<del class="diff-old">header,
query,
body,
or
cookie).
</del>
<ins class="diff-chg">authorization
scope
identifiers,
provided
as
an
array.
These
are
provided
in
tokens
returned
by
an
authorization
server
and
associated
with
forms
in
order
to
identify
what
resources
a
client
may
access
and
how.
</ins>
</td>
<td>
no
</td>
<del class="diff-old">header
</del>
<td>.
</td>
<td>
<ins class="diff-chg">array
of
</ins>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#string">
<code>
string
</code>
</a>
</td>
</tr>
<tr class="rfc2119-table-assertion" id="td-vocab-refresh">
<td>
<code>
<del class="diff-old">name
</del>
<ins class="diff-chg">refresh
</ins>
</code>
</td>
<td>
<del class="diff-old">Name
for
query,
header,
or
cookie
parameters.
</del>
<ins class="diff-chg">URI
of
the
refresh
server.
</ins>
</td>
<td>
no
</td>
<td>.
</td>
<td>
<a href= "http://www.w3.org/TR/2012/REC-xmlschema11-2-20120405/#anyURI">
<code>
<del class="diff-old">string
</del>
<ins class="diff-chg">anyURI
</ins>
</code>
</a>
</td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
<section id="sec-td-serialization">
<h2 id="x6-thing-description-serialization">
<span class= "secno">
6.
</span>
Thing
Description
Serialization
<a class= "self-link" aria-label="§" href="#sec-td-serialization">
</a>
</h2>
<del class="diff-old">Editor's
note
:
JSON-LD
1.1
This
is
the
first
draft
that
uses
JSON-LD
1.1
as
a
serialization
format
of
the
Thing
Description.
As
that
is
work
in
progress,
working
assumptions
are
based
on
the
latest
Community
Draft
of
JSON-LD
1.1
.
A
new
JSON-LD
Working
Group
has
already
been
chartered
.
It
is
planned
that
this
section
will
conform
to
the
latest
working
draft
of
their
JSON-LD
1.1
deliverable
and
only
use
stable
elements.
</del>
<p>
Thing
Description
instances
are
modeled
and
structured
based
on
Section
<a href="#sec-vocabulary-definition" class= "sec-ref">
<span class="secno">
5.
</span>
<span class= "sec-title">
Information
Model
</span>
</a>.
This
section
defines
a
TD
serialization
based
on
JSON
[
<cite>
<a class="bibref" href= "#bib-rfc8259">
RFC8259
</a>
</cite>
].
</p>
<section id="json-serializiation-section">
<h3 id="x6-1-basic-representation-format-assumptions">
<span class= "secno">
6.1
</span>
<ins class="diff-new">Basic
</ins>
Representation
Format
<ins class="diff-chg">Assumptions
</ins><a class= "self-link" aria-label="§" href= "#json-serializiation-section">
</a>
</h3>
<p>
<del class="diff-old">The
JSON
serialization
of
TDs
follows
the
syntax
of
JSON-LD
1.1
in
order
to
streamline
semantic
evaluation.
Hence,
serializations
can
be
parsed
either
as
raw
JSON
or
with
a
JSON-LD
1.1
processor.
</del>
In
order
to
enable
this
convergence,
all
vocabulary
terms
defined
in
Section
<a href="#sec-core-vocabulary-definition" class= "sec-ref">
<span class="secno">
<del class="diff-old">5.
</del>
<ins class="diff-chg">5.2
</ins>
</span>
<span class= "sec-title">
<del class="diff-old">Information
Model
</del>
<ins class="diff-chg">Core
Vocabulary
Definition
</ins>
</span>
</a>
will
have
a
JSON
<del class="diff-old">key
</del>
<ins class="diff-chg">name
</ins>
representation.
</p>
<p>
<del class="diff-old">In
addition,
Thing
Description
instances
MAY
contain
JSON-LD
1.1
keywords
such
as
@context
and
@type
.
</del>
The
data
types
of
the
vocabulary
as
defined
in
Section
<a href= "#sec-data-schema-vocabulary-definition" class= "sec-ref">
<span class="secno">
5.3
</span>
<span class= "sec-title">
Data
Schema
Vocabulary
Definition
</span>
</a>
will
be
transformed
to
JSON-based
types.
The
following
rules
are
used
for
vocabulary
terms
based
on
some
simple
type
definitions:
</p>
<ul>
<li>
<span class="rfc2119-assertion" id="td-string-type">
Vocabulary
terms
that
use
simple
types
string
and
anyURI
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
JSON
string.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="td-integer-type">
Vocabulary
terms
that
use
simple
type
unsignedInt
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
JSON
integer.
</span>
</li>
<li>
<span class="rfc2119-assertion" id="td-number-type">
Vocabulary
terms
that
use
simple
type
double
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
JSON
number.
</span>
</li>
</ul>
<p>
<span class="rfc2119-assertion" id="td-simple-form">
<ins class="diff-new">A
Thing
Description
instance
serialization
</ins><em class="rfc2119" title= "MAY"><ins class="diff-new">
MAY
</ins></em><ins class="diff-new">
omit
one
ore
more
vocabulary
terms
that
are
mandatory
AND
have
default
values
based
on
the
definitions
under
</ins><a href="#sec-data-schema-vocabulary-definition" class= "sec-ref"><span class="secno"><ins class="diff-new">
5.3
</ins></span><span class= "sec-title"><ins class="diff-new">
Data
Schema
Vocabulary
Definition
</ins></span></a><ins class="diff-new">
(e.g.,
</ins><code><ins class="diff-new">
readOnly
</ins></code><ins class="diff-new">
and
</ins><code><ins class="diff-new">
contentType
</ins></code><ins class="diff-new">
).
</ins></span><ins class="diff-new">
In
this
specification,
this
form
is
referred
to
as
</ins><i><ins class="diff-new">
Simple
</ins></i><ins class="diff-new">
Thing
Description
representation.
The
processing
of
such
</ins><i><ins class="diff-new">
Simple
</ins></i><ins class="diff-new">
Thing
Description
representation
will
be
explained
in
</ins><a href= "#note-json-processing" class="sec-ref"><span class= "secno"><ins class="diff-new">
6.4.1
</ins></span><span class="sec-title"><ins class="diff-new">
Thing
Description
Processing
</ins></span></a>.<ins class="diff-new">
When
a
Thing
Description
instance
carry
all
mandatory
vocabulary
terms
we
will
call
this
representation
as
</ins><i><ins class="diff-new">
Full
</ins></i><ins class="diff-new">
Thing
Description.
</ins></p><p><ins class="diff-new">
In
addition,
</ins><span class="rfc2119-assertion" id= "td-jsonld-keywords"><ins class="diff-new">
Thing
Description
instances
</ins><em class= "rfc2119" title="MAY"><ins class="diff-new">
MAY
</ins></em><ins class="diff-new">
contain
additional
JSON-LD
keywords
such
as
</ins><code><ins class="diff-new">
@context
</ins></code><ins class="diff-new">
and
</ins><code><ins class="diff-new">
@type
</ins></code>.<ins class="diff-new">
With
these
the
Thing
Description
can
be
easily
extended.
You
can
find
additional
details
in
the
Section
</ins><a href= "#content-extension-section" class="sec-ref"><span class= "secno"><ins class="diff-new">
6.2
</ins></span><span class="sec-title"><ins class="diff-new">
Context
Extension
</ins></span></a>.</span><span class="rfc2119-assertion" id= "td-at-type"><ins class="diff-new">
In
the
case
of
</ins><code><ins class="diff-new">
@type
</ins></code><ins class="diff-new">
usage
in
the
Thing
Description
instance,
the
</ins><code><ins class="diff-new">
@type
</ins></code><em class="rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
be
serialized
as
JSON
String
or
as
JSON
array
of
strings
when
multiple
values
are
assigned
to
</ins><code><ins class="diff-new">
@type
</ins></code>.</span></p><p>
All
vocabulary
terms
in
Section
<a href= "#sec-vocabulary-definition" class="sec-ref">
<span class= "secno">
5.
</span>
<span class="sec-title">
Information
Model
</span>
</a>
associated
with
more
complex
class-based
types
are
defined
separately
for
structured
JSON
type
transformation
in
the
following
subsections.
</p>
<section id="sec-thing-as-a-whole-json">
<h4 id="x6-1-1-thing-as-a-whole">
<span class="secno">
6.1.1
</span>
Thing
as
a
whole
<a class="self-link" aria-label="§" href= "#sec-thing-as-a-whole-json">
</a>
</h4>
<p>
<span class="rfc2119-assertion" id="td-context">
The
root
object
of
a
Thing
Description
instance
<em class="rfc2119" title= "MAY">
MAY
</em>
include
the
<code>
@context
</code>
<del class="diff-old">key
</del>
<ins class="diff-chg">name
known
</ins>
from
JSON-LD
<del class="diff-old">1.1
</del>
with
the
value
URI
of
the
Thing
description
context
file
<code>
http://www.w3.org/ns/td
</code>.
</span>
</p>
<div class="example" id= "ex-3-example-3-context-http-www-w3-org-ns-td">
<div class="marker">
<a class="self-link" href= "#ex-3-example-3-context-http-www-w3-org-ns-td">
Example
3
</a>
</div>
<pre class="hljs javascript" aria-busy="false">{  
    <span class="hljs-string">"@context"</span>: <span class=
"hljs-string">"http://www.w3.org/ns/td"</span>,
    ...
}
</pre>
</div>
<div class="ednote" id="issue-container-generatedID-4">
<div role="heading" class="ednote-title marker" id="h-ednote-3" aria-level="5">
<span>
Editor's
note
</span>
</div>
<p class="">
<code>
http://www.w3.org/ns/td
</code>
uses
content
negotiation
to
return
the
context
file.
Thus,
it
must
be
fetched
with
an
<code>
Accept
</code>
header
set
to
<code>
application/ld+json
</code>.
</p>
</div>
<p>
<del class="diff-old">When
a
Thing
Description
instance
is
processed
and
interpreted
by
a
JSON-LD
1.1
processor
the
@context
field
MUST
be
present
(see
also
Section
JSON-LD
1.1
Processing
).
</del>
<span class="rfc2119-assertion" id="td-additional-contexts">
When
a
single
Thing
Description
instance
involves
several
contexts,
additional
namespaces
with
prefixes
<em class="rfc2119" title= "MUST">
MUST
</em>
be
appended
to
the
<code>
@context
</code>
array
structure.
</span>
</p>
<p>
This
option
proves
relevant
if
one
wants
to
extend
the
existing
Thing
Description
context
without
modifying
it.
For
instance:
</p>
<div class="example" id= "ex-4-example-4-context-http-www-w3-org-ns-td-iot-http-example-org-iot">
<div class="marker">
<a class="self-link" href= "#ex-4-example-4-context-http-www-w3-org-ns-td-iot-http-example-org-iot">
Example
4
</a>
</div>
<pre class="hljs javascript" aria-busy="false">{
    <span class="hljs-string">"@context"</span>: [<span class=
"hljs-string">"http://www.w3.org/ns/td"</span>,
                {<span class=
"hljs-string">"iot"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"http://iotschema.org/"}],
</del>
<ins class="diff-chg">"hljs-string">"http://example.org/iot"</span>}],
</ins>
    ...
}
</pre>
</div>
<p>
<span class="rfc2119-assertion" id="td-context-toplevel">
Each
mandatory
and
optional
<del class="diff-old">field
</del>
<ins class="diff-chg">member
</ins>
name
as
defined
in
the
class
<a href= "#thing" class="sec-ref">
<code>
Thing
</code>
</a>
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
a
JSON
<del class="diff-old">key
</del>
<ins class="diff-chg">name
</ins>
in
the
root
object
of
the
Thing
Description
instance.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-objects">
The
type
of
the
<del class="diff-old">fields
</del>
<ins class="diff-chg">members
</ins>
<code>
properties
</code>,
<code>
actions
</code>,
<del class="diff-old">and
</del>
<code>
events
</code>,
<code>
<ins class="diff-new">version
</ins></code>,<ins class="diff-new">
and
</ins><code><ins class="diff-new">
securityDefinitions
</ins>
</code>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
a
JSON
object.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-arrays">
The
type
of
the
<del class="diff-old">fields
</del>
<ins class="diff-chg">members
</ins><code><ins class="diff-chg">
forms
</ins></code>,
<code>
links
</code>,
<code>
scopes
</code>,
and
<code>
security
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
a
JSON
array.
</span>
</p>
<p>
A
TD
snippet
based
on
the
defined
<del class="diff-old">fields
</del>
<ins class="diff-chg">members
</ins>
of
the
class
<a href= "#thing" class="sec-ref">
<code>
Thing
</code>
</a>
without
the
optional
<del class="diff-old">field
</del>
<ins class="diff-chg">member
</ins>
<code>
@context
</code>
is
given
below:
</p>
<div class="example" id= "ex-5-example-5-id-urn-dev-wot-com-example-servient-mything-name-mything-description-human-readable-information-descriptions-support-mailto-support-example-com-securitydefinitions-security-base-https-servient-example-com-lastmodified-2018-11-15t09-12-43-124z-created-2018-11-14t19-10-23-824z-version-properties-actions-events-links-forms">
<div class="marker">
<a class="self-link" href= "#ex-5-example-5-id-urn-dev-wot-com-example-servient-mything-name-mything-description-human-readable-information-descriptions-support-mailto-support-example-com-securitydefinitions-security-base-https-servient-example-com-lastmodified-2018-11-15t09-12-43-124z-created-2018-11-14t19-10-23-824z-version-properties-actions-events-links-forms">
Example
5
</a>
</div>
<pre class="hljs javascript" aria-busy="false">{
    <span class="hljs-string">"id"</span>: <span class=
"hljs-string">"urn:dev:wot:com:example:servient:myThing"</span>,
    <span class="hljs-string">"name"</span>: <span class=
"hljs-string">"MyThing"</span>,
    <span class="hljs-string">"description"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"Additional (human) readable information of the Thing.",
</del>
<ins class="diff-chg">"hljs-string">"Human readable information."</span>,
</ins>    <span class="hljs-string">"descriptions"</span>: {...},
    <span class="hljs-string">"support"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"https://servient.example.com/contact",
</del>
<ins class="diff-chg">"hljs-string">"mailto:support@example.com"</span>,
</ins>    <span class="hljs-string">"securityDefinitions"</span>: {...},
    <span class="hljs-string">"security"</span>: [...],
    <span class="hljs-string">"base"</span>: <span class=
"hljs-string">"https://servient.example.com/"</span>,
    <span class="hljs-string">"lastModified"</span> : <span class=
<ins class="diff-new">"hljs-string">"2018-11-15T09:12:43.124Z"</span>,
</ins>    <span class="hljs-string">"created"</span> : <span class=<ins class="diff-new">
"hljs-string">"2018-11-14T19:10:23.824Z"</span>,
</ins>    <span class="hljs-string">"version"</span> : {...},
    <span class="hljs-string">"properties"</span>: {...},
    <span class="hljs-string">"actions"</span>: {...},
    <span class="hljs-string">"events"</span>: {...},
<del class="diff-old">    : [...]
</del>
    <span class="hljs-string">"links"</span>: [...],
    <span class="hljs-string">"forms"</span>: [...]
}
</pre>
</div>
<p>
Alternatively,
the
same
example
can
be
written
instead
to
explicitly
include
the
(semantic)
<del class="diff-old">keys
</del>
<ins class="diff-chg">names
</ins>
used
by
<del class="diff-old">JSON-LD
1.1
(
</del>
<ins class="diff-chg">JSON-LD,
namely
</ins>
<code>
@context
</code>
and
<code>
@type
<del class="diff-old">):
</del>
</code>:
</p>
<div class="example" id= "ex-6-example-6-context-http-www-w3-org-ns-td-type-thing-id-urn-dev-wot-com-example-servient-mything-name-mything-description-human-readable-information-descriptions-support-mailto-support-example-com-securitydefinitions-security-base-https-servient-example-com-lastmodified-2018-11-15t09-12-43-124z-created-2018-11-14t19-10-23-824z-version-properties-actions-events-links-forms">
<div class="marker">
<a class="self-link" href= "#ex-6-example-6-context-http-www-w3-org-ns-td-type-thing-id-urn-dev-wot-com-example-servient-mything-name-mything-description-human-readable-information-descriptions-support-mailto-support-example-com-securitydefinitions-security-base-https-servient-example-com-lastmodified-2018-11-15t09-12-43-124z-created-2018-11-14t19-10-23-824z-version-properties-actions-events-links-forms">
Example
6
</a>
</div>
<pre class="hljs javascript" aria-busy="false">{
    <span class="hljs-string">"@context"</span>: <span class=
"hljs-string">"http://www.w3.org/ns/td"</span>,
    <span class="hljs-string">"@type"</span>: <span class=
"hljs-string">"Thing"</span>,
    <span class="hljs-string">"id"</span>: <span class=
"hljs-string">"urn:dev:wot:com:example:servient:myThing"</span>,
    <span class="hljs-string">"name"</span>: <span class=
"hljs-string">"MyThing"</span>,
    <span class="hljs-string">"description"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"Additional (human) readable information of the Thing.",
</del>
<ins class="diff-chg">"hljs-string">"Human readable information."</span>,
</ins>    <span class="hljs-string">"descriptions"</span>: {...},
    <span class="hljs-string">"support"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"https://servient.example.com/contact",
</del>
<ins class="diff-chg">"hljs-string">"mailto:support@example.com"</span>,
</ins>    <span class="hljs-string">"securityDefinitions"</span>: {...},
    <span class="hljs-string">"security"</span>: [...],
    <span class="hljs-string">"base"</span>: <span class=
"hljs-string">"https://servient.example.com/"</span>,
    <span class="hljs-string">"lastModified"</span> : <span class=
<ins class="diff-new">"hljs-string">"2018-11-15T09:12:43.124Z"</span>,
</ins>    <span class="hljs-string">"created"</span> : <span class=<ins class="diff-new">
"hljs-string">"2018-11-14T19:10:23.824Z"</span>,
</ins>    <span class="hljs-string">"version"</span> : {...},
    <span class="hljs-string">"properties"</span>: {...},
    <span class="hljs-string">"actions"</span>: {...},
    <span class="hljs-string">"events"</span>: {...},
<del class="diff-old">    : [...]
</del>
    <span class="hljs-string">"links"</span>: [...],
    <span class="hljs-string">"forms"</span>: [...]
}
</pre>
</div>
<p>
<ins class="diff-new">In
that
case
the
content
can
be
directly
associated
as
Thing
Description
based
on
the
namespace
</ins><code><ins class="diff-new">
http://www.w3.org/ns/td
</ins></code><ins class="diff-new">
provided
in
the
</ins><code><ins class="diff-new">
@context
</ins></code>.<ins class="diff-new">
The
</ins><code><ins class="diff-new">
"@type":
"Thing"
</ins></code><ins class="diff-new">
associates
an
instantiations
of
the
Thing
class
as
defined
in
Section
</ins><a href= "#thing" class="sec-ref"><span class="secno"><ins class="diff-new">
5.2.1
</ins></span><span class="sec-title"><ins class="diff-new">
Thing
</ins></span></a>.</p>
</section>
<section id="property-serialization-json">
<h4 id="x6-1-2-properties">
<span class="secno">
6.1.2
</span>
<code>
properties
</code>
<a class="self-link" aria-label="§" href= "#property-serialization-json">
</a>
</h4>
<p>
<span class="rfc2119-assertion" id="td-properties">
Properties
(and
sub-properties)
offered
by
a
Thing
<em class="rfc2119" title= "MUST">
MUST
</em>
be
collected
in
the
JSON-object
based
<code>
properties
</code>
<del class="diff-old">field
</del>
<ins class="diff-chg">member
</ins>
with
(unique)
Property
names
as
JSON
<del class="diff-old">keys.
</del>
<ins class="diff-chg">names.
</ins>
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-property-names">
Each
mandatory
and
optional
vocabulary
term
as
defined
in
the
class
<a href="#property" class="sec-ref">
<code>
Property
</code>
</a>,
as
well
as
its
two
superclasses
<a href="#interactionpattern" class= "sec-ref">
<code>
InteractionPattern
</code>
</a>
and
<a href= "#dataschema" class="sec-ref">
<code>
DataSchema
</code>
</a>,
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
a
JSON
<del class="diff-old">key
</del>
<ins class="diff-chg">name
</ins>
within
a
Property
object.
<del class="diff-old">The
type
</del>
<ins class="diff-chg">This
means
that
at
the
level
</ins>
of
<ins class="diff-new">an
interaction
property
instance,
</ins>
the
<del class="diff-old">fields
</del>
<ins class="diff-chg">vocabulary
terms
of
</ins><a href= "#interactionpattern" class= "sec-ref">
<code>
<del class="diff-old">properties
</del>
<ins class="diff-chg">InteractionPattern
</ins>
</code>
</a>
and
<a href= "#dataschema" class="sec-ref">
<code>
<del class="diff-old">items
</del>
<ins class="diff-chg">DataSchema
</ins>
</code>
<del class="diff-old">MUST
</del>
</a>
<ins class="diff-chg">can
</ins>
be
<del class="diff-old">serialized
as
a
JSON
object.
</del>
<ins class="diff-chg">presented
at
the
same
time.
</ins>
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-property-arrays">
The
type
of
the
<del class="diff-old">fields
</del>
<ins class="diff-chg">members
</ins>
<code>
forms
</code>,
<code>
<del class="diff-old">required
,
and
enum
,
</del>
scopes
</code>,
and
<code>
security
</code>,
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
a
JSON
array.
</span>
</p>
<p>
A
TD
snippet
based
on
the
defined
<del class="diff-old">fields
</del>
<ins class="diff-chg">members
</ins>
is
given
below:
</p>
<aside class="example ds-selector-tabs changed" id= "property-serialization-sample">
<div class="marker">
<a class="self-link" href= "#property-serialization-sample">
Example
7
</a>
<del class="diff-old">{
    ...
    : {
        : {
            : &lt;span class=
"hljs-string"&gt;"On/Off",
            : &lt;span class=
"hljs-string"&gt;"boolean",
            : [...]
        },
        : {
            : &lt;span class=
"hljs-string"&gt;"object",
            : {
                : {
                    &lt;span class=
"hljs-string"&gt;"type": &lt;span class=
"hljs-string"&gt;"number",
                    &lt;span class=
"hljs-string"&gt;"minimum": &lt;span class=
"hljs-number"&gt;0.0,
                    &lt;span class=
"hljs-string"&gt;"maximum": &lt;span class=
"hljs-number"&gt;100.0
                 },
                 : {
                    &lt;span class=
"hljs-string"&gt;"type": &lt;span class=
"hljs-string"&gt;"array",
                     : {
                        &lt;span class=
"hljs-string"&gt;"type" : &lt;span class=
"hljs-string"&gt;"number",
                        &lt;span class=
"hljs-string"&gt;"minimum",
                        &lt;span class=
"hljs-string"&gt;"maximum": &lt;span class=
"hljs-number"&gt;255
                    },
                    &lt;span class=
"hljs-string"&gt;"minItems": &lt;span class=
"hljs-number"&gt;3,
                    &lt;span class=
"hljs-string"&gt;"maxItems"
                }
            },
            &lt;span class=
"hljs-string"&gt;"required": [&lt;span class=
"hljs-string"&gt;"brightness", &lt;span class=
"hljs-string"&gt;"rgb"],
            : [...]
        }
    }
    ...
}
Similar
to
the
case
at
the
Thing
level,
properties
MAY
have
additional
semantic
annotations
based
on
JSON-LD
1.1
keywords.
When
a
Thing
Description
instance
is
processed
and
interpreted
by
</del>
<span class= "example-title">:
<ins class="diff-chg">Sample
of
</ins>
a
<del class="diff-old">JSON-LD
1.1
processor,
each
</del>
property
<del class="diff-old">MUST
contain
the
vocabulary
terms
observable
and
writable
due
to
the
open-world
assumption
of
Linked
Data.
</del>
<ins class="diff-chg">interaction
serialization
</ins>
</span>
<del class="diff-old">This
assumption
means
that
if
a
Linked
Data
model
of
a
Thing
Description
instance
were
to
omit
these
vocabulary
terms,
then
the
interpreter
would
not
be
able
to
make
any
assumptions
about
their
actual
value.
</del>
</div>
<div class="selectors">
<p>
<del class="diff-old">A
snippet
of
a
JSON-LD
1.1
processable
TD
serialization
including
semantic
annotations
and
the
default
values
of
observable
and
writable
based
on
the
class
</del>
<del class="diff-old">Property
</del>
<button class="selected" data-selects="original">
<ins class="diff-chg">Simple
</ins></button><button data-selects="expanded"><ins class="diff-chg">
Full
</ins></button>
<del class="diff-old">is
given
as
follows:
</del>
</p>
<del class="diff-old">Example
8
</del>
</div>
<del class="diff-old">...
: {
    : {
        : &lt;span class=
"hljs-string"&gt;"iot:SwitchToggle",
        : &lt;span class=
"hljs-string"&gt;"On/Off",
        : &lt;span class=
"hljs-literal"&gt;false,
        : &lt;span class=
"hljs-literal"&gt;false,
        : &lt;span class=
"hljs-string"&gt;"boolean",
        : [...]
    },
    : {
        : &lt;span class=
"hljs-literal"&gt;false,
        : &lt;span class=
"hljs-literal"&gt;false,
        : &lt;span class=
"hljs-string"&gt;"object",
        : {
            : {
                &lt;span class=
"hljs-string"&gt;"@type": &lt;span class=
"hljs-string"&gt;"iot:CurrentLevel",
                &lt;span class=
"hljs-string"&gt;"type": &lt;span class=
"hljs-string"&gt;"number",
                &lt;span class=
"hljs-string"&gt;"minimum": &lt;span class=
"hljs-number"&gt;0.0,
                &lt;span class=
"hljs-string"&gt;"maximum": &lt;span class=
"hljs-number"&gt;100.0
</del>
<pre class="original selected hljs" aria-busy="false">{
<ins class="diff-chg">        ...
        "properties": {
            "on": {
                "type": "boolean",
                "forms": [...]
</ins>
            },
<del class="diff-old">            : {
                &lt;span class=
"hljs-string"&gt;"@type": &lt;span class=
"hljs-string"&gt;"iot:rgbData",
                &lt;span class=
"hljs-string"&gt;"type": &lt;span class=
"hljs-string"&gt;"array",
                 : {
                    &lt;span class=
"hljs-string"&gt;"type" : &lt;span class=
"hljs-string"&gt;"number",
                    &lt;span class=
"hljs-string"&gt;"minimum",
                    &lt;span class=
"hljs-string"&gt;"maximum": &lt;span class=
"hljs-number"&gt;255
</del>
<ins class="diff-chg">            "status": {
                "type": "object",
                "properties": {
                    "brightness": {
                        "type": "number",
                        "minimum": 0.0,
                        "maximum": 100.0
                        },
                        "rgb": {
                        "type": "array",
                        "items" : {
                            "type" : "number",
                            "minimum": 0,
                            "maximum": 255
                        },
                        "minItems": 3,
                        "maxItems": 3
                    }
</ins>
                },
<del class="diff-old">                &lt;span class=
"hljs-string"&gt;"minItems": &lt;span class=
"hljs-number"&gt;3,
                &lt;span class=
"hljs-string"&gt;"maxItems"
</del>
<ins class="diff-chg">                "required": ["brightness", "rgb"],
                "forms": [...]
</ins>
            }
<ins class="diff-new">        }
        ...
}
</ins></pre><pre class="expanded hljs" aria-busy="false">{<ins class="diff-new">
    ...
    "properties": {
        "on": {
            "type": "boolean",
            "readOnly" : false,
            "writeOnly" : false,
            "observable" : false,
            "forms": [...]
</ins>
        },
<del class="diff-old">        : [&lt;span class=
"hljs-string"&gt;"brightness",&lt;span class=
"hljs-string"&gt;"rgb"],
        : [...]
</del>
<ins class="diff-chg">        "status": {
            "type": "object",
            "readOnly" : false,
            "writeOnly" : false,
            "properties": {
                "brightness": {
                    "type": "number",
                    "minimum": 0.0,
                    "maximum": 100.0,
                    "readOnly" : false,
                    "writeOnly" : false
                    },
                    "rgb": {
                    "type": "array",
                    "readOnly" : false,
                    "writeOnly" : false,
                    "items" : {
                        "type" : "number",
                        "minimum": 0,
                        "maximum": 255,
                        "readOnly" : false,
                        "writeOnly" : false
                    },
                    "minItems": 3,
                    "maxItems": 3
                }
            },
            "required": ["brightness", "rgb"],
            "forms": [...]
        }
</ins>
    }
<ins class="diff-new">    ...
</ins>
}
<del class="diff-old">...
</del>
</pre>
</aside>
</section>
<section id="action-serialization-json">
<h4 id="x6-1-3-actions">
<span class="secno">
6.1.3
</span>
<code>
actions
</code>
<a class="self-link" aria-label="§" href= "#action-serialization-json">
</a>
</h4>
<p>
<span class="rfc2119-assertion" id="td-actions">
Actions
offered
by
a
Thing
<em class="rfc2119" title="MUST">
MUST
</em>
be
collected
in
the
JSON-object
based
<code>
actions
</code>
<del class="diff-old">field
</del>
<ins class="diff-chg">member
</ins>
with
(unique)
Action
names
as
JSON
<del class="diff-old">keys.
</del>
<ins class="diff-chg">names.
</ins>
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-action-names">
Each
optional
vocabulary
term
as
defined
in
the
class
<a href="#action" class="sec-ref">
<code>
Action
</code>
</a>
and
its
superclass
<a href= "#interactionpattern" class= "sec-ref">
<code>
InteractionPattern
</code>
</a>
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
a
JSON
<del class="diff-old">key
</del>
<ins class="diff-chg">name
</ins>
within
an
Action
object.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-action-objects">
The
type
of
the
<del class="diff-old">fields
</del>
<ins class="diff-chg">members
</ins>
<code>
input
</code>
and
<code>
output
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
a
JSON
object.
</span>
</p>
<p>
The
<del class="diff-old">keys
of
</del>
<ins class="diff-chg">names
</ins>
<code>
input
</code>
and
<code>
output
</code>
rely
on
the
the
class
<a href="#dataschema" class= "sec-ref">
<code>
DataSchema
</code>
</a>
<ins class="diff-new">and
will
follow
the
serialization
introduction
provided
in
</ins><a href= "#data-schema-serialization-json" class="sec-ref"><span class= "secno"><ins class="diff-new">
6.1.9
</ins></span><span class="sec-title"><ins class="diff-new">
Data
Schema
Representation
</ins></span>
</a>.
</p>
<p>
<span class="rfc2119-assertion" id="td-action-arrays">
The
type
of
the
<del class="diff-old">fields
</del>
<ins class="diff-chg">members
</ins>
<code>
forms
</code>,
<code>
scopes
</code>,
and
<code>
security
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
a
JSON
array.
</span>
</p>
<p>
A
TD
snippet
based
on
the
defined
<del class="diff-old">fields
</del>
<ins class="diff-chg">members
</ins>
is
given
below:
</p>
<aside class="example ds-selector-tabs changed" id= "action-serialization-sample">
<div class="marker">
<a class="self-link" href= "#action-serialization-sample">
Example
<del class="diff-old">9
</del>
<ins class="diff-chg">8
</ins>
</a>
<span class= "example-title">:
<ins class="diff-new">Sample
of
a
property
interaction
serialization
</ins></span>
</div>
<del class="diff-old">...
: {
     {
        : &lt;span class=
"hljs-string"&gt;"Fade in/out",
        &lt;span class=
"hljs-string"&gt;"description",
        : {
            : &lt;span class=
"hljs-string"&gt;"object",
            : {
                : {
                    &lt;span class=
"hljs-string"&gt;"type": &lt;span class=
"hljs-string"&gt;"integer",
                    &lt;span class=
"hljs-string"&gt;"minimum",
                    &lt;span class=
"hljs-string"&gt;"maximum": &lt;span class=
"hljs-number"&gt;100
</del>
<div class="selectors">
<p>
<button class="selected" data-selects="original">
<ins class="diff-chg">Simple
</ins></button><button data-selects="expanded"><ins class="diff-chg">
Full
</ins></button></p></div><pre class="original selected hljs" aria-busy="false">{<ins class="diff-chg">
    ...
    "actions": {
        "fade" : {
            "title": "Fade in/out",
            "description": "Smooth fade in and out animation.",
            "input": {
                "type": "object",
                "properties": {
                    "from": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 100
                    },
                    "to": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 100
                    },
                    "duration": {"type": "number"}
</ins>
                },
<del class="diff-old">                : {
                    &lt;span class=
"hljs-string"&gt;"type": &lt;span class=
"hljs-string"&gt;"integer",
                    &lt;span class=
"hljs-string"&gt;"minimum",
                    &lt;span class=
"hljs-string"&gt;"maximum": &lt;span class=
"hljs-number"&gt;100
</del>
<ins class="diff-chg">                "required": ["to","duration"],
            },
            "output": {"type": "string"},
            "forms": [...]
        }
        ...
    }
    ...
</ins></pre><pre class="expanded hljs" aria-busy="false">{<ins class="diff-chg">
    ...
    "actions": {
        "fade" : {
            "title": "Fade in/out",
            "description": "Smooth fade in and out animation.",
            "idempotent" :  false,
            "safe" :  false,
            "input": {
                "type": "object",
                "properties": {
                    "from": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 100,
                        "readOnly" : false,
                        "writeOnly" : false
                    },
                    "to": {
                        "type": "integer",
                        "minimum": 0,
                        "maximum": 100,
                        "readOnly" : false,
                        "writeOnly" : false
                    },
                    "duration": {"type": "number"}
</ins>
                },
<del class="diff-old">                &lt;span class=
"hljs-string"&gt;"duration": {&lt;span class=
"hljs-string"&gt;"type": &lt;span class=
"hljs-string"&gt;"number"}
</del>
<ins class="diff-chg">                "required": ["to","duration"],
</ins>
            },
<del class="diff-old">            &lt;span class=
"hljs-string"&gt;"required": [&lt;span class=
"hljs-string"&gt;"to",&lt;span class=
"hljs-string"&gt;"duration"],
        },
        : {&lt;span class=
"hljs-string"&gt;"type": &lt;span class=
"hljs-string"&gt;"string"},
        : [...]
</del>
<ins class="diff-chg">            "output": {
                "type": "string",
                "readOnly" : false,
                "writeOnly" : false
            },
            "forms": [...]
        }
        ...
</ins>
    }
    ...
}
<del class="diff-old">...
</del>
</pre>
<del class="diff-old">Definitions
within
the
actions
field
MAY
have
additional
semantic
annotations
based
on
JSON-LD
1.1
keywords.
</del>
</aside>
</section>
<section id="event-serialization-json">
<h4 id="x6-1-4-events">
<span class="secno">
6.1.4
</span>
<code>
events
</code>
<a class="self-link" aria-label="§" href= "#event-serialization-json">
</a>
</h4>
<p>
<span class="rfc2119-assertion" id="td-events">
Events
offered
by
a
Thing
<em class="rfc2119" title="MUST">
MUST
</em>
be
collected
in
the
JSON-object
based
<code>
events
</code>
<del class="diff-old">field
</del>
<ins class="diff-chg">member
</ins>
with
(unique)
Event
names
as
JSON
<del class="diff-old">keys.
</del>
<ins class="diff-chg">names.
</ins>
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-event-names">
Each
optional
vocabulary
term
as
defined
in
the
class
<a href="#event" class="sec-ref">
<code>
Event
</code>
</a>,
as
well
as
its
two
superclasses
<a href="#interactionpattern" class= "sec-ref">
<code>
InteractionPattern
</code>
</a>
and
<a href= "#dataschema" class="sec-ref">
<code>
DataSchema
</code>
</a>,
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
a
JSON
<del class="diff-old">key
</del>
<ins class="diff-chg">name
</ins>
within
an
Event
object.
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-event-objects">
The
type
of
the
<del class="diff-old">fields
</del>
<ins class="diff-chg">members
</ins>
<code>
<del class="diff-old">properties
</del>
<ins class="diff-chg">subscription
</ins></code>,<code><ins class="diff-chg">
data
</ins></code>,
and
<code>
<del class="diff-old">items
</del>
<ins class="diff-chg">cancellation
</ins>
</code>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
a
JSON
object.
</span>
</p>
<p>
The
<del class="diff-old">type
</del>
<ins class="diff-chg">JSON
names
</ins>
of
<del class="diff-old">the
fields
</del>
<code>
<del class="diff-old">forms
</del>
<ins class="diff-chg">subscription
</ins>
</code>,
<code>
<del class="diff-old">required
</del>
<ins class="diff-chg">data
</ins>
</code>,
and
<code>
<del class="diff-old">enum
</del>
<ins class="diff-chg">cancellation
</ins></code><ins class="diff-chg">
rely
on
the
the
class
</ins><a href= "#dataschema" class="sec-ref"><code><ins class="diff-chg">
DataSchema
</ins></code></a><ins class="diff-chg">
and
will
follow
the
serialization
introduction
provided
in
</ins><a href= "#data-schema-serialization-json" class="sec-ref"><span class= "secno"><ins class="diff-chg">
6.1.9
</ins></span><span class="sec-title"><ins class="diff-chg">
Data
Schema
Representation
</ins></span></a>.</p><p><span class="rfc2119-assertion" id="td-event-arrays"><ins class="diff-chg">
The
type
of
the
members
</ins><code><ins class="diff-chg">
forms
</ins>
</code>,
<code>
scopes
</code>,
and
<code>
security
</code>
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
a
JSON
array.
</span>
</p>
<p>
A
TD
snippet
based
on
the
defined
<del class="diff-old">fields
</del>
<ins class="diff-chg">members
</ins>
is
given
below:
</p>
<aside class="example ds-selector-tabs changed" id= "event-serialization-sample">
<div class="marker">
<a class="self-link" href= "#event-serialization-sample">
Example
<del class="diff-old">10
</del>
<ins class="diff-chg">9
</ins>
</a>
<del class="diff-old">...
: {
    : {
        : &lt;span class=
"hljs-string"&gt;"object",
        : {
            &lt;span class=
"hljs-string"&gt;"temperature": { &lt;span class=
"hljs-string"&gt;"type": &lt;span class=
"hljs-string"&gt;"number" }
        },
        : [...]
    }
    ...
}
...
</del>
<span class= "example-title">:
<ins class="diff-chg">Sample
of
a
property
interaction
serialization
</ins></span>
</div>
<div class="selectors">
<p>
<del class="diff-old">Definitions
within
the
events
field
MAY
have
additional
semantic
annotations
based
on
JSON-LD
1.1
keywords.
</del>
<button class="selected" data-selects="original">
<ins class="diff-chg">Simple
</ins></button><button data-selects="expanded"><ins class="diff-chg">
Full
</ins></button>
</p>
</div>
<pre class="original selected hljs" aria-busy="false">{
<ins class="diff-new">        ...
        "events": {
            "overheated": {
                "data" : {"type": "object"},
                "forms": [...]
            }
            ...
        }
        ...
</ins></pre><pre class="expanded hljs" aria-busy="false">{<ins class="diff-new">
    ...
    "events": {
        "overheated": {
            "data" : {
                "type": "object",
                "readOnly" : false,
                "writeOnly" : false
            },
            "forms": [...]
        }
        ...
    }
    ...
}
</ins></pre></aside>
</section>
<section id="form-serialization-json">
<h4 id="x6-1-5-forms">
<span class="secno">
6.1.5
</span>
<code>
forms
</code>
<a class="self-link" aria-label="§" href= "#form-serialization-json">
</a>
</h4>
<p>
<span class="rfc2119-assertion" id="td-forms">
Each
mandatory
and
optional
vocabulary
term
as
defined
in
the
class
<a href="#form" class="sec-ref">
<code>
Form
</code>
</a>,
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
a
JSON
<del class="diff-old">key.
</del>
<ins class="diff-chg">name.
</ins></span></p><p><span class="rfc2119-assertion" id="td-event-response-arrays"><ins class="diff-chg">
If
required,
the
type
of
the
member
</ins><code><ins class="diff-chg">
response
</ins></code><em class= "rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
serialized
as
a
JSON
array.
</ins>
</span>
</p>
<p>
<span class="rfc2119-assertion" id="td-form-protocolbindings">
If
required,
<code>
forms
</code>
<em class="rfc2119" title= "MAY">
MAY
</em>
be
supplemented
with
protocol-specific
vocabulary
terms
identified
with
a
prefix.
</span>
See
also
<a href= "#content-extension-section" class="sec-ref">
<span class= "secno">
<ins class="diff-new">6.2
</ins></span><span class="sec-title"><ins class="diff-new">
Context
Extension
</ins></span></a>.</p><p><ins class="diff-new">
A
TD
snippet
based
on
the
defined
members
is
given
below:
</ins></p><div class="example" id= "ex-10-example-10-context-http-www-w3-org-ns-td-http-http-www-w3-org-2011-http-securitydefinitions-basic_sc-scheme-basic-in-header-forms-href-http-mytemp-example-com-5683-temp-contenttype-application-json-http-methodname-post-op-writeproperty-security-basic_sc"><div class="marker"><a class="self-link" href= "#ex-10-example-10-context-http-www-w3-org-ns-td-http-http-www-w3-org-2011-http-securitydefinitions-basic_sc-scheme-basic-in-header-forms-href-http-mytemp-example-com-5683-temp-contenttype-application-json-http-methodname-post-op-writeproperty-security-basic_sc"><ins class="diff-new">
Example
10
</ins></a></div><pre class="hljs javascript" aria-busy="false">{  <span class="hljs-string">"@context"</span>: [<span class=<ins class="diff-new">
"hljs-string">"http://www.w3.org/ns/td"</span>,
    {<span class="hljs-string">"http"</span>: <span class=
"hljs-string">"http://www.w3.org/2011/http#"</span>}],
  ...
</ins>  <span class="hljs-string">"securityDefinitions"</span>: {      <span class="hljs-string">"basic_sc"</span>: {<span class=<ins class="diff-new">
"hljs-string">"scheme"</span>:<span class=
"hljs-string">"basic"</span>, <span class=
"hljs-string">"in"</span>:<span class=
"hljs-string">"header"</span>}
  },
    ...
</ins>    <span class="hljs-string">"forms"</span>: [{        <span class="hljs-string">"href"</span> : <span class=<ins class="diff-new">
"hljs-string">"http://mytemp.example.com:5683/temp"</span>,
</ins>        <span class=<ins class="diff-new">
"hljs-string">"contentType"</span>: <span class="hljs-string">"application/json"</span>,
</ins>        <span class=<ins class="diff-new">
"hljs-string">"http:methodName"</span>: <span class=
"hljs-string">"POST"</span>,
</ins>        <span class="hljs-string">"op"</span>: <span class=<ins class="diff-new">
"hljs-string">"writeproperty"</span>,
</ins>        <span class="hljs-string">"security"</span>: [<span class=<ins class="diff-new">
"hljs-string">"basic_sc"</span>]
    }]
    ...
}
</ins></pre></div><p><code><ins class="diff-new">
href
</ins></code><ins class="diff-new">
may
also
carry
an
URI
that
contains
dynamic
variables
such
as
p
and
d
in
http://192.168.1.25/left?p=2&amp;d=1.
In
that
case
the
URI
can
be
defined
as
template
as
defined
in
</ins>
[
<cite>
<del class="diff-old">WOT-PROTOCOL-BINDING
</del>
<a class="bibref" href="#bib-rfc6570">
<ins class="diff-chg">RFC6570
</ins>
</a>
</cite>
<del class="diff-old">].
</del>
<ins class="diff-chg">]:
http://192.168.1.25/left{?p,d}
</ins>
</p>
<p>
<del class="diff-old">When
a
Thing
Description
instance
is
processed
and
interpreted
by
</del>
<span class="rfc2119-assertion" id="td-uriVariables">
<ins class="diff-chg">In
such
</ins>
a
<del class="diff-old">JSON-LD
1.1
processor,
each
</del>
<ins class="diff-chg">case
these
variables
in
the
URI
</ins><em class="rfc2119" title= "MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
collected
in
the
JSON-object
based
</ins>
<code>
<del class="diff-old">forms
</del>
<ins class="diff-chg">uriVariables
</ins>
</code>
<del class="diff-old">(array)
entry
</del>
<ins class="diff-chg">member
with
the
associated
(unique)
variables
names
as
JSON
names.
</ins></span></p><p><span class="rfc2119-assertion" id="td-uriVariables"><ins class="diff-chg">
Each
defined
JSON
name
of
the
</ins><code><ins class="diff-chg">
uriVariables
</ins></code><ins class="diff-chg">
collection
</ins>
<em class="rfc2119" title="MUST">
MUST
</em>
<ins class="diff-new">rely
on
the
the
class
</ins><a href="#dataschema" class= "sec-ref"><code><ins class="diff-new">
DataSchema
</ins></code></a>.</span></p><p><ins class="diff-new">
A
TD
snippet
using
URI
template
and
</ins><code><ins class="diff-new">
uriVariables
</ins></code><ins class="diff-new">
is
given
below:
</ins></p><div class="example" id= "ex-11-example-11-context-http-www-w3-org-ns-td-http-http-www-w3-org-2011-http-eg-http-www-example-org-iot-actions-leftdown-urivariables-p-type-integer-minimum-0-maximum-16-type-eg-somekindofangle-d-type-integer-minimum-0-maximum-1-type-eg-direction-forms-http-method-get-href-http-192-168-1-25-left-p-d"><div class="marker"><a class="self-link" href= "#ex-11-example-11-context-http-www-w3-org-ns-td-http-http-www-w3-org-2011-http-eg-http-www-example-org-iot-actions-leftdown-urivariables-p-type-integer-minimum-0-maximum-16-type-eg-somekindofangle-d-type-integer-minimum-0-maximum-1-type-eg-direction-forms-http-method-get-href-http-192-168-1-25-left-p-d"><ins class="diff-new">
Example
11
</ins></a></div><pre class="hljs javascript" aria-busy="false"><span class=<ins class="diff-new">
"hljs-string">"@context"</span>: [<span class=
"hljs-string">"http://www.w3.org/ns/td"</span>,
    {<span class="hljs-string">"http"</span>: <span class=
"hljs-string">"http://www.w3.org/2011/http#"</span>},
    {<span class="hljs-string">"eg"</span>: <span class=
"hljs-string">"http://www.example.org/iot"</span>}],
...
</ins><span class="hljs-string">"actions"</span>: {    <span class="hljs-string">"LeftDown"</span>: {      <span class="hljs-string">"uriVariables"</span>: {        <span class="hljs-string">"p"</span> : { <span class=<ins class="diff-new">
"hljs-string">"type"</span>: <span class=
"hljs-string">"integer"</span>, <span class=
"hljs-string">"minimum"</span>: <span class=
"hljs-number">0</span>, <span class=
"hljs-string">"maximum"</span>: <span class=
"hljs-number">16</span>, <span class=
"hljs-string">"@type"</span>: <span class=
"hljs-string">"eg:SomeKindOfAngle"</span> },
</ins>        <span class="hljs-string">"d"</span> : { <span class=<ins class="diff-new">
"hljs-string">"type"</span>: <span class=
"hljs-string">"integer"</span>, <span class=
"hljs-string">"minimum"</span>: <span class=
"hljs-number">0</span>, <span class=
"hljs-string">"maximum"</span>: <span class=
"hljs-number">1</span>, <span class=
"hljs-string">"@type"</span>: <span class=
"hljs-string">"eg:Direction"</span> }
        }
      },
</ins>      <span class="hljs-string">"forms"</span>: [{        <span class=<ins class="diff-new">
"hljs-string">"http:method"</span>: <span class="hljs-string">"GET"</span>,
</ins>        <span class="hljs-string">"href"</span> : <span class=<ins class="diff-new">
"hljs-string">"http://192.168.1.25/left{?p,d}"</span>
      }]
    }
...
</ins></pre></div><p><ins class="diff-new">
The
</ins><code><ins class="diff-new">
contentType
</ins></code><ins class="diff-new">
is
used
to
assign
a
media
types
[
</ins><cite><a class="bibref" href= "#bib-mediatypes"><ins class="diff-new">
MEDIATYPES
</ins></a></cite><ins class="diff-new">
]
and
</ins><em class="rfc2119" title="MAY"><ins class="diff-new">
MAY
</ins></em>
contain
<ins class="diff-new">one
or
more
parameters
as
attribute-value
pair
separated
by
</ins>
a
<code>
<del class="diff-old">mediaType
</del>
<ins class="diff-chg">;
</ins>
</code>
<del class="diff-old">due
to
the
open-world
assumption
</del>
<ins class="diff-chg">character.
Example:
</ins></p><div class="example" id= "ex-12-example-12-contenttype-application-text-charset-utf-8"><div class="marker"><a class="self-link" href= "#ex-12-example-12-contenttype-application-text-charset-utf-8"><ins class="diff-chg">
Example
12
</ins>
</a>
</div>
<pre class="hljs javascript" aria-busy="false">...
<span class="hljs-string">"contentType"</span> : <span class=
<ins class="diff-new">"hljs-string">"application/text; charset=utf-8"</span>
...
</ins></pre></div><p><ins class="diff-new">
In
some
use
cases,
the
form
metadata
</ins>
of
<del class="diff-old">Linked
Data.
This
assumption
means
that
if
a
Linked
Data
model
</del>
<ins class="diff-chg">the
interaction
pattern
must
be
distinguished
between
request
and
response
based
messages.
E.g.,
an
action
'takePhoto'
defines
an
</ins><code><ins class="diff-chg">
input
</ins></code><ins class="diff-chg">
to
submit
parameter
settings
</ins>
of
a
<del class="diff-old">Thing
Description
instance
were
to
omit
these
vocabulary
terms,
then
</del>
<ins class="diff-chg">camera
(aperture
priority,
timer,..)
using
json
as
content
type
(="contentType":"application/json").
The
</ins><code><ins class="diff-chg">
output
</ins></code><ins class="diff-chg">
of
this
action
is
</ins>
the
<del class="diff-old">interpreter
would
not
</del>
<ins class="diff-chg">photo
taken,
which
is
available
in
jpeg
format,
for
example.
In
such
cases,
the
</ins><code><ins class="diff-chg">
response
</ins></code><ins class="diff-chg">
can
</ins>
be
<del class="diff-old">able
</del>
<ins class="diff-chg">used
</ins>
to
<del class="diff-old">make
any
assumptions
about
their
actual
value.
</del>
<ins class="diff-chg">provide
a
response
content
type
(e.g.,
"contentType":"image/jpeg").
</ins></p><p><span class="rfc2119-assertion" id="td-forms-response"><ins class="diff-chg">
If
the
</ins><code><ins class="diff-chg">
response
</ins></code><ins class="diff-chg">
member
is
used
in
</ins><code><ins class="diff-chg">
forms
</ins></code>,<ins class="diff-chg">
it
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
contain
the
</ins><code><ins class="diff-chg">
contentType
</ins></code><ins class="diff-chg">
as
defined
in
class
</ins><a href= "#expectedresponse" class= "sec-ref"><code><ins class="diff-chg">
ExpectedResponse
</ins></code></a>.</span>
</p>
<p>
A
<del class="diff-old">TD
</del>
<code>
<ins class="diff-chg">form
</ins></code>
snippet
<ins class="diff-new">with
the
</ins><code><ins class="diff-new">
response
</ins></code><ins class="diff-new">
member
is
listed
below
</ins>
based
on
the
<del class="diff-old">defined
fields
is
given
below:
</del>
<ins class="diff-chg">use
case
of
the
action
'takePhoto'
described
above:
</ins>
</p>
<div class="example" id= "ex-13-example-13-context-http-www-w3-org-ns-td-http-http-www-w3-org-2011-http-forms-href-http-upsq1c-local-9191-api-frame-crop-contenttype-application-json-op-invokeaction-http-methodname-post-response-contenttype-image-jpeg">
<div class="marker">
<a class="self-link" href= "#ex-13-example-13-context-http-www-w3-org-ns-td-http-http-www-w3-org-2011-http-forms-href-http-upsq1c-local-9191-api-frame-crop-contenttype-application-json-op-invokeaction-http-methodname-post-response-contenttype-image-jpeg">
Example
<del class="diff-old">11
</del>
<ins class="diff-chg">13
</ins>
</a>
</div>
<del class="diff-old">...
: [{
     : &lt;span class=
"hljs-string"&gt;"http://mytemp.example.com:5683/temp",
    : &lt;span class=
</del>
<pre class="hljs javascript" aria-busy="false"><span class=
<ins class="diff-chg">"hljs-string">"@context"</span>: [<span class=
"hljs-string">"http://www.w3.org/ns/td"</span>,
    {<span class="hljs-string">"http"</span>: <span class=
"hljs-string">"http://www.w3.org/2011/http#"</span>}],
...
</ins><span class="hljs-string">"forms"</span>: [<ins class="diff-chg">
    {
</ins>      <span class="hljs-string">"href"</span>: <span class=<ins class="diff-chg">
"hljs-string">"http://upsq1c.local:9191/api/frame/crop"</span>,
</ins>      <span class="hljs-string">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>,
<del class="diff-old">    &lt;span class=
"hljs-string"&gt;"http:methodName",
    : &lt;span class=
"hljs-string"&gt;"writeProperty",
    : [{&lt;span class=
"hljs-string"&gt;"scheme":&lt;span class=
"hljs-string"&gt;"basic", &lt;span class=
"hljs-string"&gt;"in":&lt;span class=
"hljs-string"&gt;"header"}]
}]
</del>
      <span class="hljs-string">"op"</span>: [<span class=
<ins class="diff-chg">"hljs-string">"invokeaction"</span>],
</ins>      <span class=<ins class="diff-chg">
"hljs-string">"http:methodName"</span>: <span class=
"hljs-string">"POST"</span>,
</ins>      <span class="hljs-string">"response"</span>: {        <span class=<ins class="diff-chg">
"hljs-string">"contentType"</span>: <span class="hljs-string">"image/jpeg"</span>
      }
    }
  ]
</ins>
...
</pre>
</div>
<p>
<ins class="diff-new">When
</ins><code><ins class="diff-new">
forms
</ins></code><ins class="diff-new">
is
present
at
the
top
level,
it
can
be
used
to
describe
meta
interactions
supported
by
a
</ins><a href="#thing" class="sec-ref"><code><ins class="diff-new">
Thing
</ins></code></a><ins class="diff-new">
instance.
For
example,
operations
"readallproperties"
and
"writeallproperties"
are
meta
interactions
by
which
clients
can
read
and
write
all
properties
of
the
thing
at
once.
In
the
example
below,
</ins><code><ins class="diff-new">
forms
</ins></code><ins class="diff-new">
is
used
at
the
top
level,
and
the
clients
can
access
end
point
(i.e.
</ins><code><ins class="diff-new">
https://mylamp.example.com/allproperties
</ins></code><ins class="diff-new">
)
both
to
read
or
write
all
properties
(i.e.
</ins><code><ins class="diff-new">
"on"
</ins></code>,<code><ins class="diff-new">
"brightness"
</ins></code><ins class="diff-new">
and
</ins><code><ins class="diff-new">
"timer"
</ins></code><ins class="diff-new">
property)
of
the
thing
by
a
single
interaction.
</ins></p><div class="example" id="td-forms-readall-example"><div class="marker"><a class="self-link" href= "#td-forms-readall-example"><ins class="diff-new">
Example
14
</ins></a></div><pre class="hljs javascript" aria-busy="false">{    <span class="hljs-string">"id"</span>: <span class=<ins class="diff-new">
"hljs-string">"urn:dev:wot:com:example:servient:lamp"</span>,
    ...
</ins>    <span class="hljs-string">"forms"</span>: [<ins class="diff-new">
        {
</ins>          <span class="hljs-string">"href"</span>: <span class=<ins class="diff-new">
"hljs-string">"https://mylamp.example.com/allproperties"</span>,
</ins>          <span class=<ins class="diff-new">
"hljs-string">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>,
</ins>          <span class="hljs-string">"op"</span>: [<span class=<ins class="diff-new">
"hljs-string">"readallproperties"</span>, <span class=
"hljs-string">"writeallproperties"</span>],
        }
    ],
    ...
</ins>    <span class="hljs-string">"properties"</span>: {        <span class="hljs-string">"on"</span>: {          <span class="hljs-string">"type"</span>: <span class=<ins class="diff-new">
"hljs-string">"boolean"</span>,
</ins>          <span class="hljs-string">"forms"</span>: [...]<ins class="diff-new">
        },
</ins>        <span class="hljs-string">"brightness"</span>: {          <span class="hljs-string">"type"</span>: <span class=<ins class="diff-new">
"hljs-string">"number"</span>,
</ins>          <span class="hljs-string">"forms"</span>: [...]<ins class="diff-new">
        },
</ins>        <span class="hljs-string">"timer"</span>: {          <span class="hljs-string">"type"</span>: <span class=<ins class="diff-new">
"hljs-string">"integer"</span>,
</ins>          <span class="hljs-string">"forms"</span>: [...]<ins class="diff-new">
        }
    },
    ...
}
</ins></pre></div>
</section>
<section id="links-serialization-json">
<h4 id="x6-1-6-links">
<span class="secno">
6.1.6
</span>
<code>
links
</code>
<a class="self-link" aria-label="§" href= "#links-serialization-json">
</a>
</h4>
<p>
<span class="rfc2119-assertion" id="td-links">
Each
mandatory
and
optional
vocabulary
term
as
defined
in
the
class
<a href="#link" class="sec-ref">
<code>
Link
</code>
</a>,
<em class="rfc2119" title= "MUST">
MUST
</em>
be
serialized
as
a
JSON
<del class="diff-old">key.
</del>
<ins class="diff-chg">name.
</ins>
</span>
</p>
<p>
A
TD
snippet
based
on
the
defined
<del class="diff-old">fields
</del>
<ins class="diff-chg">members
</ins>
is
given
below:
</p>
<div class="example" id= "ex-15-example-15-links-href-https-servient-example-com-things-lampcontroller-rel-controlledby-type-application-td-json">
<div class="marker">
<a class="self-link" href= "#ex-15-example-15-links-href-https-servient-example-com-things-lampcontroller-rel-controlledby-type-application-td-json">
Example
<del class="diff-old">12
</del>
<ins class="diff-chg">15
</ins>
</a>
</div>
<pre class="hljs javascript" aria-busy="false">...
<span class="hljs-string">"links"</span>: [{
    <span class="hljs-string">"href"</span>: <span class=
"hljs-string">"https://servient.example.com/things/lampController"</span>,
    <span class="hljs-string">"rel"</span>: <span class=
"hljs-string">"controlledBy"</span>,
<del class="diff-old">    : &lt;span class=
</del>
    <span class="hljs-string">"type"</span>: <span class=
"hljs-string">"application/td+json"</span>
}]
...
</pre>
</div>
</section>
<section id="security-serialization-json">
<h4 id="x6-1-7-securitydefinitions-and-security">
<span class= "secno">
6.1.7
</span>
<code>
<ins class="diff-new">securityDefinitions
</ins></code><ins class="diff-new">
and
</ins><code>
security
</code>
<a class="self-link" aria-label="§" href= "#security-serialization-json">
</a>
</h4>
<p>
<span class="rfc2119-assertion" id="td-security">
Each
mandatory
and
optional
vocabulary
term
as
defined
in
the
class
<a href= "#securityscheme" class="sec-ref">
<code>
SecurityScheme
</code>
</a>,
<em class="rfc2119" title="MUST">
MUST
</em>
be
serialized
as
a
JSON
<del class="diff-old">key.
</del>
<ins class="diff-chg">name.
</ins>
</span>
</p>
<p>
The
following
TD
snippet
shows
a
simple
security
configuration
specifying
basic
username/password
authentication
in
the
header.
The
value
of
<code>
in
</code>
given
is
actually
the
default
value
of
<code>
header
</code>.
<ins class="diff-new">First,
a
named
security
configuration
must
be
given
in
a
</ins><code><ins class="diff-new">
securityDefinitions
</ins></code><ins class="diff-new">
block.
Second,
that
definition
must
be
activated
in
a
</ins><code><ins class="diff-new">
security
</ins></code><ins class="diff-new">
block.
</ins>
</p>
<div class="example" id="security-basic-example">
<div class="marker">
<a class="self-link" href= "#security-basic-example">
Example
<del class="diff-old">13
</del>
<ins class="diff-chg">16
</ins>
</a>
</div>
<pre class="hljs javascript" aria-busy="false">...
<del class="diff-old">: [{
    : &lt;span class=
</del>
<span class="hljs-string">"securityDefinitions"</span>: {
    <span class="hljs-string">"basic_sc"</span>: {
        <span class="hljs-string">"scheme"</span>: <span class=
"hljs-string">"basic"</span>,
<del class="diff-old">    : &lt;span class=
</del>
        <span class="hljs-string">"in"</span>: <span class=
"hljs-string">"header"</span>
<del class="diff-old">}]
</del>
<ins class="diff-chg">    }
},
...
</ins><span class="hljs-string">"security"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"basic_sc"</span>]
</ins>
...
</pre>
</div>
<p>
Here
is
a
more
complex
example:
a
TD
snippet
showing
digest
authentication
on
a
proxy
combined
with
bearer
token
authentication
on
an
endpoint.
Here
the
default
value
of
<code>
in
</code>
in
the
<code>
digest
</code>
scheme,
<code>
header
</code>,
is
implied.
</p>
<div class="example" id="security-digest-example">
<div class="marker">
<a class="self-link" href= "#security-digest-example">
Example
<del class="diff-old">14
</del>
<ins class="diff-chg">17
</ins>
</a>
</div>
<pre class="hljs javascript" aria-busy="false">...
<del class="diff-old">: [
    {
</del>
<span class="hljs-string">"securityDefinitions"</span>: {
    <span class="hljs-string">"basic_sc"</span>: {
       <span class="hljs-string">"scheme"</span>: <span class=
"hljs-string">"digest"</span>,
<del class="diff-old">       : &lt;span class=
</del>
       <span class="hljs-string">"proxy"</span>: <span class=
"hljs-string">"https://portal.example.com/"</span>
    },
<del class="diff-old">    {
</del>
    <span class="hljs-string">"bearer_sc"</span>: {
       <span class="hljs-string">"scheme"</span>: <span class=
"hljs-string">"bearer"</span>,
       <span class="hljs-string">"format"</span>: <span class=
"hljs-string">"jwt"</span>,
       <span class="hljs-string">"alg"</span>: <span class=
"hljs-string">"ES256"</span>,
       <span class=
<del class="diff-old">"hljs-string"&gt;"authorizationUrl": &lt;span class=
</del>
<ins class="diff-chg">"hljs-string">"authorization"</span>: <span class=
</ins>
"hljs-string">"https://servient.example.com:8443/"</span>
    }
<del class="diff-old">]
</del>
<ins class="diff-chg">},
...
</ins><span class="hljs-string">"security"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"basic_sc"</span>,<span class=
"hljs-string">"bearer_sc"</span>],
</ins>
...
</pre>
</div>
<p>
Security
<del class="diff-old">definitions
can
be
given
</del>
<ins class="diff-chg">configuration
is
mandatory.
</ins><span class= "rfc2119-assertion" id="td-security-mandatory"><ins class="diff-chg">
Every
Thing
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
have
</ins>
at
<del class="diff-old">more
than
</del>
<ins class="diff-chg">least
</ins>
one
<ins class="diff-new">security
scheme
specified
at
the
top
</ins>
level.
</span>
<span class= "rfc2119-assertion" id="td-security-overrides">
<ins class="diff-new">Security
schemes
</ins><em class="rfc2119" title="MAY"><ins class="diff-new">
MAY
</ins></em><ins class="diff-new">
also
be
specified
at
the
interaction
and
form
levels.
</ins>
In
this
case,
definitions
at
the
lower
levels
override
(completely
replace)
the
definitions
at
the
higher
level.
</span>
</p>
<p>
Security
configuration
<del class="diff-old">is
mandatory.
Every
form
in
</del>
<ins class="diff-chg">must
accurately
reflect
the
requirements
of
the
Thing.
</ins><span class="rfc2119-assertion" id= "td-security-binding"><ins class="diff-chg">
If
</ins>
a
Thing
<ins class="diff-chg">requires
a
specific
access
mechanism
for
a
resource,
that
mechanism
</ins><em class="rfc2119" title= "MUST">
MUST
</em>
<del class="diff-old">have
a
security
configuration
either
provided
in
the
form
itself,
at
the
interaction
level
directly
above
it
(if
security
is
not
configured
</del>
<ins class="diff-chg">be
specified
</ins>
in
the
<del class="diff-old">form),
or
at
the
</del>
Thing
<del class="diff-old">level
(if
</del>
<ins class="diff-chg">Description's
</ins>
security
<del class="diff-old">is
not
configured
in
either
the
form
or
at
the
interaction
level).
In
the
vocabulary
defined
above,
note
</del>
<ins class="diff-chg">scheme
configuration
for
</ins>
that
<del class="diff-old">security
is
marked
as
non-mandatory.
However,
this
is
only
true
locally
(at
a
specific
level),
and
only
if
the
security
is
configured
at
</del>
<ins class="diff-chg">resource.
</ins></span><span class= "rfc2119-assertion" id="td-security-no-extras"><ins class="diff-chg">
If
</ins>
a
<del class="diff-old">higher
or
lower
level.
In
other
words,
</del>
<ins class="diff-chg">Thing
does
not
require
</ins>
a
<del class="diff-old">security
configuration
must
be
provided
at
some
level
</del>
<ins class="diff-chg">specific
access
mechanism
</ins>
for
<del class="diff-old">each
form.
Security
configuration
is
considered
binding.
The
security
configuration
metadata
provided
in
</del>
a
<del class="diff-old">Thing
Description
</del>
<ins class="diff-chg">resource,
that
mechanism
</ins><em class="rfc2119" title="MUST NOT">
MUST
<ins class="diff-new">NOT
</ins>
</em>
<del class="diff-old">accurately
reflect
</del>
<ins class="diff-chg">be
specified
in
</ins>
the
<ins class="diff-new">Thing
Description's
</ins>
security
<del class="diff-old">requirements
of
the
Thing.
</del>
<ins class="diff-chg">scheme
configuration
for
that
resource.
</ins>
</span>
</p>
<p>
Some
protocols
can
ask
for
authentication
dynamically.
<br />
If
a
protocol
asks
for
a
form
of
security
credentials
not
declared
in
the
Thing
Description
then
the
Thing
Description
is
to
be
considered
invalid.
</p>
<p>
The
<code>
nosec
</code>
security
scheme
is
provided
for
the
case
that
no
security
is
needed.
The
minimal
security
configuration
for
a
Thing
is
configuration
of
the
<code>
nosec
</code>
security
scheme
at
the
top
level,
as
in
the
following
example:
</p>
<div class="example" id= "ex-18-example-18-id-urn-dev-wot-com-example-servient-mything-name-mything-description-human-readable-information-support-https-servient-example-com-contact-securitydefinitions-nosec_sc-scheme-nosec-security-nosec_sc-properties-actions-events-links">
<div class="marker">
<a class="self-link" href= "#ex-18-example-18-id-urn-dev-wot-com-example-servient-mything-name-mything-description-human-readable-information-support-https-servient-example-com-contact-securitydefinitions-nosec_sc-scheme-nosec-security-nosec_sc-properties-actions-events-links">
Example
<del class="diff-old">15
</del>
<ins class="diff-chg">18
</ins>
</a>
</div>
<pre class="hljs javascript" aria-busy="false">{
    <span class="hljs-string">"id"</span>: <span class=
"hljs-string">"urn:dev:wot:com:example:servient:myThing"</span>,
    <span class="hljs-string">"name"</span>: <span class=
"hljs-string">"MyThing"</span>,
    <span class="hljs-string">"description"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"Additional (human) readable information of the Thing.",
</del>
<ins class="diff-chg">"hljs-string">"Human readable information."</span>,
</ins>
    <span class="hljs-string">"support"</span>: <span class=
"hljs-string">"https://servient.example.com/contact"</span>,
<del class="diff-old">    : [{&lt;span class=
</del>
    <span class=
<ins class="diff-chg">"hljs-string">"securityDefinitions"</span>: {<span class=
"hljs-string">"nosec_sc"</span>: {<span class=
</ins>
"hljs-string">"scheme"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"nosec"}],
</del>
<ins class="diff-chg">"hljs-string">"nosec"</span>}},
</ins>    <span class="hljs-string">"security"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"nosec_sc"</span>],
</ins>
    <span class="hljs-string">"properties"</span>: {...},
    <span class="hljs-string">"actions"</span>: {...},
    <span class="hljs-string">"events"</span>: {...},
    <span class="hljs-string">"links"</span>: [...]
}
</pre>
</div>
<p>
To
give
a
more
complex
example,
suppose
we
have
a
Thing
where
all
interactions
require
basic
authentication
except
for
one
interaction
for
which
no
authentication
is
required.
In
the
following,
the
<code>
nosec
</code>
scheme
for
the
security
configuration
in
the
<code>
overheating
</code>
event
to
indicate
no
authentication
is
required.
For
the
<code>
status
</code>
property
and
the
<code>
toggle
</code>
action,
however,
<code>
basic
</code>
authentication
is
required
as
defined
at
the
top
level
of
the
Thing.
</p>
<div class="example" id= "ex-19-example-19-securitydefinitions-nosec_sc-scheme-nosec-basic_sc-scheme-basic-security-basic_sc-properties-status-forms-href-https-mylamp-example-com-status-contenttype-application-json-actions-toggle-forms-href-https-mylamp-example-com-toggle-contenttype-application-json-events-overheating-forms-href-https-mylamp-example-com-oh-contenttype-application-json-security-nosec_sc">
<div class="marker">
<a class="self-link" href= "#ex-19-example-19-securitydefinitions-nosec_sc-scheme-nosec-basic_sc-scheme-basic-security-basic_sc-properties-status-forms-href-https-mylamp-example-com-status-contenttype-application-json-actions-toggle-forms-href-https-mylamp-example-com-toggle-contenttype-application-json-events-overheating-forms-href-https-mylamp-example-com-oh-contenttype-application-json-security-nosec_sc">
Example
<del class="diff-old">16
</del>
<ins class="diff-chg">19
</ins>
</a>
</div>
<pre class="hljs javascript" aria-busy="false">{
    ...
<del class="diff-old">    : [{&lt;span class=
</del>
    <span class="hljs-string">"securityDefinitions"</span>: {
        <span class="hljs-string">"nosec_sc"</span>: {<span class=
"hljs-string">"scheme"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"basic"}],
</del>
<ins class="diff-chg">"hljs-string">"nosec"</span>},
</ins>        <span class="hljs-string">"basic_sc"</span>: {<span class=<ins class="diff-chg">
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"basic"</span>}
    },
</ins>    <span class="hljs-string">"security"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"basic_sc"</span>],
    ...
</ins>
    <span class="hljs-string">"properties"</span>: {
        <span class="hljs-string">"status"</span>: {
            ...
            <span class="hljs-string">"forms"</span>: [{
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>,
                <span class=
<del class="diff-old">"hljs-string"&gt;"mediaType": &lt;span class=
</del>
<ins class="diff-chg">"hljs-string">"contentType"</span>: <span class=
</ins>
"hljs-string">"application/json"</span>,
            }]
        }
    },
    <span class="hljs-string">"actions"</span>: {
        <span class="hljs-string">"toggle"</span>: {
            ...
            <span class="hljs-string">"forms"</span>: [{
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/toggle"</span>,
                <span class=
<del class="diff-old">"hljs-string"&gt;"mediaType": &lt;span class=
</del>
<ins class="diff-chg">"hljs-string">"contentType"</span>: <span class=
</ins>
"hljs-string">"application/json"</span>
            }]
        }
    },
    <span class="hljs-string">"events"</span>: {
        <span class="hljs-string">"overheating"</span>: {
            ...
            <span class="hljs-string">"forms"</span>: [{
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/oh"</span>,
                <span class=
<del class="diff-old">"hljs-string"&gt;"mediaType": &lt;span class=
</del>
<ins class="diff-chg">"hljs-string">"contentType"</span>: <span class=
</ins>
"hljs-string">"application/json"</span>,
                <span class=
<del class="diff-old">"hljs-string"&gt;"security": [{&lt;span class=
"hljs-string"&gt;"scheme": &lt;span class=
"hljs-string"&gt;"nosec"}] 
</del>
<ins class="diff-chg">"hljs-string">"security"</span>: [<span class=
"hljs-string">"nosec_sc"</span>] 
</ins>
            }]
        }
    }
}
</pre>
</div>
<p>
Security
<del class="diff-old">definitions
</del>
<ins class="diff-chg">configurations
</ins>
can
also
can
be
<del class="diff-old">given
</del>
<ins class="diff-chg">specified
</ins>
for
different
elements
at
the
same
level.
This
may
be
required
for
devices
that
support
multiple
protocols,
for
example
CoAP
and
HTTP,
with
support
for
different
security
mechanisms.
This
is
also
useful
when
alternative
authentication
mechanisms
are
allowed.
Here
is
a
TD
snippet
demonstrating
three
possible
ways
to
access
a
resource:
via
HTTPS
with
basic
authentication,
via
HTTPS
via
digest
authentication,
or
via
CoAPS
with
an
API
key.
In
other
words,
the
use
of
multiple
security
configurations
at
the
same
level
provides
a
way
to
combine
security
mechanisms
an
in
"OR"
fashion.
In
contrast,
putting
multiple
security
configurations
in
the
same
<code>
security
</code>
<del class="diff-old">field
</del>
<ins class="diff-chg">member
</ins>
combines
them
in
an
"AND"
fashion,
since
in
that
case
they
would
all
need
to
be
satisfied
to
allow
access
to
the
resource.
<ins class="diff-new">Note
that
a
</ins><code><ins class="diff-new">
security
</ins></code><ins class="diff-new">
declaration
is
still
mandatory
at
the
Thing
level.
Here
we
use
a
</ins><code><ins class="diff-new">
nosec
</ins></code><ins class="diff-new">
scheme
for
symmetry
but
could
also
have
used
any
one
of
the
other
ones
as
it
will
be
overridden
in
each
form.
</ins>
</p>
<div class="example" id= "ex-20-example-20-securitydefinitions-nosec_sc-scheme-nosec-basic_sc-scheme-basic-digest_sc-scheme-digest-apikey_sc-scheme-apikey-security-nosec_sc-properties-status-forms-href-https-mylamp-example-com-status-contenttype-application-json-security-basic_sc-href-https-mylamp-example-com-status-contenttype-application-json-security-digest_sc-href-coaps-mylamp-example-com-5683-status-contenttype-application-json-security-apikey_sc">
<div class="marker">
<a class="self-link" href= "#ex-20-example-20-securitydefinitions-nosec_sc-scheme-nosec-basic_sc-scheme-basic-digest_sc-scheme-digest-apikey_sc-scheme-apikey-security-nosec_sc-properties-status-forms-href-https-mylamp-example-com-status-contenttype-application-json-security-basic_sc-href-https-mylamp-example-com-status-contenttype-application-json-security-digest_sc-href-coaps-mylamp-example-com-5683-status-contenttype-application-json-security-apikey_sc">
Example
<del class="diff-old">17
</del>
<ins class="diff-chg">20
</ins>
</a>
</div>
<del class="diff-old">...
</del>
<pre class="hljs javascript" aria-busy="false"><span class=
<ins class="diff-chg">"hljs-string">"securityDefinitions"</span>: {
</ins>    <span class="hljs-string">"nosec_sc"</span>: {<span class=<ins class="diff-chg">
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"nosec"</span>},
</ins>    <span class="hljs-string">"basic_sc"</span>: {<span class=<ins class="diff-chg">
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"basic"</span>},
</ins>    <span class="hljs-string">"digest_sc"</span>: {<span class=<ins class="diff-chg">
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"digest"</span>},
</ins>    <span class="hljs-string">"apikey_sc"</span>: {<span class=<ins class="diff-chg">
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"apikey"</span>}
},
</ins><span class="hljs-string">"security"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"nosec_sc"</span>]
...
</ins>
<span class="hljs-string">"properties"</span>: {
    <span class="hljs-string">"status"</span>: {
        ...
        <span class="hljs-string">"forms"</span>: [
            {
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>,
                <span class=
<del class="diff-old">"hljs-string"&gt;"mediaType": &lt;span class=
</del>
<ins class="diff-chg">"hljs-string">"contentType"</span>: <span class=
</ins>
"hljs-string">"application/json"</span>,
                <span class=
<del class="diff-old">"hljs-string"&gt;"security": [{&lt;span class=
"hljs-string"&gt;"scheme": &lt;span class=
"hljs-string"&gt;"basic"}]
</del>
<ins class="diff-chg">"hljs-string">"security"</span>: [<span class=
"hljs-string">"basic_sc"</span>]
</ins>
            },
            {
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://mylamp.example.com/status"</span>,
                <span class=
<del class="diff-old">"hljs-string"&gt;"mediaType": &lt;span class=
</del>
<ins class="diff-chg">"hljs-string">"contentType"</span>: <span class=
</ins>
"hljs-string">"application/json"</span>,
                <span class=
<del class="diff-old">"hljs-string"&gt;"security": [{&lt;span class=
"hljs-string"&gt;"scheme": &lt;span class=
"hljs-string"&gt;"digest"}]
</del>
<ins class="diff-chg">"hljs-string">"security"</span>: [<span class=
"hljs-string">"digest_sc"</span>]
</ins>
            },
            {
                <span class=
"hljs-string">"href"</span>: <span class=
"hljs-string">"coaps://mylamp.example.com:5683/status"</span>,
                <span class=
<del class="diff-old">"hljs-string"&gt;"mediaType": &lt;span class=
</del>
<ins class="diff-chg">"hljs-string">"contentType"</span>: <span class=
</ins>
"hljs-string">"application/json"</span>,
                <span class=
<del class="diff-old">"hljs-string"&gt;"security": [{&lt;span class=
"hljs-string"&gt;"scheme": &lt;span class=
"hljs-string"&gt;"apikey"}]
</del>
<ins class="diff-chg">"hljs-string">"security"</span>: [<span class=
"hljs-string">"apikey_sc"</span>]
            }
        ]
    }
},
...
</ins></pre></div><p><ins class="diff-chg">
As
another
more
complex
example,
OAuth2
makes
use
of
scopes.
These
are
identifiers
that
may
appear
in
tokens
and
must
match
with
corresponding
identifiers
in
a
resource
to
allow
access
to
that
resource.
For
example,
in
the
following,
the
"status"
property
can
be
read
by
users
using
bearer
tokens
containing
the
scope
"limited"
but
the
"configure"
action
can
only
be
used
when
the
interaction
is
invoked
with
a
token
containing
the
"special"
scope.
Scopes
are
not
identical
to
roles
but
are
often
associated
with
them;
for
example,
perhaps
only
those
in
an
administrative
role
can
perform
"special"
interactions.
Tokens
can
have
more
than
one
scope.
In
this
example,
an
administrator
would
probably
be
issued
tokens
with
both
the
"limited"
and
"special"
scopes
while
ordinary
users
would
only
be
issued
tokens
with
the
"limited"
scope.
</ins></p><div class="example" id= "ex-21-example-21-securitydefinitions-oauth2_sc-scheme-oauth2-scopes-limited-special-security-oauth2_sc-properties-status-forms-href-https-scopes-example-com-status-contenttype-application-json-scopes-limited-action-configure-forms-href-https-scopes-example-com-configure-contenttype-application-json-scopes-special"><div class="marker"><a class="self-link" href= "#ex-21-example-21-securitydefinitions-oauth2_sc-scheme-oauth2-scopes-limited-special-security-oauth2_sc-properties-status-forms-href-https-scopes-example-com-status-contenttype-application-json-scopes-limited-action-configure-forms-href-https-scopes-example-com-configure-contenttype-application-json-scopes-special"><ins class="diff-chg">
Example
21
</ins></a></div><pre class="hljs javascript" aria-busy="false">...<span class="hljs-string">"securityDefinitions"</span>: {    <span class="hljs-string">"oauth2_sc"</span>: {        <span class="hljs-string">"scheme"</span>: <span class=<ins class="diff-chg">
"hljs-string">"oauth2"</span>,
        ...
</ins>        <span class="hljs-string">"scopes"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"limited"</span>,<span class=
"hljs-string">"special"</span>]
    }
},
</ins><span class="hljs-string">"security"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"oauth2_sc"</span>],
</ins><span class="hljs-string">"properties"</span>: {    <span class="hljs-string">"status"</span>: {<ins class="diff-chg">
        ...
</ins>        <span class="hljs-string">"forms"</span>: [<ins class="diff-chg">
            {
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://scopes.example.com/status"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"scopes"</span>: [<span class=
"hljs-string">"limited"</span>]
            }
        ]
    }
},
</ins><span class="hljs-string">"action"</span>: {    <span class="hljs-string">"configure"</span>: {<ins class="diff-chg">
        ...
</ins>        <span class="hljs-string">"forms"</span>: [<ins class="diff-chg">
            {
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"href"</span>: <span class=
"hljs-string">"https://scopes.example.com/configure"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"scopes"</span>: [<span class=
"hljs-string">"special"</span>]
</ins>
            }
        ]
    }
},
...
</pre>
</div>
</section>
<section id="version-serialization-json">
<h4 id="x6-1-8-version">
<span class="secno">
<ins class="diff-new">6.1.8
</ins></span><code><ins class="diff-new">
version
</ins></code><a class="self-link" aria-label="§" href= "#version-serialization-json"></a></h4><p><span class="rfc2119-assertion" id="td-version"><ins class="diff-new">
The
mandatory
vocabulary
term
as
defined
in
the
class
</ins><a href="#versioning" class="sec-ref"><code><ins class="diff-new">
Versioning
</ins></code></a>,<em class="rfc2119" title="MUST"><ins class="diff-new">
MUST
</ins></em><ins class="diff-new">
be
serialized
as
a
JSON
name.
</ins></span></p><p><ins class="diff-new">
The
recommended
version
identification
pattern
value
is
to
rely
on
the
semantic
versioning
policy:
[
</ins><cite><a class="bibref" href= "#bib-semver"><ins class="diff-new">
SemVer
</ins></a></cite><ins class="diff-new">
]
</ins></p><p><ins class="diff-new">
A
TD
snippet
based
on
the
defined
members
is
given
below:
</ins></p><div class="example" id="ex-22-example-22-version-instance-1-2-1"><div class="marker"><a class="self-link" href= "#ex-22-example-22-version-instance-1-2-1"><ins class="diff-new">
Example
22
</ins></a></div><pre class="hljs javascript" aria-busy="false">...<span class="hljs-string">"version"</span>: {<span class=<ins class="diff-new">
"hljs-string">"instance"</span>:<span class=
"hljs-string">"1.2.1"</span>}
...
</ins></pre></div><p><span class="rfc2119-assertion" id="td-version"><ins class="diff-new">
The
version
container
</ins><em class="rfc2119" title="MAY"><ins class="diff-new">
MAY
</ins></em><ins class="diff-new">
be
used
to
provide
additional
application
and/or
device
specific
version
information
based
on
terms
from
non-TD
namespaces.
</ins></span></p><p><ins class="diff-new">
A
TD
snippet
based
on
such
additional
version
metadata
from
a
</ins><code><ins class="diff-new">
v
</ins></code><ins class="diff-new">
context
is
given
below:
</ins></p><div class="example" id= "ex-23-example-23-context-http-www-w3-org-ns-td-v-http-www-example-org-versioningterms-version-instance-1-2-1-v-firmware-0-9-1-v-hardware-1-0"><div class="marker"><a class="self-link" href= "#ex-23-example-23-context-http-www-w3-org-ns-td-v-http-www-example-org-versioningterms-version-instance-1-2-1-v-firmware-0-9-1-v-hardware-1-0"><ins class="diff-new">
Example
23
</ins></a></div><pre class="hljs javascript" aria-busy="false"><span class=<ins class="diff-new">
"hljs-string">"@context"</span>: [<span class=
"hljs-string">"http://www.w3.org/ns/td"</span>,
            {<span class="hljs-string">"v"</span>: <span class=
"hljs-string">"http://www.example.org/versioningTerms#"</span>}],
...
</ins><span class="hljs-string">"version"</span>: {<span class=<ins class="diff-new">
"hljs-string">"instance"</span>:<span class=
"hljs-string">"1.2.1"</span>, <span class=
"hljs-string">"v:firmware"</span>: <span class=
"hljs-string">"0.9.1"</span>, <span class=
"hljs-string">"v:hardware"</span>: <span class=
"hljs-string">"1.0"</span>}
...
</ins></pre></div>
</section>
<section id="data-schema-serialization-json">
<h4 id="x6-1-9-data-schema-representation">
<span class= "secno">
<ins class="diff-chg">6.1.9
</ins></span><ins class="diff-chg">
Data
Schema
Representation
</ins><a class="self-link" aria-label="§" href="#data-schema-serialization-json"></a></h4><p><ins class="diff-chg">
The
data
schema
concept
within
the
Thing
Description
is
based
on
a
subset
of
JSON
schema
terms.
The
data
schema
concept
is
applied
to
the
</ins><a href="#event-serialization-json"><ins class="diff-chg">
properties
</ins></a><ins class="diff-chg">
interaction
declaration,
</ins><code><ins class="diff-chg">
input
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
output
</ins></code><ins class="diff-chg">
within
</ins><a href="#form-serialization-json"><ins class="diff-chg">
actions
</ins></a><ins class="diff-chg">
interaction
declaration,
</ins><code><ins class="diff-chg">
subscription
</ins></code>,<code><ins class="diff-chg">
data
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
cancellation
</ins></code><ins class="diff-chg">
within
</ins><a href= "#event-serialization-json"><ins class="diff-chg">
events
</ins></a><ins class="diff-chg">
interaction
declaration,
and
</ins><code><ins class="diff-chg">
uriVariables
</ins></code><ins class="diff-chg">
that
can
be
used
within
the
</ins><a href= "#form-serialization-json"><ins class="diff-chg">
forms
</ins></a><ins class="diff-chg">
container.
</ins></p><p><span class="rfc2119-assertion" id="td-security"><ins class="diff-chg">
Each
mandatory
and
optional
vocabulary
term
as
defined
in
the
class
</ins><a href= "#dataschema" class="sec-ref"><code><ins class="diff-chg">
DataSchema
</ins></code></a>,<em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
serialized
as
a
JSON
name.
</ins></span></p><p><span class="rfc2119-assertion" id="td-property-objects"><ins class="diff-chg">
The
type
of
the
members
</ins><code><ins class="diff-chg">
properties
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
items
</ins></code><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
serialized
as
a
JSON
object.
</ins></span></p><p><span class="rfc2119-assertion" id="td-property-arrays"><ins class="diff-chg">
The
type
of
the
member
</ins><code><ins class="diff-chg">
enum
</ins></code>,<code><ins class="diff-chg">
required
</ins></code>,<ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
oneOf
</ins></code><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
serialized
as
a
JSON
array.
</ins></span></p><p><ins class="diff-chg">
A
TD
snippet
based
on
the
defined
members
is
given
below:
</ins></p><div class="example" id= "ex-24-example-24-type-object-properties-status-title-status-type-string-enum-on-off-error-brightness-title-brightness-value-type-number-minimum-0-0-maximum-100-0-rgb-title-rgb-color-value-type-array-items-type-number-minimum-0-maximum-255-minitems-3-maxitems-3"><div class="marker"><a class="self-link" href= "#ex-24-example-24-type-object-properties-status-title-status-type-string-enum-on-off-error-brightness-title-brightness-value-type-number-minimum-0-0-maximum-100-0-rgb-title-rgb-color-value-type-array-items-type-number-minimum-0-maximum-255-minitems-3-maxitems-3"><ins class="diff-chg">
Example
24
</ins></a></div><pre class="hljs javascript" aria-busy="false">...<span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"object"</span>,
</ins><span class="hljs-string">"properties"</span>: {    <span class="hljs-string">"status"</span>: {        <span class="hljs-string">"title"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Status"</span>,
</ins>        <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"string"</span>,
</ins>        <span class="hljs-string">"enum"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"On"</span>, <span class=
"hljs-string">"Off"</span>, <span class=
"hljs-string">"Error"</span>]
    },
</ins>    <span class="hljs-string">"brightness"</span>: {        <span class="hljs-string">"title"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Brightness value"</span>,
</ins>        <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"number"</span>,
</ins>        <span class="hljs-string">"minimum"</span>: <span class=<ins class="diff-chg">
"hljs-number">0.0</span>,
</ins>        <span class="hljs-string">"maximum"</span>: <span class=<ins class="diff-chg">
"hljs-number">100.0</span>
    },
</ins>    <span class="hljs-string">"rgb"</span>: {        <span class="hljs-string">"title"</span>: <span class=<ins class="diff-chg">
"hljs-string">"RGB color value"</span>,
</ins>        <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"array"</span>,
</ins>        <span class="hljs-string">"items"</span> : {            <span class="hljs-string">"type"</span> : <span class=<ins class="diff-chg">
"hljs-string">"number"</span>,
</ins>            <span class=<ins class="diff-chg">
"hljs-string">"minimum"</span>: <span class="hljs-number">0</span>,
</ins>            <span class=<ins class="diff-chg">
"hljs-string">"maximum"</span>: <span class="hljs-number">255</span>
        },
</ins>        <span class="hljs-string">"minItems"</span>: <span class=<ins class="diff-chg">
"hljs-number">3</span>,
</ins>        <span class="hljs-string">"maxItems"</span>: <span class=<ins class="diff-chg">
"hljs-number">3</span>
    }
},
...
</ins></pre></div><p><ins class="diff-chg">
The
terms
</ins><code><ins class="diff-chg">
readOnly
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
writeOnly
</ins></code><em class="rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
be
used
to
signalize
which
data
members
are
exchanged
for
a
read
request
(e.g.,
read
an
interaction
property)
and
which
one
for
a
write
process
(e.g.
write
an
interaction
property).
</ins></p><p><ins class="diff-chg">
An
TD
snippet
with
the
usage
of
</ins><code><ins class="diff-chg">
readOnly
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
writeOnly
</ins></code><ins class="diff-chg">
is
given
below:
</ins></p><div class="example" id= "ex-25-example-25-properties-status-description-read-or-write-on-off-status-type-object-properties-lateststatus-type-string-enum-on-off-readonly-true-newstatusvalue-type-string-enum-on-off-writeonly-true-forms"><div class="marker"><a class="self-link" href= "#ex-25-example-25-properties-status-description-read-or-write-on-off-status-type-object-properties-lateststatus-type-string-enum-on-off-readonly-true-newstatusvalue-type-string-enum-on-off-writeonly-true-forms"><ins class="diff-chg">
Example
25
</ins></a></div><pre class="hljs javascript" aria-busy="false">...    <span class="hljs-string">"properties"</span>: {        <span class="hljs-string">"status"</span>: {          <span class=<ins class="diff-chg">
"hljs-string">"description"</span>: <span class=
"hljs-string">"Read or write On/Off status."</span>,
</ins>          <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"object"</span>,
</ins>          <span class="hljs-string">"properties"</span>: {            <span class="hljs-string">"latestStatus"</span>: {              <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"string"</span>,
</ins>              <span class=<ins class="diff-chg">
"hljs-string">"enum"</span>: [<span class="hljs-string">"On"</span>, <span class="hljs-string">"Off"</span>],
</ins>              <span class=<ins class="diff-chg">
"hljs-string">"readOnly"</span>: <span class=
"hljs-literal">true</span>
            },
</ins>            <span class="hljs-string">"newStatusValue"</span>: {              <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"string"</span>,
</ins>              <span class=<ins class="diff-chg">
"hljs-string">"enum"</span>: [<span class="hljs-string">"On"</span>, <span class="hljs-string">"Off"</span>],
</ins>              <span class=<ins class="diff-chg">
"hljs-string">"writeOnly"</span>: <span class=
"hljs-literal">true</span>
            }
          },
</ins>          <span class="hljs-attr">forms</span>:[...]<ins class="diff-chg">
        }
      }
...
</ins></pre></div><p><ins class="diff-chg">
If
the
interaction
property
</ins><code><ins class="diff-chg">
status
</ins></code><ins class="diff-chg">
is
read,
the
status
data
is
returned
using
</ins><code><ins class="diff-chg">
latestStatus
</ins></code><ins class="diff-chg">
in
the
payload.
To
manipulate
the
status
of
the
interaction
property,
the
new
value
must
be
provided
by
assigning
</ins><code><ins class="diff-chg">
newStatusValue
</ins></code><ins class="diff-chg">
in
the
payload.
</ins></p><p><ins class="diff-chg">
As
an
additional
feature,
a
Thing
Description
instance
allows
the
usage
of
the
term
</ins><code><ins class="diff-chg">
unit
</ins></code><ins class="diff-chg">
within
data
schema
definitions.
This
can
be
used
to
associates
some
unit
information
to
some
data
members.
The
unit
values
can
be
free
selected,
however,
it
is
recommended
to
select
units
based
on
existing
definitions
by
integrating
the
corresponding
namespace
context
(e.g.,
from
Smart
Appliances
REFerence
(SAREF)
ontology
or
Ontology
of
units
of
Measure
(OM)).
</ins></p><div class="example" id= "ex-26-example-26-context-http-www-w3-org-ns-td-om-http-www-wurvoc-org-vocabularies-om-1-8-properties-latestvalues-description-provides-all-current-values-of-the-weather-station-type-object-properties-temperature-type-number-minimum-32-5-maximum-55-2-unit-om-degree_celsius-humidity-type-number-minimum-0-maximum-100-unit-om-percent-forms"><div class="marker"><a class="self-link" href= "#ex-26-example-26-context-http-www-w3-org-ns-td-om-http-www-wurvoc-org-vocabularies-om-1-8-properties-latestvalues-description-provides-all-current-values-of-the-weather-station-type-object-properties-temperature-type-number-minimum-32-5-maximum-55-2-unit-om-degree_celsius-humidity-type-number-minimum-0-maximum-100-unit-om-percent-forms"><ins class="diff-chg">
Example
26
</ins></a></div><pre class="hljs javascript" aria-busy="false">{<span class="hljs-string">"@context"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"http://www.w3.org/ns/td"</span>,
            {<span class="hljs-string">"om"</span>: <span class=
"hljs-string">"http://www.wurvoc.org/vocabularies/om-1.8/"</span>}],
...
</ins><span class="hljs-string">"properties"</span>: {    <span class="hljs-string">"latestValues"</span>: {        <span class=<ins class="diff-chg">
"hljs-string">"description"</span>: <span class="hljs-string">"Provides all current values of the weather station."</span>,
</ins>        <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"object"</span>,
</ins>        <span class="hljs-string">"properties"</span>: {        <span class="hljs-string">"temperature"</span>: {            <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"number"</span>,
</ins>            <span class=<ins class="diff-chg">
"hljs-string">"minimum"</span> : <span class=
"hljs-number">-32.5</span>,
</ins>            <span class=<ins class="diff-chg">
"hljs-string">"maximum"</span> : <span class=
"hljs-number">-55.2</span>,
</ins>            <span class="hljs-string">"unit"</span>: <span class=<ins class="diff-chg">
"hljs-string">"om:degree_Celsius"</span>
        },
</ins>        <span class="hljs-string">"humidity"</span>: {            <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"number"</span>,
</ins>            <span class=<ins class="diff-chg">
"hljs-string">"minimum"</span> : <span class=
"hljs-number">0</span>,
</ins>            <span class=<ins class="diff-chg">
"hljs-string">"maximum"</span> : <span class=
"hljs-number">100</span>,
</ins>            <span class="hljs-string">"unit"</span>: <span class=<ins class="diff-chg">
"hljs-string">"om:percent"</span>
        }
        },
</ins>        <span class="hljs-attr">forms</span>:[...]<ins class="diff-chg">
    }
}
...
</ins></pre></div></section><section id="titles-descriptions-serialization-json"><h4 id="x6-1-10-titles-and-descriptions"><span class= "secno"><ins class="diff-chg">
6.1.10
</ins></span><code><ins class="diff-chg">
titles
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
descriptions
</ins></code><a class="self-link" aria-label="§" href= "#titles-descriptions-serialization-json"></a></h4><p><ins class="diff-chg">
The
vocabulary
terms
</ins><code><ins class="diff-chg">
titles
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
descriptions
</ins></code><ins class="diff-chg">
enables
human-readable
text
description
in
multi-languages
using
language
tags
described
in
[
</ins><cite><a class="bibref" href="#bib-bcp47"><ins class="diff-chg">
BCP47
</ins></a></cite><ins class="diff-chg">
].
</ins><span class="rfc2119-assertion" id="td-multi-languages"><ins class="diff-chg">
Whenever
the
vocabulary
terms
</ins><code><ins class="diff-chg">
titles
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
descriptions
</ins></code><ins class="diff-chg">
can
be
used,
both
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
serialized
as
JSON
Object.
The
member
names
of
the
JSON
Object
</ins><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
the
language
tags
as
defined
in
[
</ins><cite><a class="bibref" href= "#bib-bcp47"><ins class="diff-chg">
BCP47
</ins></a></cite><ins class="diff-chg">
]
(e.g.,
"en",
"de",
"ja",
"zh-Hans",
"zh-Hant").
The
value
of
each
member
</ins><em class="rfc2119" title= "MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
serialized
as
JSON
string.
</ins></span></p><p><ins class="diff-chg">
A
TD
snippet
using
</ins><code><ins class="diff-chg">
titles
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
descriptions
</ins></code><ins class="diff-chg">
in
different
levels
is
given
below:
</ins></p><div class="example" id= "ex-27-example-27-name-mything-descriptions-en-human-readable-information-de-menschenlesbare-informationen-ja-zh-hans-zh-hant-properties-on-titles-en-on-off-de-an-aus-ja-zh-hans-zh-hant-type-boolean-forms-status-titles-en-status-de-zustand-ja-zh-hans-zh-hant-type-object"><div class="marker"><a class="self-link" href= "#ex-27-example-27-name-mything-descriptions-en-human-readable-information-de-menschenlesbare-informationen-ja-zh-hans-zh-hant-properties-on-titles-en-on-off-de-an-aus-ja-zh-hans-zh-hant-type-boolean-forms-status-titles-en-status-de-zustand-ja-zh-hans-zh-hant-type-object"><ins class="diff-chg">
Example
27
</ins></a></div><pre class="hljs javascript" aria-busy="false">{    <span class="hljs-string">"name"</span>: <span class=<ins class="diff-chg">
"hljs-string">"MyThing"</span>,
</ins>    <span class="hljs-string">"descriptions"</span>: {        <span class="hljs-string">"en"</span>:<span class=<ins class="diff-chg">
"hljs-string">"Human readable information."</span>,
</ins>        <span class="hljs-string">"de"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Menschenlesbare Informationen."</span>,
</ins>        <span class="hljs-string">"ja"</span> : <span class=<ins class="diff-chg">
"hljs-string">"人間が読むことができる情報"</span>,
</ins>        <span class="hljs-string">"zh-Hans"</span> : <span class=<ins class="diff-chg">
"hljs-string">"人们可阅读的信息"</span>, 
</ins>        <span class="hljs-string">"zh-Hant"</span> : <span class=<ins class="diff-chg">
"hljs-string">"人們可閱讀的資訊"</span>
    },
    ...
</ins>    <span class="hljs-string">"properties"</span>: {        <span class="hljs-string">"on"</span>: {            <span class="hljs-string">"titles"</span>: {                <span class="hljs-string">"en"</span>: <span class=<ins class="diff-chg">
"hljs-string">"On/Off"</span>,
</ins>                <span class="hljs-string">"de"</span>: <span class=<ins class="diff-chg">
"hljs-string">"An/Aus"</span>,
</ins>                <span class="hljs-string">"ja"</span>: <span class=<ins class="diff-chg">
"hljs-string">"オンオフ"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"zh-Hans"</span>: <span class=
"hljs-string">"开关"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"zh-Hant"</span>: <span class=
"hljs-string">"開關"</span> },
</ins>            <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"boolean"</span>,
</ins>            <span class="hljs-string">"forms"</span>: [...]<ins class="diff-chg">
        },
</ins>        <span class="hljs-string">"status"</span>: {            <span class="hljs-string">"titles"</span>: {                <span class="hljs-string">"en"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Status"</span>,
</ins>                <span class="hljs-string">"de"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Zustand"</span>,
</ins>                <span class="hljs-string">"ja"</span>: <span class=<ins class="diff-chg">
"hljs-string">"状態"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"zh-Hans"</span>: <span class=
"hljs-string">"状态"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"zh-Hant"</span>: <span class=
"hljs-string">"狀態"</span> },
</ins>            <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"object"</span>,
            ...
}
</ins></pre></div><p><ins class="diff-chg">
TD
instances
may
also
additional
use
</ins><code><ins class="diff-chg">
title
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
description
</ins></code><ins class="diff-chg">
beside
of
</ins><code><ins class="diff-chg">
titles
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
descriptions
</ins></code>.<span class="rfc2119-assertion" id= "td-title-description"><ins class="diff-chg">
If
</ins><code><ins class="diff-chg">
title
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
titles
</ins></code><code><ins class="diff-chg">
description
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
descriptions
</ins></code><ins class="diff-chg">
are
defined
at
the
same
time
at
the
JSON
level,
</ins><code><ins class="diff-chg">
title
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
description
</ins></code><em class= "rfc2119" title="MAY"><ins class="diff-chg">
MAY
</ins></em><ins class="diff-chg">
be
seen
as
default
text.
</ins></span></p><div class="example" id= "ex-28-example-28-name-mything-description-menschenlesbare-informationen-descriptions-en-human-readable-information-de-menschenlesbare-informationen-ja-zh-hans-zh-hant-properties-on-title-an-aus-titles-en-on-off-de-an-aus-ja-zh-hans-zh-hant-type-boolean-forms-status-title-zustand-titles-en-status-de-zustand-ja-zh-hans-zh-hant-type-object"><div class="marker"><a class="self-link" href= "#ex-28-example-28-name-mything-description-menschenlesbare-informationen-descriptions-en-human-readable-information-de-menschenlesbare-informationen-ja-zh-hans-zh-hant-properties-on-title-an-aus-titles-en-on-off-de-an-aus-ja-zh-hans-zh-hant-type-boolean-forms-status-title-zustand-titles-en-status-de-zustand-ja-zh-hans-zh-hant-type-object"><ins class="diff-chg">
Example
28
</ins></a></div><pre class="hljs javascript" aria-busy="false">{    <span class="hljs-string">"name"</span>: <span class=<ins class="diff-chg">
"hljs-string">"MyThing"</span>,
</ins>    <span class="hljs-string">"description"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Menschenlesbare Informationen."</span>,
</ins>    <span class="hljs-string">"descriptions"</span>: {        <span class="hljs-string">"en"</span>:<span class=<ins class="diff-chg">
"hljs-string">"Human readable information."</span>,
</ins>        <span class="hljs-string">"de"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Menschenlesbare Informationen."</span>,
</ins>        <span class="hljs-string">"ja"</span> : <span class=<ins class="diff-chg">
"hljs-string">"人間が読むことができる情報"</span>,
</ins>        <span class="hljs-string">"zh-Hans"</span> : <span class=<ins class="diff-chg">
"hljs-string">"人们可阅读的信息"</span>, 
</ins>        <span class="hljs-string">"zh-Hant"</span> : <span class=<ins class="diff-chg">
"hljs-string">"人們可閱讀的資訊"</span>
    },
    ...
</ins>    <span class="hljs-string">"properties"</span>: {        <span class="hljs-string">"on"</span>: {            <span class="hljs-string">"title"</span> : <span class=<ins class="diff-chg">
"hljs-string">"An/Aus"</span>,
</ins>            <span class="hljs-string">"titles"</span>: {                <span class="hljs-string">"en"</span>: <span class=<ins class="diff-chg">
"hljs-string">"On/Off"</span>,
</ins>                <span class="hljs-string">"de"</span>: <span class=<ins class="diff-chg">
"hljs-string">"An/Aus"</span>,
</ins>                <span class="hljs-string">"ja"</span>: <span class=<ins class="diff-chg">
"hljs-string">"オンオフ"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"zh-Hans"</span>: <span class=
"hljs-string">"开关"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"zh-Hant"</span>: <span class=
"hljs-string">"開關"</span> },
</ins>            <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"boolean"</span>,
</ins>            <span class="hljs-string">"forms"</span>: [...]<ins class="diff-chg">
        },
</ins>        <span class="hljs-string">"status"</span>: {            <span class="hljs-string">"title"</span> : <span class=<ins class="diff-chg">
"hljs-string">"Zustand"</span>,
</ins>            <span class="hljs-string">"titles"</span>: {                <span class="hljs-string">"en"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Status"</span>,
</ins>                <span class="hljs-string">"de"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Zustand"</span>,
</ins>                <span class="hljs-string">"ja"</span>: <span class=<ins class="diff-chg">
"hljs-string">"状態"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"zh-Hans"</span>: <span class=
"hljs-string">"状态"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"zh-Hant"</span>: <span class=
"hljs-string">"狀態"</span> },
</ins>            <span class="hljs-string">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"object"</span>,
            ...
}
</ins></pre></div></section></section><section id="content-extension-section"><h3 id="x6-2-context-extension">
<span class="secno">
6.2
</span>
<ins class="diff-new">Context
Extension
</ins><a class="self-link" aria-label="§" href= "#content-extension-section"></a></h3><p><ins class="diff-new">
In
addition
to
the
standard
vocabulary
definitions
as
defined
in
Section
</ins><a href="#sec-vocabulary-definition" class= "sec-ref"><span class="secno"><ins class="diff-new">
5.
</ins></span><span class= "sec-title"><ins class="diff-new">
Information
Model
</ins></span></a>,<ins class="diff-new">
the
Thing
Description
offers
the
possibility
to
add
context
knowledge
from
different
namespaces.
This
mechanism
can
be
used
to
enrich
the
content
of
the
Thing
Description
instances
with
additional
(e.g.,
domain
specific)
semantics.
In
addition,
it
can
also
be
used
to
specify
some
configurations
and
behaviors
of
the
underlying
communication
protocols
announced
in
the
</ins><code><ins class="diff-new">
forms
</ins></code><ins class="diff-new">
field.
</ins></p><p><ins class="diff-new">
For
this
extension
the
Thing
Description
uses
the
</ins><code><ins class="diff-new">
@context
</ins></code><ins class="diff-new">
mechanism
known
from
JSON-LD.
The
usage
and
serializiation
of
the
</ins><code><ins class="diff-new">
@context
</ins></code><ins class="diff-new">
within
the
Thing
Description
is
specified
in
Section
</ins><a href= "#sec-thing-as-a-whole-json" class="sec-ref"><span class= "secno"><ins class="diff-new">
6.1.1
</ins></span><span class="sec-title"><ins class="diff-new">
Thing
as
a
whole
</ins></span></a>.</p><p><ins class="diff-new">
When
adding
additional
vocabulary
to
a
Thing
Description
instance,
it
is
recommended
that
these
vocabulary
be
linked
to
a
namespace
context
that
is
within
the
JSON
name
</ins><code><ins class="diff-new">
@context
</ins></code><ins class="diff-new">
container
is
specified.
</ins></p><p><ins class="diff-new">
If
included
namespaces
are
based
on
class
definitions
such
as
those
provided
by
the
RDF
Schema
or
OWL,
the
Things
Description
also
allows
the
use
of
</ins><code><ins class="diff-new">
@type
</ins></code><ins class="diff-new">
known
from
JSON-LD
to
associate
the
affiliation
to
a
class.
</ins></p><div class="example" id= "ex-29-example-29-context-http-www-w3-org-ns-td-om-http-www-wurvoc-org-vocabularies-om-1-8-saref-https-w3id-org-saref-type-thing-properties-temperature-type-saref-temperature-description-temperature-value-of-the-weather-station-om-unit_of_measure-om-degree_celsius-readonly-true-observable-true-writeonly-false-type-number-forms"><div class="marker"><a class="self-link" href= "#ex-29-example-29-context-http-www-w3-org-ns-td-om-http-www-wurvoc-org-vocabularies-om-1-8-saref-https-w3id-org-saref-type-thing-properties-temperature-type-saref-temperature-description-temperature-value-of-the-weather-station-om-unit_of_measure-om-degree_celsius-readonly-true-observable-true-writeonly-false-type-number-forms"><ins class="diff-new">
Example
29
</ins></a></div><pre class="hljs javascript" aria-busy="false">{    <span class="hljs-string">"@context"</span>: [        <span class="hljs-string">"http://www.w3.org/ns/td"</span>,<ins class="diff-new">
        {<span class="hljs-string">"om"</span>: <span class=
"hljs-string">"http://www.wurvoc.org/vocabularies/om-1.8/"</span>},
        {<span class="hljs-string">"saref"</span>: <span class=
"hljs-string">"https://w3id.org/saref#"</span>}
    ],
</ins>    <span class="hljs-string">"@type"</span>: <span class=<ins class="diff-new">
"hljs-string">"Thing"</span>,
    ...
</ins>    <span class="hljs-string">"properties"</span>: {        <span class="hljs-string">"Temperature"</span>: {            <span class="hljs-string">"@type"</span>: <span class=<ins class="diff-new">
"hljs-string">"saref:Temperature"</span>,
</ins>            <span class=<ins class="diff-new">
"hljs-string">"description"</span>: <span class=
"hljs-string">"Temperature value of the weather station"</span>,
</ins>            <span class=<ins class="diff-new">
"hljs-string">"om:unit_of_measure"</span>: <span class=
"hljs-string">"om:degree_Celsius"</span>,
</ins>            <span class=<ins class="diff-new">
"hljs-string">"readOnly"</span>: <span class=
"hljs-literal">true</span>,
</ins>            <span class=<ins class="diff-new">
"hljs-string">"observable"</span>: <span class=
"hljs-literal">true</span>,
</ins>            <span class=<ins class="diff-new">
"hljs-string">"writeOnly"</span>: <span class=
"hljs-literal">false</span>,
</ins>            <span class="hljs-string">"type"</span>: <span class=<ins class="diff-new">
"hljs-string">"number"</span>,
</ins>            <span class="hljs-string">"forms"</span> : [...]<ins class="diff-new">
        },
        ...
    }
}
</ins></pre></div><p><ins class="diff-new">
With
the
context
extension
in
the
Thing
Description,
communication
metadata
can
be
supplemented
or
specified
in
the
declarations
</ins><code><ins class="diff-new">
forms
</ins></code>.<ins class="diff-new">
This
is
useful
when
default
assumptions
as
defined
in
[[
</ins><cite><a class="bibref" href= "#bib-wot-protocol-binding"><ins class="diff-new">
WOT-PROTOCOL-BINDING
</ins></a></cite><ins class="diff-new">
]]
need
to
be
overwritten.
</ins></p><p><ins class="diff-new">
The
following
example
shows
a
property
"brightness"
that
offers
a
read,
write,
and
observe
operation
within
the
</ins><code><ins class="diff-new">
forms
</ins></code><ins class="diff-new">
deceleration.
</ins></p><aside class="example ds-selector-tabs changed" id= "context-extension-for-forms"><div class="marker"><a class="self-link" href= "#context-extension-for-forms"><ins class="diff-new">
Example
30
</ins></a><span class= "example-title">:<ins class="diff-new">
Specialization
of
the
form
definition
by
context
extension.
</ins></span></div><div class="selectors"><p><button class="selected" data-selects="original"><ins class="diff-new">
Simple
</ins></button><button data-selects="expanded"><ins class="diff-new">
Full
</ins></button></p></div><pre class="original selected hljs" aria-busy="false">{<ins class="diff-new">
        "@context": [
            "http://www.w3.org/ns/td",
            {
                "iot": "http://www.example.org/iot",
                "http": "http://www.w3.org/2011/http#"
            }
        ],
        ...
        "properties": {
            "brightness": {
                "description": "The current brightness setting",
                "@type": [
                    "iot:CurrentLevel",
                    "iot:LevelData"
                ],
                "type": "integer",
                "minimum": -64,
                "maximum": 64,
                "observable": true,
                    "forms": [
                    {
                        "href": "http://example.org:9191/api/brightness",
                        "op": ["readproperty"]
                    },
                    {
                        "href": "http://example.org:9191/api/brightness",
                        "op": ["writeproperty"],
                        "http:methodName": "POST"
                    },
                    {
                        "href": "http://example.org:9191/api/brightness/observe",
                        "op": ["observeproperty"],
                        "http:methodName": "GET",
                        "subProtocol": "longpoll"
                    }
                ]
            }
        }
}
</ins></pre><pre class="expanded hljs" aria-busy="false">{<ins class="diff-new">
        "@context": [
            "http://www.w3.org/ns/td",
            {
                "iot": "http://www.example.org/iot",
                "http": "http://www.w3.org/2011/http#"
            }
        ],
        ...
        "properties": {
            "brightness": {
                "description": "The current brightness setting",
                "@type": [
                    "iot:CurrentLevel",
                    "iot:LevelData"
                ],
                "type": "integer",
                "minimum": -64,
                "maximum": 64,
                "observable": true,
                "readOnly" : false,
                "writeOnly": false,
                "forms": [
                    {
                        "href": "http://example.org:9191/api/brightness",
                        "contentType": "application/json",
                        "op": ["readproperty"]
                    },
                    {
                        "href": "http://example.org:9191/api/brightness",
                        "contentType": "application/json",
                        "op": ["writeproperty"],
                        "http:methodName": "POST"
                    },
                    {
                        "href": "http://example.org:9191/api/brightness/observe",
                        "contentType": "application/json",
                        "op": ["observeproperty"],
                        "http:methodName": "GET",
                        "subProtocol": "longpoll"
                    }
                ]
            }
        }
}
</ins></pre></aside><p><ins class="diff-new">
For
the
read
operation,
the
deceleration
follows
the
default
assumption
to
execute
an
HTTP
GET
as
defined
in
[[
</ins><cite><a class= "bibref" href= "#bib-wot-protocol-binding"><ins class="diff-new">
WOT-PROTOCOL-BINDING
</ins></a></cite><ins class="diff-new">
]].
The
write
operation
overwrites
the
default
assumption
(=
HTTP
PUT)
and
declares
with
the
context
extension
the
HTTP
POST
method
to
be
used
for
this
operation.
In
order
to
observe
this
property,
the
context
extension
is
used
here
to
announce
that
an
HTTP
GET
is
always
running
to
follow
the
long
poll
mechanism.
</ins></p></section><section id="media-type-section"><h3 id="x6-3-media-type"><span class="secno"><ins class="diff-new">
6.3
</ins></span>
Media
Type
<a class="self-link" aria-label="§" href= "#media-type-section">
</a>
</h3>
<p>
The
JSON-based
serialization
of
the
TD
is
identified
by
the
media
type
[
<cite>
<a class="bibref" href= "#bib-mediatypes">
MEDIATYPES
</a>
</cite>
]
<code>
application/td+json
</code>.
</p>
<div class="ednote" id="issue-container-generatedID-5">
<div role="heading" class="ednote-title marker" id="h-ednote-4" aria-level="4">
<span>
Editor's
note
</span>
<span style= "text-transform: none">:
CoAP
Content
Format
</span>
</div>
<p class="">
CoAP-based
WoT
implementations
can
use
the
experimental
Content-Format
<code>
65100
</code>
until
a
proper
identifier
has
been
registered.
</p>
</div>
<p>
<span class="rfc2119-assertion" id="td-media-type">
The
media
type
<code>
application/td+json
</code>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
also
associated
with
the
JSON-LD
context
<code>
http://www.w3.org/ns/td
</code>.
</span>
That
means
that
this
media
type
can
also
be
used
for
contextual
identification
of
the
vocabulary
within
a
(simplified)
TD
instance
that
may
omit
the
<code>
@context
</code>
<del class="diff-old">key
</del>
<ins class="diff-chg">name
</ins>
term.
</p>
<div class="ednote" id="issue-container-generatedID-6">
<div role="heading" class="ednote-title marker" id="h-ednote-5" aria-level="4">
<span>
Editor's
note
</span>
<span style= "text-transform: none">:
IANA
Considerations
</span>
</div>
<p class="">
Neither
the
<code>
application/td+json
</code>
<del class="diff-old">media
</del>
<ins class="diff-chg">content
</ins>
type
nor
a
CoAP
Content-Format
identifier
have
been
registered
with
IANA
yet.
</p>
</div>
</section>
<section id="Implementation-Note-section">
<h3 id="x6-4-implementation-notes">
<span class="secno">
<del class="diff-old">6.3
</del>
<ins class="diff-chg">6.4
</ins>
</span>
Implementation
Notes
<a class="self-link" aria-label="§" href= "#Implementation-Note-section">
</a>
</h3>
<section id="note-json-processing">
<h4 id="x6-4-1-thing-description-processing">
<del class="diff-old">6.3.1
</del>
<span class= "secno">
<ins class="diff-chg">6.4.1
</ins>
</span>
<del class="diff-old">JSON
</del>
<ins class="diff-chg">Thing
Description
</ins>
Processing
<a class= "self-link" aria-label="§" href="#note-json-processing">
</a>
</h4>
<p>
The
minimum
requirement
to
read
the
content
of
a
Thing
Description
instance
is
a
(simple)
JSON
parser.
</p>
<p>
<ins class="diff-chg">For
reasons
of
simplification
and/or
compactness,
exchanged
Thing
Descriptions
instances
may
omit
mandatory
vocabulary
terms
that
have
default
value
assumptions
(aka
</ins><i><ins class="diff-chg">
Simple
</ins></i><ins class="diff-chg">
Thing
Description
representation).
In
this
case,
the
Thing
Description
Processor
must
follow
the
default
assumptions
for
these
vocabulary
terms:
</ins><span class="rfc2119-assertion" id= "td-readOnly-observable-writeOnly-default">
If
the
<del class="diff-old">key
</del>
<ins class="diff-chg">name
</ins>
terms
<code>
<del class="diff-old">writable
</del>
<ins class="diff-chg">readOnly
</ins></code>,<code><ins class="diff-chg">
writeOnly
</ins></code>,
and/or
<code>
observable
</code>
are
not
present
within
a
<code>
properties
</code>
<ins class="diff-new">interaction
</ins>
definition,
the
default
value
defined
in
<a href="#property" class="sec-ref">
<del class="diff-old">5.
</del>
<span class= "secno">
<ins class="diff-chg">5.2.3
</ins>
</span>
<del class="diff-old">Information
Model
</del>
<span class="sec-title">
<ins class="diff-chg">Property
</ins>
</span>
</a>
<em class="rfc2119" title="MUST">
MUST
</em>
be
assumed.
</span>
</p>
<p>
<span class="rfc2119-assertion" id= "td-readOnly-observable-default">
If
the
<ins class="diff-new">name
terms
</ins>
<code>
<del class="diff-old">mediaType
</del>
<ins class="diff-chg">idempotent
</ins>
</code>
<del class="diff-old">key
</del>
<ins class="diff-chg">and/or
</ins><code><ins class="diff-chg">
safe
</ins></code><ins class="diff-chg">
are
not
present
within
an
</ins><code><ins class="diff-chg">
actions
</ins></code><ins class="diff-chg">
interaction
definition,
the
default
value
defined
in
</ins><a href="#action" class="sec-ref"><span class= "secno"><ins class="diff-chg">
5.2.4
</ins></span><span class="sec-title"><ins class="diff-chg">
Action
</ins></span></a><em class="rfc2119" title="MUST"><ins class="diff-chg">
MUST
</ins></em><ins class="diff-chg">
be
assumed.
</ins></span></p><p><span class="rfc2119-assertion" id="td-content-type-default"><ins class="diff-chg">
If
the
</ins><code><ins class="diff-chg">
contentType
</ins></code><ins class="diff-chg">
name
</ins>
term
is
not
present
within
a
<code>
forms
</code>
definition,
the
default
value
as
defined
in
<a href="#form" class="sec-ref">
<del class="diff-old">5.
</del>
<span class="secno">
<ins class="diff-chg">5.2.6
</ins>
</span>
<span class="sec-title">
<del class="diff-old">Information
Model
</del>
<ins class="diff-chg">Form
</ins>
</span>
</a>
<em class="rfc2119" title= "MUST">
MUST
</em>
be
assumed.
</span>
</p>
<p>
To
validate
the
semantic
meaning
and
follow
references
to
external
context
vocabulary
terms
(e.g.,
iot.schema.org),
use
of
JSON-LD
or
RDF-based
tools
and
libraries
is
highly
recommended
as
explained
in
the
next
sub-section.
</p>
</section>
<section id="note-jsonld10-processing">
<h4 id="x6-4-2-json-ld-1-0-processing">
<span class= "secno">
<del class="diff-old">6.3.2
</del>
<ins class="diff-chg">6.4.2
</ins>
</span>
JSON-LD
<del class="diff-old">1.1
</del>
<ins class="diff-chg">1.0
</ins>
Processing
<a class="self-link" aria-label="§" href="#note-jsonld10-processing">
</a>
</h4>
<p>
To
interpret
the
semantic
meaning
of
a
Thing
Description
in
terms
of
RDF
triples,
a
Thing
Description
instance
<del class="diff-old">first
requires
a
valid
JSON-LD
1.1
representation
based
on
this
Thing
Description
specification.
Then
this
representation
</del>
can
be
<del class="diff-old">passed
to
a
JSON-LD
1.1
processor.
The
following
pre-processing
steps
of
a
Thing
Description
instance
must
be
executed
before
starting
JSON-LD
1.1
processing:
Before
starting
JSON-LD
1.1
processing
of
a
Thing
Description
instance,
there
MUST
be
a
@context
key
from
JSON-LD
1.1
as
defined
in
Section
6.1.1
Thing
as
a
whole
.
Before
starting
JSON-LD
1.1
processing
of
</del>
<ins class="diff-chg">simple
transformed
into
</ins>
a
<del class="diff-old">Thing
Description
instance,
all
external
vocabulary
terms
used
in
the
Thing
Description
MUST
provide
their
context
URIs
as
prefix
or
within
the
@context
field.
Before
starting
</del>
<ins class="diff-chg">RDF-based
serializiation
format
by
</ins>
JSON-LD
<del class="diff-old">1.1
processing
of
a
Thing
Description
instance,
all
mandatory
vocabulary
terms
as
defined
in
Section
5.
Information
Model
that
are
missing
from
the
instance
MUST
be
inserted
explicitly
with
their
default
value.
Section
1.
Introduction
shows
an
example
of
how
the
input
and
output
of
such
preprocessing
would
appear.
</del>
<ins class="diff-chg">1.0.
</ins>
</p>
</section>
</section>
</section>
<section id="example-serialization">
<h2 id="x7-example-thing-description-instances">
<span class= "secno">
7.
</span>
Example
Thing
Description
Instances
<a class= "self-link" aria-label="§" href="#example-serialization">
</a>
</h2>
<section id="myLampThing-example-serialization">
<h3 id="x7-1-mylampthing-example-with-coap-binding">
<span class= "secno">
7.1
</span>
MyLampThing
Example
<ins class="diff-chg">with
CoAP
Binding
</ins><a class= "self-link" aria-label="§" href= "#myLampThing-example-serialization">
</a>
</h3>
<p>
<ins class="diff-chg">Feature
list
of
the
Thing:
</ins></p><ul><li><ins class="diff-chg">
Name:
MyLampThing
</ins></li><li><ins class="diff-chg">
Context
extension:
none
</ins></li><li><ins class="diff-chg">
Offered
interactions:
1
property,
1
action,
1
event
</ins></li><li><ins class="diff-chg">
Security:
PSKSecurityScheme
</ins></li><li><ins class="diff-chg">
Protocol
binding:
CoAP
over
TLS
</ins></li><li><ins class="diff-chg">
Serializiation:
JSON
</ins></li><li><ins class="diff-chg">
Comment:
none
</ins></li></ul><div class="example" id= "ex-31-mylampthing-represented-as-a-compact-json-serialization">
<div class="marker">
<a class="self-link" href= "#ex-31-mylampthing-represented-as-a-compact-json-serialization">
Example
<del class="diff-old">18
</del>
<ins class="diff-chg">31
</ins>
</a>
<span class="example-title">:
MyLampThing
represented
as
a
compact
JSON
serialization
</span>
</div>
<pre class="hljs json" aria-busy="false">{
    <span class="hljs-attr">"id"</span>: <span class=
"hljs-string">"urn:dev:wot:com:example:servient:lamp"</span>,
    <span class="hljs-attr">"name"</span>: <span class=
"hljs-string">"MyLampThing"</span>,
    <span class="hljs-attr">"description"</span> : <span class=
<del class="diff-old">"hljs-string"&gt;"MyLampThing uses JSON-LD 1.1 serialization",
    : [{&lt;span class=
</del>
<ins class="diff-chg">"hljs-string">"MyLampThing uses JSON serialization"</span>,
</ins>    <span class=<ins class="diff-chg">
"hljs-attr">"securityDefinitions"</span>: {<span class=
"hljs-attr">"psk_sc"</span>:{<span class=
</ins>
"hljs-attr">"scheme"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"psk"}],
</del>
<ins class="diff-chg">"hljs-string">"psk"</span>}},
</ins>    <span class="hljs-attr">"security"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"psk_sc"</span>],
</ins>
    <span class="hljs-attr">"properties"</span>: {
        <span class="hljs-attr">"status"</span>: {
            <span class=
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Shows the current status of the lamp"</span>,
            <span class="hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>,
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"coaps://mylamp.example.com/status"</span>
            }]
        }
    },
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class=
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Turn on or off the lamp"</span>,
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"coaps://mylamp.example.com/toggle"</span>
            }]
        }
    },
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class=
"hljs-attr">"description"</span> : <span class=
"hljs-string">"Lamp reaches a critical temperature (overheating)"</span>,
<del class="diff-old">            : &lt;span class=
"hljs-string"&gt;"string",
</del>
            <span class="hljs-attr">"data"</span>: {<span class=
<ins class="diff-chg">"hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>},
</ins>
            <span class="hljs-attr">"forms"</span>: [{
                <span class="hljs-attr">"href"</span>: <span class=
"hljs-string">"coaps://mylamp.example.com/oh"</span>
            }]
        }
    }
}
</pre>
</div>
</section>
<section id="myLampThing-example-serialization">
<h3 id="x7-2-mylightsensor-example-with-mqtt-binding">
<span class= "secno">
<ins class="diff-chg">7.2
</ins></span><ins class="diff-chg">
MyLightSensor
Example
with
MQTT
Binding
</ins><a class= "self-link" aria-label="§" href= "#myLampThing-example-serialization"></a></h3><p><ins class="diff-chg">
Feature
list
of
the
Thing:
</ins></p><ul><li><ins class="diff-chg">
Name:
MyLightSensor
</ins></li><li><ins class="diff-chg">
Context
extension:
none
</ins></li><li><ins class="diff-chg">
Offered
interactions:
1
event
</ins></li><li><ins class="diff-chg">
Security:
none
</ins></li><li><ins class="diff-chg">
Protocol
binding:
MQTT
</ins></li><li><ins class="diff-chg">
Serializiation:
text
</ins></li><li><ins class="diff-chg">
Comment:
An
MQTT
client
frequently
publishes
the
light
sensor
data
(number
is
serialized
in
text
format)
to
the
topic
/lightSensor
by
the
MQTT
broker
running
behind
the
address
192.168.1.187:1883.
</ins></li></ul><div class="example" id="ex-32-mylightsensor-with-mqtt-binding">
<div class="marker">
<a class="self-link" href= "#ex-32-mylightsensor-with-mqtt-binding">
Example
<del class="diff-old">19
</del>
<ins class="diff-chg">32
</ins>
</a>
<del class="diff-old">:
MyLampThing
</del>
<span class= "example-title">:
<ins class="diff-chg">MyLightSensor
</ins>
with
<del class="diff-old">semantic
annotations
based
on
a
valid
JSON-LD
1.1
representation
</del>
<ins class="diff-chg">MQTT
binding
</ins>
</span>
</div>
<pre class="hljs json" aria-busy="false">{
<del class="diff-old">    : [&lt;span class=
"hljs-string"&gt;"http://www.w3.org/ns/td", 
                {: &lt;span class=
"hljs-string"&gt;"http://iotschema.org/"}],
     : &lt;span class=
"hljs-string"&gt;"Thing",
    : &lt;span class=
"hljs-string"&gt;"urn:dev:wot:com:example:servient:lamp",
</del>
    <span class="hljs-attr">"name"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"MyLampThing",
     : &lt;span class=
"hljs-string"&gt;"MyLampThing uses JSON-LD 1.1 serialization",
    : [{&lt;span class=
</del>
<ins class="diff-chg">"hljs-string">"MyLightSensor"</span>,
</ins>    <span class="hljs-attr">"id"</span>: <span class=<ins class="diff-chg">
"hljs-string">"urn:dev:wot:com:example:servient:lightsensor"</span>,
</ins>    <span class=<ins class="diff-chg">
"hljs-attr">"securityDefinitions"</span>: {<span class=
"hljs-attr">"nosec_sc"</span>: {<span class=
</ins>
"hljs-attr">"scheme"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"psk"}],
    : {
        : {
             : &lt;span class=
"hljs-string"&gt;"iot:SwitchStatus",
            &lt;span class=
"hljs-attr"&gt;"description" : &lt;span class=
"hljs-string"&gt;"Shows the current status of the lamp",
            : &lt;span class=
"hljs-literal"&gt;false,
            &lt;span class=
"hljs-attr"&gt;"observable": &lt;span class=
"hljs-literal"&gt;false,
            : &lt;span class=
"hljs-string"&gt;"string",
            : [{
                : &lt;span class=
"hljs-string"&gt;"coaps://mylamp.example.com/status",
                &lt;span class=
"hljs-attr"&gt;"mediaType": &lt;span class=
"hljs-string"&gt;"application/json"
            }]
        }
    },
    : {
        : {
             : &lt;span class=
"hljs-string"&gt;"iot:SwitchStatus",
            &lt;span class=
"hljs-attr"&gt;"description" : &lt;span class=
"hljs-string"&gt;"Turn on or off the lamp",
            : [{
                : &lt;span class=
"hljs-string"&gt;"coaps://mylamp.example.com/toggle",
                &lt;span class=
"hljs-attr"&gt;"mediaType": &lt;span class=
"hljs-string"&gt;"application/json"
            }]
        }
    },
</del>
<ins class="diff-chg">"hljs-string">"nosec"</span>}},
</ins>    <span class="hljs-attr">"security"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"nosec_sc"</span>],
</ins>
    <span class="hljs-attr">"events"</span>: {
<del class="diff-old">        : {
             : &lt;span class=
"hljs-string"&gt;"iot:TemperatureAlarm",
            &lt;span class=
"hljs-attr"&gt;"description" : &lt;span class=
"hljs-string"&gt;"Lamp reaches a critical temperature (overheating)",
            : &lt;span class=
"hljs-string"&gt;"string",
            : [{
</del>
        <span class="hljs-attr">"lightSensor"</span>: {
        <span class="hljs-attr">"type"</span>: <span class=
<ins class="diff-chg">"hljs-string">"integer"</span>,
</ins>        <span class="hljs-attr">"forms"</span>: [<ins class="diff-chg">
            {
</ins>
                <span class="hljs-attr">"href"</span>: <span class=
<del class="diff-old">"hljs-string"&gt;"coaps://mylamp.example.com/oh",
</del>
<ins class="diff-chg">"hljs-string">"mqtt://192.168.1.187:1883/lightSensor"</span>,
</ins>
                <span class=
<del class="diff-old">"hljs-attr"&gt;"mediaType": &lt;span class=
"hljs-string"&gt;"application/json"
            }]
        }
</del>
<ins class="diff-chg">"hljs-attr">"contentType"</span> : <span class=
"hljs-string">"application/text"</span>
            }
        ]
</ins>
    }
<ins class="diff-new">} 
</ins>
}
</pre>
</div>
</section>
</section>
<section id="sec-security-consideration">
<h2 id="x8-security-and-privacy-considerations">
<span class= "secno">
8.
</span>
Security
and
Privacy
Considerations
<a class= "self-link" aria-label="§" href= "#sec-security-consideration">
</a>
</h2>
<p>
<ins class="diff-chg">In
general
the
security
measures
taken
to
protect
a
WoT
system
will
depend
on
the
threats
and
attackers
that
system
may
face
and
the
value
of
the
assets
needs
to
protect.
A
detailed
discussion
of
security
and
privacy
considerations
for
the
Web
of
Things,
including
a
threat
model
that
can
be
adapted
to
various
circumstances,
is
presented
in
the
informative
document
[
</ins><cite>
<del class="diff-old">Editor's
note
</del>
<a class="bibref" href= "#bib-wot-security-considerations">
<ins class="diff-chg">WOT-SECURITY-CONSIDERATIONS
</ins></a>
<del class="diff-old">Please
see
</del>
</cite>
<ins class="diff-chg">].
This
section
discusses
only
security
and
privacy
risks
and
possible
mitigations
directly
relevant
to
</ins>
the
WoT
<del class="diff-old">Security
</del>
<ins class="diff-chg">Thing
Description.
</ins></p><p><ins class="diff-chg">
A
WoT
Thing
Description
can
describe
both
secure
</ins>
and
<del class="diff-old">Privacy
repository
for
work
</del>
<ins class="diff-chg">insecure
network
interfaces.
When
a
Thing
Description
is
retro-fitted
to
an
existing
network
interface,
no
change
</ins>
in
<del class="diff-old">progress
regarding
threat
models,
assets,
risks,
recommended
mitigations,
</del>
<ins class="diff-chg">the
security
status
of
the
network
interface
is
to
be
expected.
</ins></p><p><ins class="diff-chg">
When
designing
new
devices
</ins>
and
<ins class="diff-new">services
for
use
with
the
WoT,
we
have
documented
a
suggested
set
of
</ins>
best
practices
<del class="diff-old">for
</del>
<ins class="diff-chg">in
[
</ins><cite><a class="bibref" href= "#bib-wot-security-best-practices"><ins class="diff-chg">
WOT-SECURITY-BEST-PRACTICES
</ins></a></cite><ins class="diff-chg">
]
to
improve
security.
This
best-practices
document
may
be
updated
as
security
measures
evolve.
Following
these
practices
does
not
guarantee
security,
but
it
at
least
will
help
to
avoid
common
known
vulnerabilities.
</ins></p><p><ins class="diff-chg">
The
use
of
a
WoT
Thing
Description
introduces
the
</ins>
security
and
privacy
<del class="diff-old">for
systems
using
</del>
<ins class="diff-chg">risks
given
in
</ins>
the
<del class="diff-old">Web
</del>
<ins class="diff-chg">following
sections.
After
each
risk,
we
suggest
some
possible
mitigations.
</ins></p><section id="sec-security-consideration-context"><h3 id="x8-1-context-dereferencing-privacy-risk"><span class= "secno"><ins class="diff-chg">
8.1
</ins></span><ins class="diff-chg">
Context
Dereferencing
Privacy
Risk
</ins><a class= "self-link" aria-label="§" href= "#sec-security-consideration-context"></a></h3><p><ins class="diff-chg">
Deferencing
the
vocabulary
files
given
in
the
</ins><code><ins class="diff-chg">
@context
</ins></code><ins class="diff-chg">
member
</ins>
of
<del class="diff-old">Things.
Once
complete,
security
</del>
<ins class="diff-chg">any
JSON-LD
document
can
be
a
privacy
risk.
In
the
case
of
the
WoT,
an
attacker
can
observe
the
network
traffic
produced
by
such
deferences
</ins>
and
<ins class="diff-new">can
use
the
metadata
of
the
dereference,
such
as
the
destination
IP
address,
to
infer
information
about
the
device
especially
if
domain-specific
vocabularies
are
used.
This
is
a
risk
even
if
the
connection
is
encrypted,
and
is
related
to
DNS
</ins>
privacy
<del class="diff-old">considerations
relevant
</del>
<ins class="diff-chg">leaks.
</ins></p><dl><dt><ins class="diff-chg">
Mitigation:
</ins></dt><dd><ins class="diff-chg">
Avoid
actual
dereferencing
of
vocabulary
files.
Vocabulary
files
should
be
cached
whenever
possible.
Ideally
they
would
be
made
immutable,
built
into
the
interpreting
device,
and
not
derefenced
at
all,
with
the
URI
in
the
</ins><code><ins class="diff-chg">
@context
</ins></code><ins class="diff-chg">
member
serving
only
as
an
identifier
of
the
(known)
vocabulary.
This
requires
the
use
of
strict
version
control,
as
updates
should
use
a
new
URI
</ins>
to
<ins class="diff-new">ensure
that
existing
URIs
can
refer
to
immutable
data.
Use
well-known
standard
vocabulary
files
whenever
possible
to
improve
the
chances
that
the
context
file
will
be
available
locally
to
systems
interpreting
the
metadata
in
a
</ins>
Thing
<del class="diff-old">Descriptions
</del>
<ins class="diff-chg">Description.
</ins></dd></dl></section><section id="sec-security-consideration-id"><h3 id="x8-2-immutable-identifiers-privacy-risk"><span class= "secno"><ins class="diff-chg">
8.2
</ins></span><ins class="diff-chg">
Immutable
Identifiers
Privacy
Risk
</ins><a class= "self-link" aria-label="§" href= "#sec-security-consideration-id"></a></h3><p><ins class="diff-chg">
The
fact
that
a
Thing
Description
contains
a
unique
identifier
means
that
should
it
be
associated
with
a
person
it
can
be
used
to
track
that
person
and
therefore
pose
a
risk
to
privacy.
</ins></p><dl><dt><ins class="diff-chg">
Mitigation:
</ins></dt><dd><ins class="diff-chg">
All
identifiers
should
be
mutable,
and
there
should
be
a
mechanism
to
update
the
</ins><code><ins class="diff-chg">
id
</ins></code><ins class="diff-chg">
of
a
Thing.
Specifically,
the
</ins><code><ins class="diff-chg">
id
</ins></code><ins class="diff-chg">
of
a
Thing
should
not
be
fixed
in
hardware.
This
does,
however,
conflict
with
the
Linked
Data
ideal
that
identifiers
are
fixed
URIs.
In
many
circumstances
it
</ins>
will
be
<del class="diff-old">summarized
</del>
<ins class="diff-chg">acceptable
to
only
allow
updates
to
identifiers
if
a
Thing
is
reinitialized.
In
this
case
as
a
software
entity
the
old
Thing
ceases
to
exist
and
a
new
Thing
is
created.
This
can
be
sufficient
to
break
a
tracking
chain
when,
for
example,
a
device
is
sold
to
a
new
owner.
Alternatively,
if
more
frequent
changes
are
desired
during
the
operational
phase
of
a
device,
a
mechanism
can
be
put
into
place
to
notify
only
authorized
users
of
the
change
</ins>
in
<ins class="diff-new">identifier
when
a
change
is
made.
Note
however
that
some
classes
of
devices,
e.g.
medical
devices,
may
require
immutable
IDs
by
law
in
some
jurisdictions.
In
</ins>
this
<del class="diff-old">section.
</del>
<ins class="diff-chg">case
extra
attention
should
be
paid
to
secure
access
to
files,
such
as
Thing
Descriptions,
containing
such
immutable
identifiers.
</ins></dd></dl></section><section id="sec-security-consideration-fingerprint"><h3 id="x8-3-fingerprinting-privacy-risk"><span class= "secno"><ins class="diff-chg">
8.3
</ins></span><ins class="diff-chg">
Fingerprinting
Privacy
Risk
</ins><a class="self-link" aria-label="§" href= "#sec-security-consideration-fingerprint"></a></h3><p><ins class="diff-chg">
As
noted
above,
the
</ins><code><ins class="diff-chg">
id
</ins></code><ins class="diff-chg">
member
in
a
TD
can
pose
a
privacy
risk.
However,
even
if
the
</ins><code><ins class="diff-chg">
id
</ins></code><ins class="diff-chg">
is
updated
as
described
to
mitigate
its
tracking
risk,
it
may
still
be
possible
to
associate
a
TD
with
a
particular
physical
device,
and
from
there
to
a
person,
through
fingerprinting.
</ins>
</p>
<dl>
<dt>
<ins class="diff-chg">Mitigation:
</ins></dt><dd><ins class="diff-chg">
Only
authorized
users
should
be
provided
access
to
the
Thing
Description
for
a
Thing.
If
the
TD
is
only
distributed
to
authorized
users
through
secure
and
confidential
channels,
for
example
through
a
directory
service
that
requires
authentication,
the
risk
can
be
minimized.
</ins></dd></dl></section><section id="sec-security-consideration-tampering"><h3 id="x8-4-td-interception-and-tampering-security-risk"><span class="secno"><ins class="diff-chg">
8.4
</ins></span><ins class="diff-chg">
TD
Interception
and
Tampering
Security
Risk
</ins><a class="self-link" aria-label="§" href= "#sec-security-consideration-tampering"></a></h3><p><ins class="diff-chg">
Intercepting
and
tampering
with
TDs
can
be
used
to
launch
man-in-the-middle
attacks,
for
example
by
rewriting
URLs
in
TDs
to
redirect
accesses
to
a
malicious
intermediary
that
can
capture
or
manipulate
data.
</ins></p><dl><dt><ins class="diff-chg">
Mitigation:
</ins></dt><dd><ins class="diff-chg">
Obtain
Thing
Descriptions
only
through
mutually
authenticated
channels.
This
ensures
that
the
client
and
the
server
are
both
sure
of
the
identity
of
the
other
party
to
the
communication.
This
is
also
necessary
in
order
to
deliver
TDs
only
to
authorized
users.
</ins></dd></dl></section><section id="sec-security-consideration-tampering"><h3 id="x8-5-context-interception-and-tampering-security-risk"><span class="secno"><ins class="diff-chg">
8.5
</ins></span><ins class="diff-chg">
Context
Interception
and
Tampering
Security
Risk
</ins><a class="self-link" aria-label="§" href= "#sec-security-consideration-tampering"></a></h3><p><ins class="diff-chg">
Intercepting
and
tampering
with
context
files
can
be
used
to
facilitate
attacks
by
modifying
the
interpretation
of
vocabulary.
</ins></p><dl><dt><ins class="diff-chg">
Mitigation:
</ins></dt><dd><ins class="diff-chg">
Ideally
context
files
would
only
be
obtained
through
authenticated
channels
but
it
is
notable
(and
unfortunate)
that
many
contexts
are
indicated
using
HTTP
URLs,
which
are
vulnerable
to
interception
and
modification
if
dereferenced.
However,
if
context
files
are
immutable
and
cached,
and
dereferencing
is
avoided
whenever
possible,
then
this
risk
can
be
reduced.
</ins></dd></dl></section><section id="sec-security-consideration-inferencing"><h3 id= "x8-6-inferencing-of-personally-identifiable-information-privacy-risk"><span class="secno"><ins class="diff-chg">
8.6
</ins></span><ins class="diff-chg">
Inferencing
of
Personally
Identifiable
Information
Privacy
Risk
</ins><a class="self-link" aria-label="§" href= "#sec-security-consideration-inferencing"></a></h3><p><ins class="diff-chg">
In
many
locales,
in
order
to
protect
the
privacy
of
users,
there
are
legal
requirements
for
the
handling
of
personally
identifiable
information,
that
is,
information
that
can
be
associated
with
a
particular
person.
Such
information
can
of
course
be
generated
by
IoT
devices
directly.
However,
the
existence
and
metadata
of
IoT
devices
(the
kind
of
data
stored
in
a
Thing
Description)
can
also
contain
or
be
used
to
infer
personally
identifiable
information.
This
information
can
be
as
simple
as
the
fact
that
a
certain
person
owns
a
certain
type
of
device,
which
can
lead
to
additional
inferences
about
that
person.
</ins></p><dl><dt><ins class="diff-chg">
Mitigation:
</ins></dt><dd><ins class="diff-chg">
Treat
a
Thing
Description
associated
with
a
personal
device
as
if
it
contained
personally
identifiable
information.
As
an
example
application
of
this
principle,
consider
how
to
obtain
user
consent.
Consent
for
usage
of
personally
identifiable
data
generated
by
a
Thing
is
often
obtained
when
a
Thing
is
paired
with
system
consuming
the
data,
which
is
frequently
also
when
the
Thing
Description
is
registered
with
a
local
directory
or
the
system
consuming
the
Thing
Description
in
order
to
access
the
device.
In
this
case
consent
for
using
data
from
a
Thing
can
be
combined
with
consent
for
accessing
the
Thing's
Thing
Description.
As
a
second
example,
if
we
consider
a
TD
to
contain
personally
identifiable
information,
then
it
should
not
be
retained
indefinitely
or
used
for
purposes
other
than
those
for
which
consent
was
given.
</ins></dd></dl></section>
</section>
<section id="json-schema-4-validation" class="appendix normative">
<h2 id="a-json-schema-for-td-instance-validation">
<span class= "secno">
A.
</span>
JSON
Schema
for
TD
Instance
Validation
<a class= "self-link" aria-label="§" href= "#json-schema-4-validation">
</a>
</h2>
<del class="diff-old">Below
is
a
JSON
Schema
[
JSON-SCHEMA-VALIDATION
]
for
syntactically
validating
Thing
Description
instances
serialized
in
JSON-LD
1.1.
</del>
<div class="ednote" id="issue-container-generatedID-7">
<div role="heading" class="ednote-title marker" id="h-ednote-6" aria-level="3">
<span>
Editor's
note
</span>
</div>
<p class="">
This
schema
is
known
to
be
too
permissive.
This
issue
will
be
resolved
in
the
next
release
of
this
document.
</p>
</div>
<pre class="advisement hljs" aria-busy="false">{
<del class="diff-old">  "title": "WoT TD Schema for Bundang Plug Fest",
  "description": "JSON Schema representation of the TD serialization format.",
  "$schema ": "http://json-schema.org/draft-06/schema#",
  "type": "object",
  "properties": {
    "base": {
      "$ref": "#/definitions/url"
    },
    "@type": {
      "$ref": "#/definitions/type_declaration"
    },
    "@context": {
      "$ref": "#/definitions/context"
    },
    "name": {
      "type": "string"
    },
    "id": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
</del>
<ins class="diff-chg">    "title": "WoT TD Schema - December 2018",
    "description": "JSON Schema representation of the TD serialisation format.",
    "$schema ": "http://json-schema.org/draft-06/schema#",
    "type": "object",
</ins>
    "properties": {
<del class="diff-old">      "type": "object",
      "items": {
        "$ref": "#/definitions/properties"
      }
    },
    "actions": {
      "type": "object",
      "items": {
        "$ref": "#/definitions/actions"
      }
    },
    "events": {
      "type": "object",
      "items": {
        "$ref": "#/definitions/events"
      }
    },
    "links": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/links"
      }
    },
    "support": {
      "type": "string"
    },
    "security": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/securityScheme"
      }
    }
  },
  "required": [
    "name",
    "id"
  ],
  "additionalProperties": true,
  "definitions": {
    "context": {
      "oneOf": [
        {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "$ref": "#/definitions/url"
              },
              {
                "type": "object"
              }
            ]
          },
          "contains": {
            "type": "string",
            "enum": [
              "https://w3c.github.io/wot-thing-description/context/td-context.jsonld",
              "http://www.w3.org/ns/td"
            ]
          }
</del>
<ins class="diff-chg">        "base": {
            "$ref": "#/definitions/url"
</ins>
        },
<del class="diff-old">        {
          "type": "string",
          "enum": [
            "https://w3c.github.io/wot-thing-description/context/td-context.jsonld",
            "http://www.w3.org/ns/td"
          ]
        }
      ]
    },
    "type_declaration": {
      "oneOf": [
        {
          "type": "string"
</del>
<ins class="diff-chg">        "@type": {
            "$ref": "#/definitions/type_declaration"
</ins>
        },
<del class="diff-old">        {
          "type": "array"
        }
      ]
    },
    "form_declaration": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/form_element"
      }
    },
    "form_element": {
      "type": "object",
      "properties": {
        "href": {
          "$ref": "#/definitions/url"
</del>
<ins class="diff-chg">        "@context": {
            "$ref": "#/definitions/context"
</ins>
        },
<del class="diff-old">        "rel": {
          "type": "string"
</del>
<ins class="diff-chg">        "name": {
            "type": "string"
</ins>
        },
<del class="diff-old">        "mediaType": {
          "type": "string"
</del>
<ins class="diff-chg">        "id": {
            "type": "string"
</ins>
        },
<del class="diff-old">        "subProtocol": {
          "type": "string"
</del>
<ins class="diff-chg">        "description": {
            "type": "string"
</ins>
        },
<del class="diff-old">        "security": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/securityScheme"
          }
</del>
<ins class="diff-chg">        "descriptions": {
            "$ref": "#/definitions/descriptions"
</ins>
        },
<del class="diff-old">        "scopes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "href"
      ],
      "additionalProperties": true
    },
    "properties": {
      "additionalProperties": {
        "type": "object",
        "items": {
          "$ref": "#/definitions/property_element"
        }
      }
    },
    "actions": {
      "additionalProperties": {
        "type": "object",
        "items": {
          "$ref": "#/definitions/action_element"
        }
      }
    },
    "events": {
      "additionalProperties": {
        "type": "object",
        "items": {
          "$ref": "#/definitions/event_element"
        }
      }
    },
    "property_element": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
</del>
<ins class="diff-chg">        "properties": {
            "type":"object",
            "additionalProperties": {
                "$ref": "#/definitions/property_element"
            }
</ins>
        },
<del class="diff-old">        "@type": {
          "$ref": "#/definitions/type_declaration"
</del>
<ins class="diff-chg">        "actions": {
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/action_element"
            }
</ins>
        },
<del class="diff-old">        "label": {
          "type": "string"
</del>
<ins class="diff-chg">        "events": {
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/event_element"
            }
</ins>
        },
<del class="diff-old">        "writable": {
          "type": "boolean"
</del>
<ins class="diff-chg">        "links": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/link_element"
            }
</ins>
        },
<del class="diff-old">        "observable": {
          "type": "boolean"
</del>
<ins class="diff-chg">        "support": {
            "$ref": "#/definitions/url"
</ins>
        },
<del class="diff-old">        "forms": {
          "$ref": "#/definitions/form_declaration"
</del>
<ins class="diff-chg">        "securityDefinitions": {
            "type": "object",
            "additionalProperties": {
                "$ref": "#/definitions/securityScheme"
            }
</ins>
        },
        "security": {
<del class="diff-old">          "type": "array",
          "items": {
            "$ref": "#/definitions/securityScheme"
          }
</del>
<ins class="diff-chg">            "type": "array",
            "items": {
                "type": "string"
            }
</ins>
        },
<del class="diff-old">        "scopes": {
          "type": "array",
          "items": {
</del>
<ins class="diff-chg">        "created": {
</ins>
            "type": "string"
<del class="diff-old">          }
</del>
<ins class="diff-chg">        },
        "lastModified": {
            "type": "string"
        },
        "version": {
            "type": "object",
            "properties": {
                "instance": {
                    "type": "string"
                }
            },
            "required": [
                "instance"
            ]
</ins>
        }
<del class="diff-old">      },
      "required": [],
      "additionalProperties": true
</del>
    },
<del class="diff-old">    "action_element": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
        },
        "@type": {
          "$ref": "#/definitions/type_declaration"
</del>
<ins class="diff-chg">    "required": [
        "name",
        "id",
        "security"
    ],
    "additionalProperties": true,
    "definitions": {
        "context": {
            "oneOf": [{
                    "type": "array",
                    "items": {
                        "anyOf": [{
                                "$ref": "#/definitions/url"
                            },
                            {
                                "type": "object"
                            }
                        ]
                    },
                    "contains": {
                        "type": "string",
                        "enum": [
                            "http://www.w3.org/ns/td"
                        ]
                    }
                },
                {
                    "type": "string",
                    "enum": [
                        "http://www.w3.org/ns/td"
                    ]
                }
            ]
</ins>
        },
<del class="diff-old">        "label": {
          "type": "string"
</del>
<ins class="diff-chg">        "type_declaration": {
            "oneOf": [{
                    "type": "string"
                },
                {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            ]
</ins>
        },
<del class="diff-old">        "forms": {
          "$ref": "#/definitions/form_declaration"
</del>
<ins class="diff-chg">        "form_element": {
            "type": "object",
            "properties": {
                "href": {
                    "$ref": "#/definitions/url"
                },
                "op": {
                    "oneOf": [{
                            "type": "string",
                            "enum": [
                                "readproperty",
                                "writeproperty",
                                "observeproperty",
                                "invokeaction",
                                "subscribeevent",
                                "unsubscribeevent"
                            ]
                        },
                        {
                            "type": "array",
                            "items": {
                                "type": "string",
                                "enum": [
                                    "readproperty",
                                    "writeproperty",
                                    "observeproperty",
                                    "invokeaction",
                                    "subscribeevent",
                                    "unsubscribeevent"
                                ]
                            }
                        }
                    ]
                },
                "contentType": {
                    "type": "string"
                },
                "security": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "scopes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "subProtocol": {
                    "type": "string",
                    "enum": [
                        "longpoll"
                    ]
                },
                "response": {
                    "type": "object",
                    "properties": {
                        "contentType": {
                            "type": "string"
                        }
                    }
                }
            },
            "required": [
                "href",
                "contentType"
            ],
            "additionalProperties": true
</ins>
        },
<del class="diff-old">        "input": {
          "$ref": "#/definitions/data"
</del>
<ins class="diff-chg">        "property_element": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "descriptions": {
                    "$ref": "#/definitions/descriptions"
                },
                "title": {
                    "type": "string"
                },
                "titles": {
                    "$ref": "#/definitions/titles"
                },
                "uriVariables": {
                    "$ref": "#/definitions/dataSchema"
                },
                "@type": {
                    "$ref": "#/definitions/type_declaration"
                },
                "observable": {
                    "type": "boolean"
                },
                "forms": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/form_element"
                    }
                },
                "scopes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "security": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "enum": {
                    "type": "array",
                    "minItems": 1,
                    "uniqueItems": true
                },
                "const": {},
                "type": {
                    "type": "string",
                    "enum": [
                        "boolean",
                        "integer",
                        "number",
                        "string",
                        "object",
                        "array",
                        "null"
                    ]
                },
                "writeOnly": {
                    "type": "boolean"
                },
                "readOnly": {
                    "type": "boolean"
                },
                "oneOf": {
                    "$ref": "#/definitions/dataSchema"
                },
                "unit": {
                    "$ref": "#/definitions/dataSchema"
                }
            },
            "required": [
                "forms"
            ],
            "additionalProperties": true
</ins>
        },
<del class="diff-old">        "output": {
          "$ref": "#/definitions/data"
</del>
<ins class="diff-chg">        "action_element": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "descriptions": {
                    "$ref": "#/definitions/descriptions"
                },
                "title": {
                    "type": "string"
                },
                "titles": {
                    "$ref": "#/definitions/titles"
                },
                "uriVariables": {
                    "$ref": "#/definitions/dataSchema"
                },
                "@type": {
                    "$ref": "#/definitions/type_declaration"
                },
                "forms": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/form_element"
                    }
                },
                "input": {
                    "$ref": "#/definitions/dataSchema"
                },
                "output": {
                    "$ref": "#/definitions/dataSchema"
                },
                "safe": {
                    "type": "boolean"
                },
                "idempotent": {
                    "type": "boolean"
                },
                "scopes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "security": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                }
            },
            "required": [
                "forms"
            ],
            "additionalProperties": true
</ins>
        },
<del class="diff-old">        "security": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/securityScheme"
          }
</del>
<ins class="diff-chg">        "event_element": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "descriptions": {
                    "$ref": "#/definitions/descriptions"
                },
                "titles": {
                    "$ref": "#/definitions/titles"
                },
                "uriVariables": {
                    "$ref": "#/definitions/dataSchema"
                },
                "title": {
                    "type": "string"
                },
                "@type": {
                    "$ref": "#/definitions/type_declaration"
                },
                "forms": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/form_element"
                    }
                },
                "scopes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "security": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "subscription": {
                    "$ref": "#/definitions/dataSchema"
                },
                "data": {
                    "$ref": "#/definitions/dataSchema"
                },
                "cancellation": {
                    "$ref": "#/definitions/dataSchema"
                },
                "type": {
                    "not": {}
                },
                "enum": {
                    "not": {}
                },
                "const": {
                    "not": {}
                }
            },
            "required": [
                "forms"
            ],
            "additionalProperties": true
</ins>
        },
<del class="diff-old">        "scopes": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      },
      "required": [],
      "additionalProperties": true
    },
    "event_element": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
</del>
<ins class="diff-chg">        "dataSchema": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "title": {
                    "type": "string"
                },
                "enum": {
                    "type": "array",
                    "minItems": 1,
                    "uniqueItems": true
                },
                "const": {},
                "type": {
                    "type": "string",
                    "enum": [
                        "boolean",
                        "integer",
                        "number",
                        "string",
                        "object",
                        "array",
                        "null"
                    ]
                },
                "descriptions": {
                    "$ref": "#/definitions/descriptions"
                },
                "titles": {
                    "$ref": "#/definitions/titles"
                },
                "writeOnly": {
                    "type": "boolean"
                },
                "readOnly": {
                    "type": "boolean"
                },
                "oneOf": {
                    "$ref": "#/definitions/dataSchema"
                },
                "unit": {
                    "$ref": "#/definitions/dataSchema"
                }
            }
</ins>
        },
<del class="diff-old">        "@type": {
          "$ref": "#/definitions/type_declaration"
</del>
<ins class="diff-chg">        "link_element": {
            "type": "object",
            "properties": {
                "anchor": {
                    "$ref": "#/definitions/url"
                },
                "href": {
                    "$ref": "#/definitions/url"
                },
                "rel": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                }
            },
            "required": [
                "href"
            ],
            "additionalProperties": true
</ins>
        },
<del class="diff-old">        "label": {
          "type": "string"
</del>
<ins class="diff-chg">        "securityScheme": {
            "oneOf": [{
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "nosec"
                            ]
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "basic"
                            ]
                        },
                        "in": {
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "cert"
                            ]
                        },
                        "identity": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "digest"
                            ]
                        },
                        "qop": {
                            "type": "string"
                        },
                        "in": {
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "bearer"
                            ]
                        },
                        "authorization": {
                            "$ref": "#/definitions/url"
                        },
                        "alg": {
                            "type": "string"
                        },
                        "format": {
                            "type": "string"
                        },
                        "in": {
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "psk"
                            ]
                        },
                        "identity": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "public"
                            ]
                        },
                        "identity": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "oath2"
                            ]
                        },
                        "authorization": {
                            "$ref": "#/definitions/url"
                        },
                        "token": {
                            "$ref": "#/definitions/url"
                        },
                        "refresh": {
                            "$ref": "#/definitions/url"
                        },
                        "scopes": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "flow": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "apikey"
                            ]
                        },
                        "in": {
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                },
                {
                    "type": "object",
                    "properties": {
                        "description": {
                            "type": "string"
                        },
                        "proxy": {
                            "$ref": "#/definitions/url"
                        },
                        "scheme": {
                            "type": "string",
                            "enum": [
                                "pop"
                            ]
                        },
                        "authorization": {
                            "$ref": "#/definitions/url"
                        },
                        "format": {
                            "type": "string"
                        },
                        "alg": {
                            "type": "string"
                        },
                        "in": {
                            "type": "string"
                        },
                        "name": {
                            "type": "string"
                        }
                    },
                    "required": [
                        "scheme"
                    ]
                }
            ]
</ins>
        },
<del class="diff-old">        "forms": {
          "$ref": "#/definitions/form_declaration"
</del>
<ins class="diff-chg">        "url": {
            "type": "string",
            "format": "uri",
            "pattern": "(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(([^#]*))?(#(.*))?"
</ins>
        },
<del class="diff-old">        "security": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/securityScheme"
          }
</del>
<ins class="diff-chg">        "descriptions": {
            "type": "object"
</ins>
        },
<del class="diff-old">        "scopes": {
          "type": "array",
          "items": {
            "type": "string"
          }
</del>
<ins class="diff-chg">        "titles": {
            "type": "object"
</ins>
        }
<del class="diff-old">      },
      "required": [],
      "additionalProperties": true
    },
    "links": {
      "type": "object",
      "properties": {
        "anchor": {
          "$ref": "#/definitions/url"
        },
        "href": {
          "$ref": "#/definitions/url"
        },
        "rel": {
          "type": "string"
        },
        "mediatype": {
          "type": "string"
</del>
<ins class="diff-chg">    }
}
</ins></pre></section><section id="Thing Templates" class="appendix"><h2 id="b-thing-templates"><span class="secno"><ins class="diff-chg">
B.
</ins></span><ins class="diff-chg">
Thing
Templates
</ins><a class="self-link" aria-label="§" href= "#Thing%20Templates"></a></h2><p><ins class="diff-chg">
A
</ins><em><ins class="diff-chg">
Thing
Template
</ins></em><ins class="diff-chg">
is
a
description
for
a
</ins><em><ins class="diff-chg">
class
</ins></em><ins class="diff-chg">
of
devices
or
things.
It
describes
the
properties,
actions,
events
and
common
metadata
that
are
shared
for
an
entire
group
of
things,
to
enable
the
common
handling
of
thousands
of
devices
by
a
cloud
server,
which
is
not
practical
on
a
per-thing
basis.
The
Thing
Template
uses
the
same
core
vocabulary
and
information
model
from
section
5.
</ins></p><p><ins class="diff-chg">
The
Thing
Template
enables:
</ins></p><ul><li><ins class="diff-chg">
management
of
multiple
things
by
a
cloud
service.
</ins></li><li><ins class="diff-chg">
simulation
of
devices/things
that
have
not
yet
been
developed.
</ins></li><li><ins class="diff-chg">
common
applications
across
devices
from
different
manufacturers
that
share
a
common
thing
model.
</ins></li><li><ins class="diff-chg">
combining
multiple
models
into
a
thing.
</ins></li></ul><p><ins class="diff-chg">
The
Thing
Template
is
a
logical
description
of
the
interface
and
possible
interaction
with
devices
(properties,
actions
and
events),
however
it
does
not
contain
device-specific
information,
such
as
a
serial
number,
GPS
location,
security
information
or
concrete
protocol
endpoints.
</ins></p><p><ins class="diff-chg">
Since
a
Thing
Template
does
not
contain
a
protocol
binding
to
specific
endpoints
and
does
not
define
a
specific
security
mechanism,
the
</ins><em><ins class="diff-chg">
forms
</ins></em><ins class="diff-chg">
and
</ins><em><ins class="diff-chg">
securityDefinitions
</ins></em><ins class="diff-chg">
and
</ins><em><ins class="diff-chg">
security
</ins></em><ins class="diff-chg">
keys
must
not
be
present.
</ins></p><p><ins class="diff-chg">
The
same
Thing
Template
can
be
implemented
by
things
from
multiple
vendors,
a
thing
can
implement
multiple
thing
templates,
define
additional
metadata
(vendor,
location,
security)
and
define
bindings
to
concrete
protocols.
To
avoid
conflicts
between
properties,
actions
and
events
from
different
thing
templates
that
are
combined
into
a
common
thing,
all
thse
identifiers
must
be
unique
within
a
thing.
</ins></p><p><ins class="diff-chg">
A
common
Thing
Template
for
a
class
of
devices
enables
writing
applications
across
vendors
and
creates
a
more
attractive
market
for
application
developers.
A
concrete
Thing
Description
can
implement
multiple
</ins><em><ins class="diff-chg">
Thing
Templates
</ins></em><ins class="diff-chg">
and
thus
can
aggregate
function
blocks
into
a
combined
device.
</ins></p><p><ins class="diff-chg">
The
business
models
of
cloud
vendors
are
typically
built
on
managing
thousands
of
identical
devices.
All
devices
with
the
same
Thing
Template
can
be
managed
in
the
same
way
by
cloud
applications.
It
is
easy
to
create
multiple
simulated
devices,
if
the
interface
and
the
instance
are
treated
separately.
</ins></p><p><ins class="diff-chg">
Since
a
Thing
Template
is
a
Thing
Description,
where
some
optional
parts
are
not
present,
it
can
be
serialized
in
the
same
way
and
into
the
same
formats
as
a
thing
description.
</ins></p><section id="thing-template-examples"><h3 id="b-1-thing-template-examples"><span class="secno"><ins class="diff-chg">
B.1
</ins></span><ins class="diff-chg">
Thing
Template
Examples
</ins><a class="self-link" aria-label="§" href= "#thing-template-examples"></a></h3><p><ins class="diff-chg">
This
section
defines
a
Thing
Template
for
a
lamp
and
a
Thing
Template
for
a
a
buzzer.
The
combined
thing
BuzzerLamp
includes
both
thing
templates.
</ins></p><section id="lamp-thing-template"><h4 id="b-1-1-thing-template-lamp"><span class="secno"><ins class="diff-chg">
B.1.1
</ins></span><ins class="diff-chg">
Thing
Template:
Lamp
</ins><a class="self-link" aria-label="§" href= "#lamp-thing-template"></a></h4><div class="example" id= "ex-33-mylampthingtemplate-serialized-in-json"><div class="marker"><a class="self-link" href= "#ex-33-mylampthingtemplate-serialized-in-json"><ins class="diff-chg">
Example
33
</ins></a><span class="example-title">:<ins class="diff-chg">
MyLampThingTemplate
serialized
in
JSON
</ins></span></div><pre class="hljs json" aria-busy="false">{    <span class="hljs-attr">"@context"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"http://www.w3.org/ns/td"</span>], 
</ins>    <span class="hljs-attr">"@type"</span> : <span class=<ins class="diff-chg">
"hljs-string">"ThingTemplate"</span>,
</ins>    <span class="hljs-attr">"id"</span>: <span class=<ins class="diff-chg">
"hljs-string">"urn:dev:wot:com:example:servient:lamp:model"</span>,
</ins>    <span class="hljs-attr">"name"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Lamp Thing Template"</span>,
</ins>    <span class="hljs-attr">"description"</span> : <span class=<ins class="diff-chg">
"hljs-string">"Lamp Thing Template"</span>,
</ins>    <span class="hljs-attr">"properties"</span>: {        <span class="hljs-attr">"status"</span>: {            <span class=<ins class="diff-chg">
"hljs-attr">"description"</span> : <span class=
"hljs-string">"current status of the lamp (on|off)"</span>,
</ins>            <span class="hljs-attr">"type"</span>: <span class=<ins class="diff-chg">
"hljs-string">"string"</span>,
</ins>            <span class="hljs-attr">"readOnly"</span>: <span class=<ins class="diff-chg">
"hljs-literal">true</span>
</ins>
        }
<del class="diff-old">      },
      "required": [
        "href"
      ],
      "additionalProperties": true
</del>
    },
<del class="diff-old">    "securityScheme": {
      "type": "object"
    },
    "url": {
      "type": "string",
      "format": "uri",
      "pattern": "(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(([^#]*))?(#(.*))?"
    },
    "jsonld_url": {
      "type": "string",
      "format": "uri",
      "pattern": "http://[^/?#]*|https://[^/?#]*"
</del>
    <span class="hljs-attr">"actions"</span>: {
        <span class="hljs-attr">"toggle"</span>: {
            <span class=
<ins class="diff-chg">"hljs-attr">"description"</span> : <span class=
"hljs-string">"Turn the lamp on or off"</span>
        }
</ins>
    },
<del class="diff-old">    "data": {
      "title": "Data type",
      "anyOf": [
        {
          "description": "URI of an XSD built-in type",
          "type": "string"
</del>
    <span class="hljs-attr">"events"</span>: {
        <span class="hljs-attr">"overheating"</span>: {
            <span class=
<ins class="diff-chg">"hljs-attr">"description"</span> : <span class=
"hljs-string">"Lamp reaches a critical temperature (overheating)"</span>,
</ins>            <span class="hljs-attr">"data"</span>: {<span class=<ins class="diff-chg">
"hljs-attr">"type"</span>: <span class=
"hljs-string">"string"</span>}
        }
    }
}
</ins></pre></div></section><section id="buzzer-thing-template"><h4 id="b-1-2-thing-template-buzzer"><span class= "secno"><ins class="diff-chg">
B.1.2
</ins></span><ins class="diff-chg">
Thing
Template:
Buzzer
</ins><a class="self-link" aria-label="§" href="#buzzer-thing-template"></a></h4><div class="example" id= "ex-34-mylampthingtemplate-serialized-in-json"><div class="marker"><a class="self-link" href= "#ex-34-mylampthingtemplate-serialized-in-json"><ins class="diff-chg">
Example
34
</ins></a><span class="example-title">:<ins class="diff-chg">
MyLampThingTemplate
serialized
in
JSON
</ins></span></div><pre class="hljs json" aria-busy="false">{    <span class="hljs-attr">"@context"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"http://www.w3.org/ns/td"</span>], 
</ins>    <span class="hljs-attr">"@type"</span> : <span class=<ins class="diff-chg">
"hljs-string">"ThingTemplate"</span>,
</ins>    <span class="hljs-attr">"id"</span>: <span class=<ins class="diff-chg">
"hljs-string">"urn:dev:wot:com:example:servient:buzzer:template"</span>,
</ins>    <span class="hljs-attr">"name"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Buzzer Thing Template"</span>,
</ins>    <span class="hljs-attr">"description"</span> : <span class=<ins class="diff-chg">
"hljs-string">"Thing template of a buzzer that makes noise for 10 seconds"</span>,
</ins>     <span class="hljs-attr">"actions"</span>: {        <span class="hljs-attr">"buzz"</span>: {            <span class=<ins class="diff-chg">
"hljs-attr">"description"</span> : <span class=
"hljs-string">"buzz for 10 seconds"</span>
        }
     }
}
</ins></pre></div></section><section id="combination-lamp-buzzer-thingl"><h4 id="b-1-3-combined-thing-lamp-buzzer"><span class= "secno"><ins class="diff-chg">
B.1.3
</ins></span><ins class="diff-chg">
Combined
Thing:
Lamp
+
Buzzer
</ins><a class= "self-link" aria-label="§" href= "#combination-lamp-buzzer-thingl"></a></h4><p><ins class="diff-chg">
The
following
example
illustrates
how
a
combined
thing
can
be
defined
using
two
different
thing
templates.
</ins></p><div class="example" id= "ex-35-combined-thing-lamp-buzzer-json-ld1-1-serialisation"><div class="marker"><a class="self-link" href= "#ex-35-combined-thing-lamp-buzzer-json-ld1-1-serialisation"><ins class="diff-chg">
Example
35
</ins></a><span class="example-title">:<ins class="diff-chg">
Combined
Thing:
Lamp
+
Buzzer
(JSON-LD1.1
serialisation)
</ins></span></div><pre class="hljs javascript" aria-busy="false">{   <span class="hljs-string">"@context"</span>: [<span class=<ins class="diff-chg">
"hljs-string">"http://www.w3.org/ns/td"</span>], 
</ins>   <span class="hljs-string">"@type"</span> : [        <span class="hljs-string">"Thing"</span>,        <span class=<ins class="diff-chg">
"hljs-string">"urn:dev:wot:com:example:servient:lamp:template"</span>,
</ins>        <span class=<ins class="diff-chg">
"hljs-string">"urn:dev:wot:com:example:servient:buzzer:template"</span>
    ],
</ins>    <span class="hljs-string">"id"</span>: <span class=<ins class="diff-chg">
"hljs-string">"urn:dev:wot:com:example:servient:combinedBuzzerLamp1"</span>,
</ins>    <span class="hljs-string">"name"</span>: <span class=<ins class="diff-chg">
"hljs-string">"My Buzzing Lamp Thing"</span>,
</ins>    <span class="hljs-string">"description"</span> : <span class=<ins class="diff-chg">
"hljs-string">"A lamp that can issue an alert"</span>,
</ins>    <span class="hljs-string">"security"</span>: [{<span class=<ins class="diff-chg">
"hljs-string">"scheme"</span>: <span class=
"hljs-string">"basic"</span>}],
    {
</ins>        <span class="hljs-string">"id"</span>: <span class=<ins class="diff-chg">
"hljs-string">"urn:dev:wot:com:example:servient:lamp:template"</span>,
</ins>        <span class="hljs-string">"name"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Lamp Thing Template"</span>,
</ins>        <span class=<ins class="diff-chg">
"hljs-string">"description"</span> : <span class=
"hljs-string">"Thing Template for a lamp"</span>,
</ins>        <span class="hljs-string">"properties"</span>: {            <span class="hljs-string">"status"</span>: {                <span class=<ins class="diff-chg">
"hljs-string">"description"</span> : <span class=
"hljs-string">"current status of the lamp (on|off)"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"type"</span>: <span class=
"hljs-string">"string"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"readOnly"</span>: <span class=
"hljs-literal">true</span>,
</ins>                <span class="hljs-string">"forms"</span>: [{                <span class=<ins class="diff-chg">
"hljs-string">"href"</span>: <span class=
"hljs-string">"coaps://buzzlamp.example.com/status"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>
                }]
            }
</ins>
        },
<del class="diff-old">        {
          "description": "URI and media type for a complex type (XSD, SenML...)",
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "href": {
              "type": "string"
            },
            "mediatype": {
              "type": "string"
</del>
        <span class="hljs-string">"actions"</span>: {
            <span class="hljs-string">"toggle"</span>: {
                <span class=
<ins class="diff-chg">"hljs-string">"description"</span> : <span class=
"hljs-string">"Turn on or off the lamp"</span>,
</ins>                <span class="hljs-string">"forms"</span>: [{                    <span class=<ins class="diff-chg">
"hljs-string">"href"</span>: <span class=
"hljs-string">"coaps://buzzlamp.example.com/toggle"</span>,
</ins>                    <span class=<ins class="diff-chg">
"hljs-string">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>
                }]
</ins>
            }
<del class="diff-old">          },
          "required": [
            "name",
            "href",
            "mediatype"
          ]
</del>
        },
<del class="diff-old">        {
          "$ref": "http://json-schema.org/draft-06/schema#"
</del>
        <span class="hljs-string">"events"</span>: {
            <span class="hljs-string">"overheating"</span>: {
                <span class=
<ins class="diff-chg">"hljs-string">"@type"</span> : <span class=
"hljs-string">"iot:TemperatureAlarm"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"description"</span> : <span class=
"hljs-string">"Lamp reaches a critical temperature (overheating)"</span>,
</ins>                <span class=<ins class="diff-chg">
"hljs-string">"data"</span>: {<span class=
"hljs-string">"type"</span>: <span class=
"hljs-string">"string"</span>},
</ins>                <span class="hljs-string">"forms"</span>: [{                    <span class=<ins class="diff-chg">
"hljs-string">"href"</span>: <span class=
"hljs-string">"coaps://buzzlamp.example.com/oh"</span>,
</ins>                    <span class=<ins class="diff-chg">
"hljs-string">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>
                }]
            }
</ins>
        }
<del class="diff-old">      ]
</del>
    },
<del class="diff-old">    "dataSchema": {
      "type": "object",
      "properties": {
        "description": {
          "type": "string"
        },
        "enum": {
          "type": "array",
          "items": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "boolean"
              },
              {
                "type": "object"
              },
              {
                "type": "number"
              },
              {
                "type": "array"
              }
            ]
          }
        },
        "type": {
          "type": "string",
          "enum": [
            "string",
            "boolean",
            "object",
            "number",
            "array"
          ]
        }
      }
</del>
<ins class="diff-chg">    {
</ins>        <span class="hljs-string">"id"</span>: <span class=<ins class="diff-chg">
"hljs-string">"urn:dev:wot:com:example:servient:buzzer:template"</span>,
</ins>        <span class="hljs-string">"name"</span>: <span class=<ins class="diff-chg">
"hljs-string">"Buzzer Thing Template"</span>,
</ins>        <span class=<ins class="diff-chg">
"hljs-string">"description"</span> : <span class=
"hljs-string">"Thing Template of a buzzer that makes noise for 10 seconds"</span>,
</ins>         <span class="hljs-string">"actions"</span>: {            <span class="hljs-string">"buzz"</span>: {                <span class=<ins class="diff-chg">
"hljs-string">"description"</span> : <span class=
"hljs-string">"buzz for 10 seconds"</span>,
</ins>                <span class="hljs-string">"forms"</span>: [{                    <span class=<ins class="diff-chg">
"hljs-string">"href"</span>: <span class=
"hljs-string">"coaps://buzzlamp.example.com/buzz"</span>,
</ins>                    <span class=<ins class="diff-chg">
"hljs-string">"contentType"</span>: <span class=
"hljs-string">"application/json"</span>
                }]
            }
         }
</ins>
    }
<del class="diff-old">  }
</del>
}
</pre>
</div>
</section>
</section>
</section>
<section id="changes" class="appendix">
<h2 id="c-recent-specification-changes">
<span class= "secno">
<del class="diff-old">B.
</del>
<ins class="diff-chg">C.
</ins>
</span>
Recent
Specification
Changes
<a class="self-link" aria-label="§" href="#changes">
</a>
</h2>
<section id="changes-from-third-public-working-draft">
<h3 id="changes3">
<span class="secno">
<ins class="diff-chg">C.1
</ins></span>
Changes
from
<del class="diff-old">Second
</del>
<ins class="diff-chg">Third
</ins>
Public
Working
Draft
<a class="self-link" aria-label="§" href= "#changes-from-third-public-working-draft">
</a>
</h3>
<ul>
<li>
<del class="diff-old">The
default
serialization
format
for
Thing
Description
</del>
<a href="#multilanguage">
<ins class="diff-chg">Multi-language
</ins></a>
is
<del class="diff-old">now
plain
JSON.
Thing
Description
instances
still
MAY
contain
JSON-LD
keys
</del>
<ins class="diff-chg">supported
for
human-readable
text
</ins>
such
as
<code>
<del class="diff-old">@context
</del>
<ins class="diff-chg">descriptions
</ins>
</code>
and
<code>
<del class="diff-old">@type
for
facilitating
semantic
evaluation
of
TDs.
(see
Section
6.1
Representation
Format
</del>
<ins class="diff-chg">titles
</ins></code>.</li><li>
<a href="#nullschema">
<ins class="diff-new">NullSchema
</ins>
</a>
<del class="diff-old">)
</del>
<ins class="diff-chg">class
was
added.
</ins>
</li>
<li>
<del class="diff-old">With
regards
</del>
<a href="#form">
<ins class="diff-chg">Form
</ins></a><ins class="diff-chg">
class's
now
contains
</ins><code><ins class="diff-chg">
response
</ins></code><ins class="diff-chg">
member
that
can
be
used
</ins>
to
<del class="diff-old">JSON-LD,
this
Thing
Description
draft
uses
JSON-LD
1.1
instead
of
JSON-LD
1.0.
With
this
transition,
all
vocabulary
terms
defined
</del>
<ins class="diff-chg">describe
metadata
for
response
messages.
</ins></li><li><ins class="diff-chg">
A
term
"oneOf"
was
added
</ins>
in
<del class="diff-old">vocabulary
definition
sections
now
have
a
JSON
key
representation.
Previously,
there
</del>
<a href= "#dataschema">
<ins class="diff-chg">DataSchema
</ins></a><ins class="diff-chg">
class.
</ins></li><li><ins class="diff-chg">
Postfix
"Url"
</ins>
were
<del class="diff-old">vocabulary
terms
represented
as
key
values
in
TDs.
</del>
<ins class="diff-chg">removed
from
all
security
terms.
</ins>
</li>
<li>
<del class="diff-old">In
addition
</del>
<ins class="diff-chg">Add
</ins><code><ins class="diff-chg">
securityDefinitions
</ins></code>,<ins class="diff-chg">
update
examples
using
</ins><code><ins class="diff-chg">
security
</ins></code>
to
<del class="diff-old">Thing
Description
core
vocabulary,
Thing
Description
now
has
the
data
schema
vocabulary
reflecting
a
subset
of
JSON
Schema
terms
as
linked
data
representation
(see
Section
5.3
Data
Schema
Vocabulary
Definition
)
</del>
<ins class="diff-chg">use
defined
names,
not
SecurityScheme
objects.
</ins></li><li><ins class="diff-chg">
Security
</ins>
and
<del class="diff-old">the
security
vocabulary
(see
Section
</del>
<ins class="diff-chg">Privacy
Considerations
section
(Section
</ins><a href= "#sec-security-consideration" class="sec-ref">
<span class= "secno">
<del class="diff-old">5.4
</del>
<ins class="diff-chg">8.
</ins>
</span>
<span class="sec-title">
Security
<del class="diff-old">Vocabulary
Definition
</del>
<ins class="diff-chg">and
Privacy
Considerations
</ins>
</span>
</a>
)
<ins class="diff-new">was
added.
</ins></li><li><ins class="diff-new">
Add
an
</ins><a href= "#ex-21-example-21-securitydefinitions-oauth2_sc-scheme-oauth2-scopes-limited-special-security-oauth2_sc-properties-status-forms-href-https-scopes-example-com-status-contenttype-application-json-scopes-limited-action-configure-forms-href-https-scopes-example-com-configure-contenttype-application-json-scopes-special"><ins class="diff-new">
example
</ins></a>
for
<del class="diff-old">defining
security
based
conditions.
</del>
<ins class="diff-chg">the
use
of
</ins><code><ins class="diff-chg">
scopes
</ins></code>.
</li>
<li>
<del class="diff-old">A
security
field
is
available
at
three
levels
(Thing,
Interaction
Patterns
and
Forms)
</del>
<ins class="diff-chg">Remove
all
Url
postfixes
in
parameter
names
</ins>
for
<del class="diff-old">providing
</del>
security
<del class="diff-old">requirements
for
accessing
resources.
Security
configuration
</del>
<ins class="diff-chg">schemes.
</ins></li><li><ins class="diff-chg">
Make
it
clear
that
the
top-level
</ins><a href= "#security-serialization-json"><code><ins class="diff-chg">
security
</ins></code></a><ins class="diff-chg">
declaration
</ins>
is
<del class="diff-old">mandatory
for
each
</del>
<ins class="diff-chg">mandatory.
</ins></li><li><a href="#dataschema"><ins class="diff-chg">
DataSchema
</ins></a><ins class="diff-chg">
class
now
has
an
optional
</ins>
<code>
<del class="diff-old">form
.
</del>
<ins class="diff-chg">unit
</ins></code><ins class="diff-chg">
member
to
provide
unit
information.
</ins>
</li>
<li>
<del class="diff-old">Some
vocabulary
terms
(e.g.,
</del>
<a href="#link">
<ins class="diff-chg">Link
</ins></a><ins class="diff-chg">
class's
</ins>
<code>
<del class="diff-old">writable
,
</del>
<ins class="diff-chg">mediaType
</ins></code><ins class="diff-chg">
member
was
renamed
to
</ins>
<code>
<del class="diff-old">observable
</del>
<ins class="diff-chg">type
</ins>
</code>,
<ins class="diff-new">and
the
member
was
given
an
improved
description.
</ins></li><li><a href="#form"><ins class="diff-new">
Form
</ins></a><ins class="diff-new">
class's
</ins>
<code>
mediaType
</code>
<del class="diff-old">)
now
have
default
values
that
are
used
by
Thing
Description
processors
when
they
are
absent
in
TD
instances
(see
Section
5.2
Core
Vocabulary
Definition
).
Note
</del>
<ins class="diff-chg">member
was
renamed
to
</ins><code><ins class="diff-chg">
contentType
</ins></code><ins class="diff-chg">
to
reflect
</ins>
that
<del class="diff-old">some
security
vocabulary
terms
</del>
<ins class="diff-chg">it
</ins>
can
<ins class="diff-new">assign
not
only
a
media
type
but
</ins>
also
<del class="diff-old">have
such
values
(see
Section
5.4
Security
Vocabulary
Definition
).
</del>
<ins class="diff-chg">its
parameter
settings.
</ins>
</li>
<li>
<del class="diff-old">Things
</del>
<a href="#action">
<ins class="diff-chg">Action
</ins></a><ins class="diff-chg">
class
</ins>
now
<del class="diff-old">have
a
mandatory
field
</del>
<ins class="diff-chg">has
optional
</ins>
<code>
<del class="diff-old">id
</del>
<ins class="diff-chg">safe
</ins>
</code>
<del class="diff-old">for
uniquely
identifying
a
Thing,
</del>
and
<del class="diff-old">an
optional
field
</del>
<code>
<del class="diff-old">support
</del>
<ins class="diff-chg">idempotent
</ins>
</code>
<ins class="diff-new">members
</ins>
to
provide
information
<del class="diff-old">about
Thing
Description
maintainer.
</del>
<ins class="diff-chg">as
to
the
safeness
and
idempotency
of
the
action.
</ins>
</li>
<li>
<del class="diff-old">Interaction
patterns
have
an
</del>
<a href="#thing">
<ins class="diff-chg">Thing
</ins></a><ins class="diff-chg">
class
now
has
</ins>
optional
<code>
<del class="diff-old">label
</del>
<ins class="diff-chg">created
</ins>
</code>
<del class="diff-old">field
providing
text
for
such
uses
</del>
<ins class="diff-chg">and
</ins><code><ins class="diff-chg">
lastModified
</ins></code><ins class="diff-chg">
members
to
provide
information
</ins>
as
<del class="diff-old">user
interfaces.
The
</del>
<ins class="diff-chg">to
when
the
TD
instance
was
created
(in
the
case
of
</ins>
<code>
<del class="diff-old">rel
</del>
<ins class="diff-chg">created
</ins>
</code>
<del class="diff-old">attribute
for
</del>
<ins class="diff-chg">)
or
was
last
modified
(in
the
case
of
</ins>
<code>
<del class="diff-old">form
</del>
<ins class="diff-chg">lastModified
</ins>
</code>
<del class="diff-old">now
has
enumerated
allowable
values
specified.
</del>
<ins class="diff-chg">).
</ins>
</li>
<li>
<del class="diff-old">JSON-LD
@context
key
value
to
represent
the
Thing
description
context
file
</del>
<ins class="diff-chg">Property
interactions
are
</ins>
now
<del class="diff-old">is
</del>
<ins class="diff-chg">both
readable
and
writable
by
default.
This
can
be
overridden
through
</ins>
<code>
<del class="diff-old">http://www.w3.org/ns/td
.
</del>
<ins class="diff-chg">readOnly
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
writeOnly
</ins></code><ins class="diff-chg">
member
settings
available
in
</ins><a href= "#dataschema"><ins class="diff-chg">
DataSchema
</ins></a><ins class="diff-chg">
class.
</ins>
</li>
<li>
<del class="diff-old">Added
a
section
about
media
types
used
for
exchanging
TDs.
(see
Section
</del>
<del class="diff-old">6.2
Media
Type
</del>
<a href="#interactionpattern">
<ins class="diff-chg">InteractionPattern
</ins></a><ins class="diff-chg">
class's
</ins><code><ins class="diff-chg">
label
</ins></code><ins class="diff-chg">
member
was
renamed
as
</ins><code><ins class="diff-chg">
title
</ins></code><ins class="diff-chg">
to
be
consistent
with
JSON
Schema.
</ins></li><li>
<a href="#form">
<ins class="diff-new">Form
</ins>
</a>
<del class="diff-old">)
</del>
<ins class="diff-chg">class's
</ins><code><ins class="diff-chg">
rel
</ins></code><ins class="diff-chg">
member
was
renamed
as
</ins><code><ins class="diff-chg">
op
</ins></code>.
</li>
<li>
<del class="diff-old">Added
a
section
about
implementation
notes
</del>
<a href="#event">
<ins class="diff-chg">Event
</ins></a><ins class="diff-chg">
class
now
has
optional
</ins><code><ins class="diff-chg">
subscription
</ins></code><ins class="diff-chg">
and
</ins><code><ins class="diff-chg">
cancellation
</ins></code><ins class="diff-chg">
members
</ins>
that
<del class="diff-old">provide
useful
clarifications
</del>
<ins class="diff-chg">define
data
that
needs
</ins>
to
<del class="diff-old">implementers.
(see
Section
6.3
Implementation
Notes
</del>
<ins class="diff-chg">be
passed
upon
subscription
and
cancellation,
respectively.
</ins></li><li>
<a href="#interactionpattern">
<ins class="diff-new">InteractionPattern
</ins>
</a>
<del class="diff-old">)
</del>
<ins class="diff-chg">class
now
has
an
optional
</ins><code><ins class="diff-chg">
uriVariables
</ins></code><ins class="diff-chg">
member
where
URI
template
variables
can
be
defined.
</ins>
</li>
<li>
<del class="diff-old">A
JSON
Schema
is
provided
in
an
appendix
section
to
facilitate
the
validation
of
Thing
Description
instances.
(see
Section
A.
JSON
Schema
for
TD
Instance
Validation
</del>
<a href="#thing">
<ins class="diff-new">Thing
</ins>
</a>
<del class="diff-old">)
</del>
<ins class="diff-chg">class
now
has
an
optional
</ins><code><ins class="diff-chg">
version
</ins></code><ins class="diff-chg">
member
for
providing
version
information.
</ins>
</li>
</ul>
</section>
<section id="changes-from-second-public-working-draft">
<h3 id="changes2">
<span class="secno">
<ins class="diff-chg">C.2
</ins></span>
Changes
from
<del class="diff-old">First
</del>
<ins class="diff-chg">Second
</ins>
Public
Working
Draft
<a class="self-link" aria-label="§" href="#changes-from-second-public-working-draft">
</a>
</h3>
<p>
Changes
from
<del class="diff-old">First
</del>
<ins class="diff-chg">Second
</ins>
Public
Working
Draft
are
described
in
the
<del class="diff-old">Second
</del>
<a href= "https://www.w3.org/TR/2018/WD-wot-thing-description-20181021/#changes">
<ins class="diff-chg">Third
</ins>
Public
Working
Draft
</a>
</p>
</section>
</section>
<section id="acknowledgements" class="appendix normative">
<h2 id="d-acknowledgements">
<span class="secno">
<del class="diff-old">C.
</del>
<ins class="diff-chg">D.
</ins>
</span>
<del class="diff-old">Acknowledgments
</del>
<ins class="diff-chg">Acknowledgements
</ins>
<a class="self-link" aria-label="§" href= "#acknowledgements">
</a>
</h2>
<p>
The
editors
would
like
to
thank
Dave
Raggett,
Matthias
Kovatsch,
Michael
McCool,
Michael
Koster,
Victor
Charpenay,
Kawaguchi
Toru,
Michael
Lagally,
Kazuyuki
Ashimura,
María
Poveda,
Daniel
Peintner,
Ben
Francis
for
their
contributions,
comments,
and
guidance.
</p>
</section>
<section id="references" class="appendix">
<h2 id="e-references">
<span class="secno">
<del class="diff-old">D.
</del>
<ins class="diff-chg">E.
</ins>
</span>
References
<a class="self-link" aria-label="§" href= "#references">
</a>
</h2>
<section id="normative-references">
<h3 id="e-1-normative-references">
<span class="secno">
<del class="diff-old">D.1
</del>
<ins class="diff-chg">E.1
</ins>
</span>
Normative
references
<a class="self-link" aria-label="§" href= "#normative-references">
</a>
</h3>
<dl class="bibliography">
<dt id="bib-bcp47">
<ins class="diff-new">[BCP47]
</ins></dt><dd><a href="https://tools.ietf.org/html/bcp47"><cite><ins class="diff-new">
Tags
for
Identifying
Languages
</ins></cite></a>.<ins class="diff-new">
A.
Phillips;
M.
Davis.
IETF.
2009.
Request
for
Comments.
URL:
</ins><a href= "https://tools.ietf.org/html/bcp47"><ins class="diff-new">
https://tools.ietf.org/html/bcp47
</ins></a></dd>
<dt id="bib-mediatypes">
[MEDIATYPES]
</dt>
<dd>
<a href= "https://www.iana.org/assignments/media-types/media-types.xhtml">
<cite>
Media
Types
</cite>
</a>.
IANA.
URL:
<a href= "https://www.iana.org/assignments/media-types/media-types.xhtml">
https://www.iana.org/assignments/media-types/media-types.xhtml
</a>
</dd>
<dt id="bib-rfc2119">
[RFC2119]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc2119">
<cite>
Key
words
for
use
in
RFCs
to
Indicate
Requirement
Levels
</cite>
</a>.
S.
Bradner.
IETF.
March
1997.
Best
Current
Practice.
URL:
<a href= "https://tools.ietf.org/html/rfc2119">
https://tools.ietf.org/html/rfc2119
</a>
</dd>
<dt id="bib-rfc3986">
[RFC3986]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc3986">
<cite>
Uniform
Resource
Identifier
(URI):
Generic
Syntax
</cite>
</a>.
T.
Berners-Lee;
R.
Fielding;
L.
Masinter.
IETF.
January
2005.
Internet
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc3986">
https://tools.ietf.org/html/rfc3986
</a>
</dd>
<dt id="bib-rfc6570">
<ins class="diff-new">[RFC6570]
</ins></dt><dd><a href="https://tools.ietf.org/html/rfc6570"><cite><ins class="diff-new">
URI
Template
</ins></cite></a>.<ins class="diff-new">
J.
Gregorio;
R.
Fielding;
M.
Hadley;
M.
Nottingham;
D.
Orchard.
IETF.
March
2012.
Proposed
Standard.
URL:
</ins><a href= "https://tools.ietf.org/html/rfc6570"><ins class="diff-new">
https://tools.ietf.org/html/rfc6570
</ins></a></dd>
<dt id="bib-rfc8259">
[RFC8259]
</dt>
<dd>
<a href="https://tools.ietf.org/html/rfc8259">
<cite>
The
JavaScript
Object
Notation
(JSON)
Data
Interchange
Format
</cite>
</a>.
T.
Bray,
Ed..
IETF.
December
2017.
Internet
Standard.
URL:
<a href= "https://tools.ietf.org/html/rfc8259">
https://tools.ietf.org/html/rfc8259
</a>
</dd>
<dt id="bib-wot-architecture">
[WOT-ARCHITECTURE]
</dt>
<dd>
<a href="https://w3c.github.io/wot-architecture/">
<cite>
Web
of
Things
Architecture
</cite>
</a>.
Kazuo
Kajimoto;
Matthias
Kovatsch;
Uday
Davuluru.
W3C.
20
August
2017.
URL:
<a href= "https://w3c.github.io/wot-architecture/">
https://w3c.github.io/wot-architecture/
</a>
</dd>
<dt id="bib-wot-protocol-binding">
[WOT-PROTOCOL-BINDING]
</dt>
<dd>
<a href= "https://w3c.github.io/wot-binding-templates/">
<cite>
Web
of
Things
Protocol
Binding
Templates
</cite>
</a>.
Michael
Koster.
W3C.
12
January
2018.
URL:
<a href= "https://w3c.github.io/wot-binding-templates/">
https://w3c.github.io/wot-binding-templates/
</a>
</dd>
<dt id="bib-wot-security-best-practices">
<ins class="diff-new">[WOT-SECURITY-BEST-PRACTICES]
</ins></dt><dd><a href= "https://github.com/w3c/wot-security/blob/master/wot-security-best-practices.md"><cite><ins class="diff-new">
Web
of
Things
Security
and
Privacy
Best
Practices
(WIP)
</ins></cite></a>.<ins class="diff-new">
;
Michael
McCool;
Elena
Reshetova.
W3C.
WIP.
URL:
</ins><a href= "https://github.com/w3c/wot-security/blob/master/wot-security-best-practices.md"><ins class="diff-new">
https://github.com/w3c/wot-security/blob/master/wot-security-best-practices.md
</ins></a></dd><dt id="bib-wot-security-considerations"><ins class="diff-new">
[WOT-SECURITY-CONSIDERATIONS]
</ins></dt><dd><a href="https://w3c.github.io/wot-security/"><cite><ins class="diff-new">
Web
of
Things
Security
and
Privacy
Considerations
</ins></cite></a>.<ins class="diff-new">
;
Michael
McCool;
Elena
Reshetova.
W3C.
28
August
2017.
URL:
</ins><a href= "https://w3c.github.io/wot-security/"><ins class="diff-new">
https://w3c.github.io/wot-security/
</ins></a></dd>
</dl>
</section>
<section id="informative-references">
<h3 id="e-2-informative-references">
<span class="secno">
<del class="diff-old">D.2
</del>
<ins class="diff-chg">E.2
</ins>
</span>
Informative
references
<a class="self-link" aria-label="§" href= "#informative-references">
</a>
</h3>
<dl class="bibliography">
<dt id="bib-json-schema-validation">
[JSON-SCHEMA-VALIDATION]
</dt>
<dd>
<a href= "https://tools.ietf.org/html/draft-handrews-json-schema-validation-00">
<cite>
JSON
Schema
Validation:
A
Vocabulary
for
Structural
Validation
of
JSON
</cite>
</a>.
Austin
Wright;
Henry
Andrews;
Geraint
Luff.
IETF.
Internet-Draft.
URL:
<a href= "https://tools.ietf.org/html/draft-handrews-json-schema-validation-00">
https://tools.ietf.org/html/draft-handrews-json-schema-validation-00
</a>
</dd>
<dt id="bib-openapi">
[OPENAPI]
</dt>
<dd>
<a href="https://swagger.io/specification/">
<cite>
OpenAPI
Specification:
Version
3.0.1
</cite>
</a>.
Darrel
Miller;
Jason
Harmon;
Jeremy
Whitlock;
Kris
Hahn;
Marsh
Gardiner;
Mike
Ralphson;
Rob
Dolin;
Ron
Ratovsky;
Tony
Tam.
OpenAPI
Initiative,
Linux
Foundation.
7
December
2017.
URL:
<a href= "https://swagger.io/specification/">
https://swagger.io/specification/
</a>
</dd>
<dt id="bib-semver">
<ins class="diff-new">[SemVer]
</ins></dt><dd><a href="https://semver.org/"><cite><ins class="diff-new">
Semantic
Versioning
2.0.0
</ins></cite></a>.<ins class="diff-new">
Tom
Preston-Werner.26
December
2017.
URL:
</ins><a href="https://semver.org/"><ins class="diff-new">
https://semver.org/
</ins></a></dd>
</dl>
</section>
</section>
<p role="navigation" id="back-to-top">
<a href="#title">
<abbr title= "Back to Top">
↑
</abbr>
</a>
</p>
<script src="https://www.w3.org/scripts/TR/2016/fixup.js">
</script>
</body>
</html>
